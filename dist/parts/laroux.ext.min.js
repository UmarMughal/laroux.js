/*! laroux 27-11-2014 */
!function(a){"use strict";a.anim={data:[],fx:{interpolate:function(a,b,c){return a+(b-a)*c},easing:function(a){return-Math.cos(a*Math.PI)/2+.5}},set:function(b){b.startTime=null,(void 0===b.unit||null===b.unit)&&(b.unit=""),(void 0===b.from||null===b.from)&&(b.from=b.object===document.body&&"scrollTop"==b.property?document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:b.object[b.property]),"string"==typeof b.from&&(b.from=Number(b.from)),(void 0===b.reset||null===b.reset)&&(b.reset=!1),a.anim.data.push(b),1===a.anim.data.length&&requestAnimationFrame(a.anim.onframe)},setCss:function(b){(void 0===b.from||null===b.from)&&(b.from=a.css.getProperty(b.object,b.property)),b.object=b.object.style,b.property=a.helpers.camelCase(b.property),a.anim.set(b)},remove:function(b){var c=null;for(var d in a.anim.data)if(a.anim.data.hasOwnProperty(d)){var e=a.anim.data[d];if(void 0!==e.id&&e.id==b){c=d;break}}return null!==c?(a.anim.data.splice(c,1),!0):!1},onframe:function(b){var c=[];for(var d in a.anim.data)if(a.anim.data.hasOwnProperty(d)){var e=a.anim.data[d];null===e.startTime&&(e.startTime=b);var f=a.anim.step(e,b);f===!1?c.unshift(d):b>e.startTime+e.time&&(e.reset?(e.startTime=b,newanim.object===document.body&&"scrollTop"==newanim.property?scrollTo(0,e.from):e.object[e.property]=e.from):c.unshift(d))}for(var g in c)c.hasOwnProperty(g)&&a.anim.data.splice(c[g],1);a.anim.data.length>0&&requestAnimationFrame(a.anim.onframe)},step:function(b,c){var d=b.startTime+b.time,e=c>d?1:(c-b.startTime)/b.time,f=a.anim.fx.interpolate(b.from,b.to,a.anim.fx.easing(e))+b.unit;b.object===document.body&&"scrollTop"==b.property?scrollTo(0,f):b.object[b.property]=f}}}(this.laroux),function(a){"use strict";a.date={parseEpoch:function(a,b){return 3e3>=a?"now":6e4>a?(a=Math.ceil(a/1e3),a+" seconds"):36e5>a?(a=Math.ceil(a/6e4),1==a?"a minute":a+" minutes"):864e5>a?(a=Math.ceil(a/36e5),1==a?"an hour":a+" hours"):6048e5>a?(a=Math.ceil(a/864e5),1==a?"a day":a+" days"):24192e5>a?(a=Math.ceil(a/6048e5),1==a?"a week":a+" weeks"):b===!0?null:18144e6>a?(a=Math.ceil(a/2592e6),1==a?"a month":a+" months"):(a=Math.ceil(a/31536e6),1==a?"a year":a+" years")},monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],getDateString:function(b,c){var d,e=Date.now(),f=("0"+b.getDate()).substr(-2,2),g=("0"+(b.getMonth()+1)).substr(-2,2),h=a.date.monthsShort[b.getMonth()],i=b.getFullYear(),j=e-b.getTime();0>j?(d=!0,j=Math.abs(j)):d=!1;var k=a.date.parseEpoch(j,!0);return null!==k?d?k+" later":k:c?f+" "+h+" "+i:f+"."+g+"."+i},getLongDateString:function(b,c,d){var e,f=("0"+b.getDate()).substr(-2,2),g=("0"+(b.getMonth()+1)).substr(-2,2),h=a.date.monthsShort[b.getMonth()],i=b.getFullYear();if(e=c?f+" "+h+" "+i:f+"."+g+"."+i,d){var j=("0"+b.getHours()).substr(-2,2),k=("0"+b.getMinutes()).substr(-2,2);e+=" "+j+":"+k}return e}}}(this.laroux),function(a){"use strict";a.mvc={appObjects:[],init:function(){for(var b=a.dom.select("*[lr-app]"),c=0,d=b.length;d>c;c++)a.mvc.appObjects.push({app:b[c].getAttribute("lr-app"),element:b[c],model:{},cachedNodes:null,setBoundElements:null})},getRelatedEventName:function(a){switch(a.tagName){case"INPUT":switch(a.getAttribute("type").toUpperCase()){case"BUTTON":case"SUBMIT":case"RESET":return"click"}return"keyup";case"TEXTAREA":return"keyup";case"BUTTON":return"click"}return null},getRelatedValue:function(a,b){switch(a.tagName){case"INPUT":switch(a.getAttribute("type").toUpperCase()){case"BUTTON":case"SUBMIT":case"RESET":return b===!0?null:a.getAttribute("lr-value");case"CHECKBOX":case"RADIO":return a.checked}return a.value;case"TEXTAREA":return a.value;case"BUTTON":return b===!0?null:a.getAttribute("lr-value")}return null},setRelatedValue:function(a,b){switch(a.tagName){case"INPUT":switch(a.getAttribute("type").toUpperCase()){case"BUTTON":case"SUBMIT":case"RESET":return;case"CHECKBOX":case"RADIO":return void(a.value=!!b)}return void(a.value=b);case"TEXTAREA":return void(a.value=b)}},onBoundFieldChange:function(b,c){var d=c.getAttribute("lr-app-id"),e=c.getAttribute("lr-bind-id"),f=a.mvc.appObjects[d],g=f.setBoundElements[e];f.model[g.key]=a.mvc.getRelatedValue(c)},scanElements:function(b,c,d){for(var e=0,f=b.attributes,g=f.length;g>e;e++){if("lr-bind"==f[e].name){var h={element:b,key:f[e].value};d.setBoundElements.push(h)}for(var i in c)if(c.hasOwnProperty(i)){var j="{{"+c[i]+"}}";-1!==f[e].value.indexOf(j)&&d.cachedNodes.push({node:f[e],key:c[i],value:f[e].value})}}for(var k=0,l=b.childNodes,m=l.length;m>k;k++){for(var n in c)if(c.hasOwnProperty(n)){var o="{{"+c[n]+"}}";3!==l[k].nodeType||-1!==l[k].textContent.indexOf(o)&&d.cachedNodes.push({node:l[k],key:c[n],value:l[k].textContent})}1===l[k].nodeType&&a.mvc.scanElements(l[k],c,d)}},update:function(){for(var b=0,c=a.mvc.appObjects.length;c>b;b++)a.mvc.updateApp(b)},updateApp:function(b,c){var d=a.mvc.appObjects[b];if(void 0!==d.controller&&d.controller(d.model),null===d.cachedNodes){for(var e in d.setBoundElements)if(d.setBoundElements.hasOwnProperty(e)){var f=d.setBoundElements[e];a.dom.unsetEvent(f.element,a.mvc.getRelatedEventName(f.element),a.mvc.onBoundFieldChange),f.element.removeAttribute("lr-app-id"),f.element.removeAttribute("lr-bind-id")}d.cachedNodes=[],d.setBoundElements=[];var g=a.helpers.getKeysRecursive(d.model);a.mvc.scanElements(d.element,g,d);for(var h in d.setBoundElements)if(d.setBoundElements.hasOwnProperty(h)){var i=d.setBoundElements[h],j=a.mvc.getRelatedValue(i.element,!0);null!==j&&(d.model[i.key]=j),a.dom.setEvent(i.element,a.mvc.getRelatedEventName(i.element),a.mvc.onBoundFieldChange),i.element.setAttribute("lr-app-id",b),i.element.setAttribute("lr-bind-id",h)}}for(var k in d.cachedNodes)if(d.cachedNodes.hasOwnProperty(k)){var l=d.cachedNodes[k];(void 0===c||-1!==c.indexOf(l.key))&&(l.node instanceof Attr?l.node.value=l.value:l.node.textContent=l.value)}for(var m in d.cachedNodes)if(d.cachedNodes.hasOwnProperty(m)){var n=d.cachedNodes[m];if(void 0===c||-1!==c.indexOf(n.key)){var o="{{"+n.key+"}}",p=a.helpers.getElement(d.model,n.key);n.node instanceof Attr?n.node.value=n.node.value.replace(o,p):n.node.textContent=n.node.textContent.replace(o,p)}}for(var q in d.setBoundElements)if(d.setBoundElements.hasOwnProperty(q)){var r=d.setBoundElements[q];(void 0===c||-1!==c.indexOf(r.key))&&a.mvc.setRelatedValue(r.element,d.model[r.key])}},observer:function(b){var c={};for(var d in b)if(b.hasOwnProperty(d)&&"update"==b[d].type)for(var e=0,f=a.mvc.appObjects.length;f>e;e++){var g=a.mvc.appObjects[e];g.model==b[d].object&&(g.app in c?c[g.app].keys.push(b[d].name):c[g.app]={appKey:e,app:g,keys:[b[d].name]})}for(var h in c)c.hasOwnProperty(h)&&a.mvc.updateApp(c[h].appKey,c[h].keys)},bind:function(b,c,d){void 0===d&&(d=a.parent[b]);for(var e=0,f=a.mvc.appObjects.length;f>e;e++){var g=a.mvc.appObjects[e];g.app==b&&(g.model=c,g.controller=d,a.mvc.updateApp(e))}Object.observe(c,a.mvc.observer)}}}(this.laroux),function(a){"use strict";a.stack=function(){this.data={},this.add=function(a,b){this.data[a]=b},this.addRange=function(a){for(var b in a)a.hasOwnProperty(b)&&(this.data[b]=a[b])},this.get=function(a,b){return this.data[a]||b||null},this.getRange=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=this.data[a[c]]);return b},this.keys=function(){return Object.keys(this.data)},this.length=function(){return Object.keys(this.data).length},this.exists=function(a){return a in this.data},this.remove=function(a){delete this.data[a]},this.clear=function(){this.data={}}}}(this.laroux),function(a){"use strict";a.templates={method:"compile",engine:null,load:function(b,c){var d;return d=3===chldrn[j].nodeType?b.textContent:b.nodeValue,a.templates.engine[a.templates.method](d,c)},apply:function(b,c,d){var e=a.templates.load(b,d);return e.render(c)},insert:function(b,c,d,e,f){var g=a.templates.apply(b,c,f);a.dom.insert(d,e||"beforeend",g)},replace:function(b,c,d,e){var f=a.templates.apply(b,c,e);a.dom.replace(d,f)}}}(this.laroux),function(a){"use strict";a.ui={floatContainer:null,popup:{defaultTimeout:500,createBox:function(b,c,d){return a.dom.createElement("DIV",{id:b,"class":c},d)},msgbox:function(b,c){var d=a.helpers.getUniqueId(),e=a.ui.popup.createBox(d,"laroux_msgbox",c);a.ui.floatContainer.appendChild(e),a.css.setProperty(e,{opacity:1}),a.timers.set({timeout:b,reset:!1,ontick:function(b){a.dom.remove(b)},state:e})},init:function(){a.popupFunc=function(b){a.ui.popup.msgbox(a.ui.popup.defaultTimeout,b)}}},loading:{elementSelector:null,element:null,defaultDelay:1500,timer:null,killTimer:function(){clearTimeout(a.ui.loading.timer)},hide:function(){a.ui.loading.killTimer(),a.css.setProperty(a.ui.loading.element,{display:"none"}),localStorage.loadingIndicator="false"},show:function(b){a.ui.loading.killTimer(),void 0===b&&(b=a.ui.loading.defaultDelay),b>0?setTimeout(function(){a.ui.loading.show(0)},b):(a.css.setProperty(a.ui.loading.element,{display:"block"}),localStorage.loadingIndicator="true")},init:function(){null===a.ui.loading.element&&null!==a.ui.loading.elementSelector&&(a.ui.loading.element=a.dom.selectSingle(a.ui.loading.elementSelector)),null!==a.ui.loading.element&&(a.dom.setEvent(window,"load",a.ui.loading.hide),a.dom.setEvent(window,"beforeunload",a.ui.loading.show),void 0!==localStorage.loadingIndicator&&"true"==localStorage.loadingIndicator?a.ui.loading.show(0):a.ui.loading.show())}},dynamicDates:{updateDatesElements:null,updateDates:function(){null===a.ui.dynamicDates.updateDatesElements&&(a.ui.dynamicDates.updateDatesElements=a.dom.select("*[data-epoch]")),a.ui.dynamicDates.updateDatesElements.forEach(function(b){var c=new Date(1e3*(b.getAttribute("data-epoch")>>0));a.dom.replace(b,a.date.getDateString(c)),b.setAttribute("title",a.date.getLongDateString(c))})},init:function(){a.timers.set({timeout:500,reset:!0,ontick:a.ui.dynamicDates.updateDates})}},scrollView:{selectedElements:[],onhidden:function(b){a.css.setProperty(b,{opacity:0}),a.css.setTransition(b,["opacity"])},onreveal:function(b){a.css.setProperty(b,{opacity:1})},set:function(b){for(var c=a.helpers.getAsArray(b),d=0,e=c.length;e>d;d++)a.css.inViewport(c[d])||a.ui.scrollView.selectedElements.push(c[d]);a.ui.scrollView.onhidden(a.ui.scrollView.selectedElements),a.dom.setEvent(window,"scroll",a.ui.scrollView.reveal)},reveal:function(){var b=[],c=[];a.each(a.ui.scrollView.selectedElements,function(d,e){a.css.inViewport(e)&&(b.unshift(d),c.push(e))});for(var d in b)b.hasOwnProperty(d)&&a.ui.scrollView.selectedElements.splice(b[d],1);0===a.ui.scrollView.selectedElements.length&&a.dom.unsetEvent(window,"scroll",a.ui.scrollView.reveal),c.length>0&&a.ui.scrollView.onreveal(c)}},createFloatContainer:function(){a.ui.floatContainer||(a.ui.floatContainer=a.dom.createElement("DIV",{id:"laroux_floatdiv"}),document.body.insertBefore(a.ui.floatContainer,document.body.firstChild))},init:function(){a.ui.createFloatContainer(),a.ui.popup.init(),a.ui.loading.init(),a.ui.dynamicDates.init()}}}(this.laroux);