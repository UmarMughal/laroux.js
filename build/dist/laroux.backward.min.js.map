{"version":3,"sources":["src/js/laroux.backward.js","laroux.backward.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"global","scope","emptyFunction","undefined","document","attachEvent","createEventObject","readyState","requestAnimationFrame","callback","setTimeout","Date","now","getComputedStyle","element","this","getPropertyValue","prop","re","test","replace","arguments","toUpperCase","currentStyle","getPropertyCSSValue","CSSPrimitiveValue","primitiveType","getFloatValue","Event","prototype","preventDefault","returnValue","stopPropagation","cancelBubble","Element","eventListeners","addListener","eventname","self","wrapper","event","target","srcElement","currentTarget","push","object","type","listener","removeListener","eventListener","detachEvent","splice","dispatchEvent","eventObject","fireEvent","addEventListener","removeEventListener","HTMLDocument","Window","Text","innerText","Object","getOwnPropertyDescriptor","defineProperty","get","set","value","getAttribute","attribute","attributes","setAttribute","removeAttribute","removeNamedItem","children","add","className","trim","remove","RegExp","split","join","contains","nodeValue","String","observe","keys","item","hasOwnProperty","window"],"mappings":"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","file":"laroux.backward.min.js","sourcesContent":["(function (scope) {\n    'use strict';\n\n    var emptyFunction = function () {};\n\n    if (scope.document === undefined) {\n        scope.document = {\n            attachEvent: emptyFunction,\n            createEventObject: emptyFunction,\n            readyState: null\n        };\n    }\n\n    if (!('requestAnimationFrame' in scope)) {\n        scope.requestAnimationFrame = function (callback) {\n            setTimeout(function () { callback(Date.now()); }, 50);\n        };\n    }\n\n    if (!('getComputedStyle' in scope)) {\n        scope.getComputedStyle = function (element) {\n            this.element = element;\n\n            this.getPropertyValue = function (prop) {\n                var re = /(\\-([a-z]){1})/g;\n                if (prop === 'float') {\n                    prop = 'styleFloat';\n                }\n\n                if (re.test(prop)) {\n                    prop = prop.replace(re, function () {\n                        return arguments[2].toUpperCase();\n                    });\n                }\n\n                return this.element.currentStyle[prop] || null;\n            };\n\n            this.getPropertyCSSValue = function (prop) {\n                return new CSSPrimitiveValue(this.element, prop);\n            };\n\n            return this;\n        };\n    }\n\n    if (!('CSSPrimitiveValue' in scope)) {\n        scope.CSSPrimitiveValue = function (element, prop) {\n            this.element = element;\n            this.prop = prop;\n            this.primitiveType = 0;\n\n            this.getFloatValue = function (primitiveType) {\n                var re = /(\\-([a-z]){1})/g,\n                    prop = this.prop;\n\n                if (prop === 'float') {\n                    prop = 'styleFloat';\n                }\n\n                if (re.test(prop)) {\n                    prop = prop.replace(re, function () {\n                        return arguments[2].toUpperCase();\n                    });\n                }\n\n                return this.element.currentStyle[prop] || null;\n            };\n        };\n    }\n\n    if (scope.Event === undefined) {\n        scope.Event = emptyFunction;\n    }\n\n    if (!('preventDefault' in Event.prototype)) {\n        Event.prototype.preventDefault = function () {\n            this.returnValue = false;\n        };\n    }\n\n    if (!('stopPropagation' in Event.prototype)) {\n        Event.prototype.stopPropagation = function () {\n            this.cancelBubble = true;\n        };\n    }\n\n    if (scope.Element === undefined) {\n        scope.Element = emptyFunction;\n    }\n\n    if (!('addEventListener' in Element.prototype)) {\n        var eventListeners = [],\n            addListener = function (eventname, callback) {\n                var self = this,\n                    wrapper = function (event) {\n                        event.target = event.srcElement;\n                        event.currentTarget = self;\n\n                        // if ('handleEvent' in callback) {\n                        //     callback.handleEvent(event);\n                        // } else {\n                        //     callback.call(self, event);\n                        // }\n                        callback(self, event);\n                    };\n\n                if (eventname !== 'DOMContentLoaded') {\n                    this.attachEvent('on' + eventname, wrapper);\n                }\n                eventListeners.push({ object: this, type: eventname, listener: callback, wrapper: wrapper });\n            },\n            removeListener = function (eventname, callback) {\n                for (var i = 0, length = eventListeners.length; i < length; i++) {\n                    var eventListener = eventListeners[i];\n\n                    if (eventListener.object === this && eventListener.type === eventname && eventListener.listener === callback) {\n                        if (eventname != 'DOMContentLoaded') {\n                            this.detachEvent('on' + eventname, eventListener.wrapper);\n                        }\n\n                        eventListeners.splice(i, 1);\n                        break;\n                    }\n                }\n            },\n            dispatchEvent = function (event) {\n                var eventObject = document.createEventObject();\n                this.fireEvent('on' + event.type, eventObject);\n            };\n\n        Element.prototype.addEventListener = addListener;\n        Element.prototype.removeEventListener = removeListener;\n        Element.prototype.dispatchEvent = dispatchEvent;\n\n        if (scope.HTMLDocument !== undefined) {\n            HTMLDocument.prototype.addEventListener = addListener;\n            HTMLDocument.prototype.removeEventListener = removeListener;\n            HTMLDocument.prototype.dispatchEvent = dispatchEvent;\n        }\n\n        if (scope.Window !== undefined) {\n            Window.prototype.addEventListener = addListener;\n            Window.prototype.removeEventListener = removeListener;\n            Window.prototype.dispatchEvent = dispatchEvent;\n        }\n\n        document.attachEvent('onreadystatechange', function () {\n            if (document.readyState == 'complete') {\n                var eventObject = document.createEventObject();\n                // eventObject.srcElement = window;\n\n                for (var i = 0, length = eventListeners.length; i < length; i++) {\n                    if (eventListeners[i].object === document && eventListeners[i].type === 'DOMContentLoaded') {\n                        eventListeners[i].wrapper(eventObject);\n                    }\n                }\n            }\n        });\n    }\n\n    if (scope.Text === undefined) {\n        scope.Text = emptyFunction;\n    }\n\n    if (!('textContent' in Element.prototype)) {\n        var innerText = Object.getOwnPropertyDescriptor(Element.prototype, 'innerText');\n\n        Object.defineProperty(Element.prototype, 'textContent', {\n            get: function () {\n                return innerText.get.call(this);\n            },\n            set: function (value) {\n                return innerText.set.call(this, value);\n            }\n        });\n    }\n\n    if (!('getAttribute' in Element.prototype)) {\n        Element.prototype.getAttribute = function (attribute) {\n            return this.attributes[attribute].value;\n        };\n    }\n\n    if (!('setAttribute' in Element.prototype)) {\n        Element.prototype.setAttribute = function (attribute, value) {\n            this.attributes[attribute].value = value;\n        };\n    }\n\n    if (!('removeAttribute' in Element.prototype)) {\n        Element.prototype.removeAttribute = function (attribute) {\n            this.attributes.removeNamedItem(attribute);\n        };\n    }\n\n    if (!('firstElementChild' in Element.prototype)) {\n        Object.defineProperty(Element.prototype, 'firstElementChild', {\n            get: function () {\n                return this.children[0];\n            }\n        });\n    }\n\n    if (!('classList' in Element.prototype)) {\n        Object.defineProperty(Element.prototype, 'classList', {\n            get: function () {\n                var self = this;\n\n                return {\n                    add: function (className) {\n                        self.className = self.className.trim() + ' ' + className;\n                    },\n\n                    remove: function (className) {\n                        self.className = self.className.replace(\n                            new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'),\n                            ' '\n                        );\n                    },\n\n                    contains: function (className) {\n                        return (new RegExp('(^| )' + className + '( |$)', 'gi').test(self.className));\n                    }\n                };\n            }\n        });\n    }\n\n    if (!('textContent' in Text.prototype)) {\n        var nodeValue = Object.getOwnPropertyDescriptor(Text.prototype, 'nodeValue');\n\n        Object.defineProperty(Text.prototype, 'textContent', {\n            get: function () {\n                return nodeValue.get.call(this);\n            },\n            set: function (value) {\n                return nodeValue.set.call(this, value);\n            }\n        });\n    }\n\n    if (!('trim' in String.prototype)) {\n        String.prototype.trim = function () {\n            return this.replace(/^\\s+|\\s+$/g, '');\n        };\n    }\n\n    if (!('observe' in Object)) {\n        Object.observe = emptyFunction;\n    }\n\n    if (!('keys' in Object)) {\n        Object.keys = function (object) {\n            var keys = [];\n\n            for (var item in object) {\n                if (!object.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                keys.push(item);\n            }\n\n            return keys;\n        };\n    }\n\n    /*\n    if (!('forEach' in Object.prototype)) {\n        Object.prototype.forEach = function (callback) {\n            for (var item in this) {\n                if (!this.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                callback.apply(this, [this[item], item, this]);\n            }\n        };\n    }\n\n    if (!('map' in Object.prototype)) {\n        Object.prototype.map = function (callback) {\n            var results = [];\n\n            for (var item in this) {\n                if (!this.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                results.push(callback.apply(this, [this[item], item, this]));\n            }\n\n            return results;\n        };\n    }\n\n    if (!('forEach' in Array.prototype)) {\n        Array.prototype.forEach = function (callback) {\n            for (var i = 0; i < this.length; i++) {\n                callback.apply(this, [this[i], i, this]);\n            }\n        };\n    }\n\n    if (!('map' in Array.prototype)) {\n        Array.prototype.map = function (callback) {\n            var results = [];\n\n            for (var i = 0; i < this.length; i++) {\n                results.push(callback.apply(this, [this[i], i, this]));\n            }\n\n            return results;\n        };\n    }\n\n    if (!('indexOf' in Array.prototype)) {\n        Array.prototype.indexOf = function (object, start) {\n            for (var i = (start || 0), length = this.length; i < length; i++) {\n                if (this[i] === object) {\n                    return i;\n                }\n            }\n\n            return -1;\n        };\n    }\n    */\n\n}(typeof window !== 'undefined' ? window : global));\n","/**\n * laroux.js - A jquery substitute for modern browsers\n *\n * @version v2.0.0\n * @link https://larukedi.github.io/laroux.js\n * @license Apache-2.0\n */\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n(function (scope) {\n    'use strict';\n\n    var emptyFunction = function () {};\n\n    if (scope.document === undefined) {\n        scope.document = {\n            attachEvent: emptyFunction,\n            createEventObject: emptyFunction,\n            readyState: null\n        };\n    }\n\n    if (!('requestAnimationFrame' in scope)) {\n        scope.requestAnimationFrame = function (callback) {\n            setTimeout(function () { callback(Date.now()); }, 50);\n        };\n    }\n\n    if (!('getComputedStyle' in scope)) {\n        scope.getComputedStyle = function (element) {\n            this.element = element;\n\n            this.getPropertyValue = function (prop) {\n                var re = /(\\-([a-z]){1})/g;\n                if (prop === 'float') {\n                    prop = 'styleFloat';\n                }\n\n                if (re.test(prop)) {\n                    prop = prop.replace(re, function () {\n                        return arguments[2].toUpperCase();\n                    });\n                }\n\n                return this.element.currentStyle[prop] || null;\n            };\n\n            this.getPropertyCSSValue = function (prop) {\n                return new CSSPrimitiveValue(this.element, prop);\n            };\n\n            return this;\n        };\n    }\n\n    if (!('CSSPrimitiveValue' in scope)) {\n        scope.CSSPrimitiveValue = function (element, prop) {\n            this.element = element;\n            this.prop = prop;\n            this.primitiveType = 0;\n\n            this.getFloatValue = function (primitiveType) {\n                var re = /(\\-([a-z]){1})/g,\n                    prop = this.prop;\n\n                if (prop === 'float') {\n                    prop = 'styleFloat';\n                }\n\n                if (re.test(prop)) {\n                    prop = prop.replace(re, function () {\n                        return arguments[2].toUpperCase();\n                    });\n                }\n\n                return this.element.currentStyle[prop] || null;\n            };\n        };\n    }\n\n    if (scope.Event === undefined) {\n        scope.Event = emptyFunction;\n    }\n\n    if (!('preventDefault' in Event.prototype)) {\n        Event.prototype.preventDefault = function () {\n            this.returnValue = false;\n        };\n    }\n\n    if (!('stopPropagation' in Event.prototype)) {\n        Event.prototype.stopPropagation = function () {\n            this.cancelBubble = true;\n        };\n    }\n\n    if (scope.Element === undefined) {\n        scope.Element = emptyFunction;\n    }\n\n    if (!('addEventListener' in Element.prototype)) {\n        var eventListeners = [],\n            addListener = function (eventname, callback) {\n                var self = this,\n                    wrapper = function (event) {\n                        event.target = event.srcElement;\n                        event.currentTarget = self;\n\n                        // if ('handleEvent' in callback) {\n                        //     callback.handleEvent(event);\n                        // } else {\n                        //     callback.call(self, event);\n                        // }\n                        callback(self, event);\n                    };\n\n                if (eventname !== 'DOMContentLoaded') {\n                    this.attachEvent('on' + eventname, wrapper);\n                }\n                eventListeners.push({ object: this, type: eventname, listener: callback, wrapper: wrapper });\n            },\n            removeListener = function (eventname, callback) {\n                for (var i = 0, length = eventListeners.length; i < length; i++) {\n                    var eventListener = eventListeners[i];\n\n                    if (eventListener.object === this && eventListener.type === eventname && eventListener.listener === callback) {\n                        if (eventname != 'DOMContentLoaded') {\n                            this.detachEvent('on' + eventname, eventListener.wrapper);\n                        }\n\n                        eventListeners.splice(i, 1);\n                        break;\n                    }\n                }\n            },\n            dispatchEvent = function (event) {\n                var eventObject = document.createEventObject();\n                this.fireEvent('on' + event.type, eventObject);\n            };\n\n        Element.prototype.addEventListener = addListener;\n        Element.prototype.removeEventListener = removeListener;\n        Element.prototype.dispatchEvent = dispatchEvent;\n\n        if (scope.HTMLDocument !== undefined) {\n            HTMLDocument.prototype.addEventListener = addListener;\n            HTMLDocument.prototype.removeEventListener = removeListener;\n            HTMLDocument.prototype.dispatchEvent = dispatchEvent;\n        }\n\n        if (scope.Window !== undefined) {\n            Window.prototype.addEventListener = addListener;\n            Window.prototype.removeEventListener = removeListener;\n            Window.prototype.dispatchEvent = dispatchEvent;\n        }\n\n        document.attachEvent('onreadystatechange', function () {\n            if (document.readyState == 'complete') {\n                var eventObject = document.createEventObject();\n                // eventObject.srcElement = window;\n\n                for (var i = 0, length = eventListeners.length; i < length; i++) {\n                    if (eventListeners[i].object === document && eventListeners[i].type === 'DOMContentLoaded') {\n                        eventListeners[i].wrapper(eventObject);\n                    }\n                }\n            }\n        });\n    }\n\n    if (scope.Text === undefined) {\n        scope.Text = emptyFunction;\n    }\n\n    if (!('textContent' in Element.prototype)) {\n        var innerText = Object.getOwnPropertyDescriptor(Element.prototype, 'innerText');\n\n        Object.defineProperty(Element.prototype, 'textContent', {\n            get: function () {\n                return innerText.get.call(this);\n            },\n            set: function (value) {\n                return innerText.set.call(this, value);\n            }\n        });\n    }\n\n    if (!('getAttribute' in Element.prototype)) {\n        Element.prototype.getAttribute = function (attribute) {\n            return this.attributes[attribute].value;\n        };\n    }\n\n    if (!('setAttribute' in Element.prototype)) {\n        Element.prototype.setAttribute = function (attribute, value) {\n            this.attributes[attribute].value = value;\n        };\n    }\n\n    if (!('removeAttribute' in Element.prototype)) {\n        Element.prototype.removeAttribute = function (attribute) {\n            this.attributes.removeNamedItem(attribute);\n        };\n    }\n\n    if (!('firstElementChild' in Element.prototype)) {\n        Object.defineProperty(Element.prototype, 'firstElementChild', {\n            get: function () {\n                return this.children[0];\n            }\n        });\n    }\n\n    if (!('classList' in Element.prototype)) {\n        Object.defineProperty(Element.prototype, 'classList', {\n            get: function () {\n                var self = this;\n\n                return {\n                    add: function (className) {\n                        self.className = self.className.trim() + ' ' + className;\n                    },\n\n                    remove: function (className) {\n                        self.className = self.className.replace(\n                            new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'),\n                            ' '\n                        );\n                    },\n\n                    contains: function (className) {\n                        return (new RegExp('(^| )' + className + '( |$)', 'gi').test(self.className));\n                    }\n                };\n            }\n        });\n    }\n\n    if (!('textContent' in Text.prototype)) {\n        var nodeValue = Object.getOwnPropertyDescriptor(Text.prototype, 'nodeValue');\n\n        Object.defineProperty(Text.prototype, 'textContent', {\n            get: function () {\n                return nodeValue.get.call(this);\n            },\n            set: function (value) {\n                return nodeValue.set.call(this, value);\n            }\n        });\n    }\n\n    if (!('trim' in String.prototype)) {\n        String.prototype.trim = function () {\n            return this.replace(/^\\s+|\\s+$/g, '');\n        };\n    }\n\n    if (!('observe' in Object)) {\n        Object.observe = emptyFunction;\n    }\n\n    if (!('keys' in Object)) {\n        Object.keys = function (object) {\n            var keys = [];\n\n            for (var item in object) {\n                if (!object.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                keys.push(item);\n            }\n\n            return keys;\n        };\n    }\n\n    /*\n    if (!('forEach' in Object.prototype)) {\n        Object.prototype.forEach = function (callback) {\n            for (var item in this) {\n                if (!this.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                callback.apply(this, [this[item], item, this]);\n            }\n        };\n    }\n\n    if (!('map' in Object.prototype)) {\n        Object.prototype.map = function (callback) {\n            var results = [];\n\n            for (var item in this) {\n                if (!this.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                results.push(callback.apply(this, [this[item], item, this]));\n            }\n\n            return results;\n        };\n    }\n\n    if (!('forEach' in Array.prototype)) {\n        Array.prototype.forEach = function (callback) {\n            for (var i = 0; i < this.length; i++) {\n                callback.apply(this, [this[i], i, this]);\n            }\n        };\n    }\n\n    if (!('map' in Array.prototype)) {\n        Array.prototype.map = function (callback) {\n            var results = [];\n\n            for (var i = 0; i < this.length; i++) {\n                results.push(callback.apply(this, [this[i], i, this]));\n            }\n\n            return results;\n        };\n    }\n\n    if (!('indexOf' in Array.prototype)) {\n        Array.prototype.indexOf = function (object, start) {\n            for (var i = (start || 0), length = this.length; i < length; i++) {\n                if (this[i] === object) {\n                    return i;\n                }\n            }\n\n            return -1;\n        };\n    }\n    */\n\n}(typeof window !== 'undefined' ? window : global));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbGFyb3V4LmJhY2t3YXJkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uIChzY29wZSkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24gKCkge307XG5cbiAgICBpZiAoc2NvcGUuZG9jdW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzY29wZS5kb2N1bWVudCA9IHtcbiAgICAgICAgICAgIGF0dGFjaEV2ZW50OiBlbXB0eUZ1bmN0aW9uLFxuICAgICAgICAgICAgY3JlYXRlRXZlbnRPYmplY3Q6IGVtcHR5RnVuY3Rpb24sXG4gICAgICAgICAgICByZWFkeVN0YXRlOiBudWxsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCEoJ3JlcXVlc3RBbmltYXRpb25GcmFtZScgaW4gc2NvcGUpKSB7XG4gICAgICAgIHNjb3BlLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGNhbGxiYWNrKERhdGUubm93KCkpOyB9LCA1MCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCEoJ2dldENvbXB1dGVkU3R5bGUnIGluIHNjb3BlKSkge1xuICAgICAgICBzY29wZS5nZXRDb21wdXRlZFN0eWxlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0UHJvcGVydHlWYWx1ZSA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlID0gLyhcXC0oW2Etel0pezF9KS9nO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnZmxvYXQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3AgPSAnc3R5bGVGbG9hdCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlLnRlc3QocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcCA9IHByb3AucmVwbGFjZShyZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1syXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmN1cnJlbnRTdHlsZVtwcm9wXSB8fCBudWxsO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5nZXRQcm9wZXJ0eUNTU1ZhbHVlID0gZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENTU1ByaW1pdGl2ZVZhbHVlKHRoaXMuZWxlbWVudCwgcHJvcCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoISgnQ1NTUHJpbWl0aXZlVmFsdWUnIGluIHNjb3BlKSkge1xuICAgICAgICBzY29wZS5DU1NQcmltaXRpdmVWYWx1ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBwcm9wKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5wcm9wID0gcHJvcDtcbiAgICAgICAgICAgIHRoaXMucHJpbWl0aXZlVHlwZSA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0RmxvYXRWYWx1ZSA9IGZ1bmN0aW9uIChwcmltaXRpdmVUeXBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlID0gLyhcXC0oW2Etel0pezF9KS9nLFxuICAgICAgICAgICAgICAgICAgICBwcm9wID0gdGhpcy5wcm9wO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdmbG9hdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcCA9ICdzdHlsZUZsb2F0JztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmUudGVzdChwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wID0gcHJvcC5yZXBsYWNlKHJlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzWzJdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuY3VycmVudFN0eWxlW3Byb3BdIHx8IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmIChzY29wZS5FdmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNjb3BlLkV2ZW50ID0gZW1wdHlGdW5jdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoISgncHJldmVudERlZmF1bHQnIGluIEV2ZW50LnByb3RvdHlwZSkpIHtcbiAgICAgICAgRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmICghKCdzdG9wUHJvcGFnYXRpb24nIGluIEV2ZW50LnByb3RvdHlwZSkpIHtcbiAgICAgICAgRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoc2NvcGUuRWxlbWVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNjb3BlLkVsZW1lbnQgPSBlbXB0eUZ1bmN0aW9uO1xuICAgIH1cblxuICAgIGlmICghKCdhZGRFdmVudExpc3RlbmVyJyBpbiBFbGVtZW50LnByb3RvdHlwZSkpIHtcbiAgICAgICAgdmFyIGV2ZW50TGlzdGVuZXJzID0gW10sXG4gICAgICAgICAgICBhZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQgPSBldmVudC5zcmNFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldCA9IHNlbGY7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICgnaGFuZGxlRXZlbnQnIGluIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgY2FsbGJhY2suaGFuZGxlRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjYWxsYmFjay5jYWxsKHNlbGYsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHNlbGYsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChldmVudG5hbWUgIT09ICdET01Db250ZW50TG9hZGVkJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dGFjaEV2ZW50KCdvbicgKyBldmVudG5hbWUsIHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBldmVudExpc3RlbmVycy5wdXNoKHsgb2JqZWN0OiB0aGlzLCB0eXBlOiBldmVudG5hbWUsIGxpc3RlbmVyOiBjYWxsYmFjaywgd3JhcHBlcjogd3JhcHBlciB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGV2ZW50TGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudExpc3RlbmVyID0gZXZlbnRMaXN0ZW5lcnNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TGlzdGVuZXIub2JqZWN0ID09PSB0aGlzICYmIGV2ZW50TGlzdGVuZXIudHlwZSA9PT0gZXZlbnRuYW1lICYmIGV2ZW50TGlzdGVuZXIubGlzdGVuZXIgPT09IGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRuYW1lICE9ICdET01Db250ZW50TG9hZGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWNoRXZlbnQoJ29uJyArIGV2ZW50bmFtZSwgZXZlbnRMaXN0ZW5lci53cmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudE9iamVjdCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoJ29uJyArIGV2ZW50LnR5cGUsIGV2ZW50T2JqZWN0KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgRWxlbWVudC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZExpc3RlbmVyO1xuICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gcmVtb3ZlTGlzdGVuZXI7XG4gICAgICAgIEVsZW1lbnQucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBkaXNwYXRjaEV2ZW50O1xuXG4gICAgICAgIGlmIChzY29wZS5IVE1MRG9jdW1lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgSFRNTERvY3VtZW50LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gYWRkTGlzdGVuZXI7XG4gICAgICAgICAgICBIVE1MRG9jdW1lbnQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSByZW1vdmVMaXN0ZW5lcjtcbiAgICAgICAgICAgIEhUTUxEb2N1bWVudC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGRpc3BhdGNoRXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2NvcGUuV2luZG93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFdpbmRvdy5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZExpc3RlbmVyO1xuICAgICAgICAgICAgV2luZG93LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gcmVtb3ZlTGlzdGVuZXI7XG4gICAgICAgICAgICBXaW5kb3cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBkaXNwYXRjaEV2ZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRPYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuICAgICAgICAgICAgICAgIC8vIGV2ZW50T2JqZWN0LnNyY0VsZW1lbnQgPSB3aW5kb3c7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZXZlbnRMaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TGlzdGVuZXJzW2ldLm9iamVjdCA9PT0gZG9jdW1lbnQgJiYgZXZlbnRMaXN0ZW5lcnNbaV0udHlwZSA9PT0gJ0RPTUNvbnRlbnRMb2FkZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudExpc3RlbmVyc1tpXS53cmFwcGVyKGV2ZW50T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHNjb3BlLlRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzY29wZS5UZXh0ID0gZW1wdHlGdW5jdGlvbjtcbiAgICB9XG5cbiAgICBpZiAoISgndGV4dENvbnRlbnQnIGluIEVsZW1lbnQucHJvdG90eXBlKSkge1xuICAgICAgICB2YXIgaW5uZXJUZXh0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihFbGVtZW50LnByb3RvdHlwZSwgJ2lubmVyVGV4dCcpO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50LnByb3RvdHlwZSwgJ3RleHRDb250ZW50Jywge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlubmVyVGV4dC5nZXQuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbm5lclRleHQuc2V0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoISgnZ2V0QXR0cmlidXRlJyBpbiBFbGVtZW50LnByb3RvdHlwZSkpIHtcbiAgICAgICAgRWxlbWVudC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1thdHRyaWJ1dGVdLnZhbHVlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmICghKCdzZXRBdHRyaWJ1dGUnIGluIEVsZW1lbnQucHJvdG90eXBlKSkge1xuICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAoYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzW2F0dHJpYnV0ZV0udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoISgncmVtb3ZlQXR0cmlidXRlJyBpbiBFbGVtZW50LnByb3RvdHlwZSkpIHtcbiAgICAgICAgRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlID0gZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVzLnJlbW92ZU5hbWVkSXRlbShhdHRyaWJ1dGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmICghKCdmaXJzdEVsZW1lbnRDaGlsZCcgaW4gRWxlbWVudC5wcm90b3R5cGUpKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50LnByb3RvdHlwZSwgJ2ZpcnN0RWxlbWVudENoaWxkJywge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghKCdjbGFzc0xpc3QnIGluIEVsZW1lbnQucHJvdG90eXBlKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsICdjbGFzc0xpc3QnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBhZGQ6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2xhc3NOYW1lID0gc2VsZi5jbGFzc05hbWUudHJpbSgpICsgJyAnICsgY2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jbGFzc05hbWUgPSBzZWxmLmNsYXNzTmFtZS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAoJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcXFxifCQpJywgJ2dpJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAnXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKG5ldyBSZWdFeHAoJyhefCApJyArIGNsYXNzTmFtZSArICcoIHwkKScsICdnaScpLnRlc3Qoc2VsZi5jbGFzc05hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghKCd0ZXh0Q29udGVudCcgaW4gVGV4dC5wcm90b3R5cGUpKSB7XG4gICAgICAgIHZhciBub2RlVmFsdWUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFRleHQucHJvdG90eXBlLCAnbm9kZVZhbHVlJyk7XG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRleHQucHJvdG90eXBlLCAndGV4dENvbnRlbnQnLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZVZhbHVlLmdldC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVWYWx1ZS5zZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghKCd0cmltJyBpbiBTdHJpbmcucHJvdG90eXBlKSkge1xuICAgICAgICBTdHJpbmcucHJvdG90eXBlLnRyaW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCEoJ29ic2VydmUnIGluIE9iamVjdCkpIHtcbiAgICAgICAgT2JqZWN0Lm9ic2VydmUgPSBlbXB0eUZ1bmN0aW9uO1xuICAgIH1cblxuICAgIGlmICghKCdrZXlzJyBpbiBPYmplY3QpKSB7XG4gICAgICAgIE9iamVjdC5rZXlzID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9iamVjdC5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBrZXlzLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qXG4gICAgaWYgKCEoJ2ZvckVhY2gnIGluIE9iamVjdC5wcm90b3R5cGUpKSB7XG4gICAgICAgIE9iamVjdC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiB0aGlzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIFt0aGlzW2l0ZW1dLCBpdGVtLCB0aGlzXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCEoJ21hcCcgaW4gT2JqZWN0LnByb3RvdHlwZSkpIHtcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gdGhpcykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goY2FsbGJhY2suYXBwbHkodGhpcywgW3RoaXNbaXRlbV0sIGl0ZW0sIHRoaXNdKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmICghKCdmb3JFYWNoJyBpbiBBcnJheS5wcm90b3R5cGUpKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBbdGhpc1tpXSwgaSwgdGhpc10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGlmICghKCdtYXAnIGluIEFycmF5LnByb3RvdHlwZSkpIHtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGNhbGxiYWNrLmFwcGx5KHRoaXMsIFt0aGlzW2ldLCBpLCB0aGlzXSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoISgnaW5kZXhPZicgaW4gQXJyYXkucHJvdG90eXBlKSkge1xuICAgICAgICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIChvYmplY3QsIHN0YXJ0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gKHN0YXJ0IHx8IDApLCBsZW5ndGggPSB0aGlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgKi9cblxufSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbCkpO1xuIl19\n"],"sourceRoot":"/source/"}