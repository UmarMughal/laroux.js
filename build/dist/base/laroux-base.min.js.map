{"version":3,"sources":["src/js/laroux{base}.js","src/js/laroux.ajax.js","src/js/laroux.css.js","src/js/laroux.date.js","src/js/laroux.dom.js","src/js/laroux.events.js","src/js/laroux.helpers.js","src/js/laroux.stack.js","src/js/laroux.templates.js","src/js/laroux.timers.js","src/js/laroux.triggers.js","src/js/laroux.vars.js","src/js/laroux.wrapper.js","laroux-base.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","global","scope","laroux","$l","events","helpers","timers","extend","Array","prototype","unshift","arguments","extendObject","apply","this","each","map","index","aeach","amap","aindex","wrapper","ajax","triggers","vars","date","stack","templates","window","self","./laroux.ajax.js","./laroux.date.js","./laroux.events.js","./laroux.helpers.js","./laroux.stack.js","./laroux.templates.js","./laroux.timers.js","./laroux.triggers.js","./laroux.vars.js","./laroux.wrapper.js",2,"laroux_events","laroux_helpers","laroux_ajax","corsDefault","wrappers","registry","laroux.js","data","isSuccess","console","log","errorMessage","obj","format","JSON","parse","object","eval","set","name","fnc","xDomainObject","xmlHttpRequestObject","xDomainRequestObject","xhr","crossDomain","XMLHttpRequest","XDomainRequest","xhrResp","options","wrapperFunction","getResponseHeader","response","undefined","datatype","responseText","responseXML","wrapperFunc","makeRequest","cors","url","timer","timeout","setTimeout","abort","timeoutFn","onreadystatechange","readyState","clearTimeout","status","res","error","statusText","invoke","success","complete","progress","getdata","constructor","Object","queryString","buildQueryString","indexOf","jsonp","open","type","xhrFields","hasOwnProperty","headers","j","setRequestHeader","postdata","send","postdatatype","stringify","buildFormData","get","path","values","successfnc","errorfnc","getJson","getJsonP","method","getScript","post","postJson","Content-Type",3,"laroux_css","hasClass","element","className","classList","contains","addClass","elements","getAsArray","add","removeClass","remove","toggleClass","cycleClass","getProperty","styleName","style","getComputedStyle","antiCamelCase","getPropertyValue","setProperty","properties","value","oldProperties","newStyleName","camelCase","defaultTransition","setTransitionSingle","transition","currentTransitionsArray","transitions","currentTransitions","split","item","transitionProperties","pos","substring","found","trim","localeCompare","push","join","webkitTransition","msTransition","setTransition","show","opacity","hide","height","getPropertyCSSValue","getFloatValue","primitiveType","innerHeight","clientHeight","outerHeight","includeMargin","offsetHeight","marginTop","marginBottom","margins","Math","ceil","width","innerWidth","clientWidth","outerWidth","offsetWidth","marginLeft","marginRight","top","getBoundingClientRect","document","documentElement","scrollTop","body","left","scrollLeft","aboveTheTop","bottom","belowTheFold","leftOfScreen","right","rightOfScreen","inViewport","rect",4,"laroux_date","shortDateFormat","longDateFormat","timeFormat","monthsShort","monthsLong","strings","now","later","ago","seconds","aminute","minutes","ahour","hours","aday","days","aweek","weeks","amonth","months","ayear","years","parseEpoch","timespan","limitWithWeeks","getCustomDateString","Date","replace","match","getFullYear","getYear","getMonth","substr","getDate","hour1","getHours","hour2","getMinutes","getSeconds","getDateDiffString","getTime","absTimespan","abs","past","timespanstring","getShortDateString","includeTime","getLongDateString",5,"laroux_dom","docprop","propName","select","selector","parent","toArray","querySelectorAll","selectByClass","getElementsByClassName","selectByTag","getElementsByTagName","selectById","getElementById","selectSingle","querySelector","attr","attributes","getAttribute","oldAttributes","attributeName","removeAttribute","setAttribute","datanames","oldDatanames","dataName","eventHistory","setEvent","eventname","setEventSingle","fncWrapper","preventDefault","event","returnValue","addEventListener","unsetEvent","i1","length1","i2","length2","removeEventListener","dispatchEvent","customEvent","createEvent","initEvent","create","html","frag","createDocumentFragment","temp","createElement","insertAdjacentHTML","firstChild","appendChild","children","elem","item2","append","createOption","key","isDefault","option","selectByValue","selectedIndex","clear","hasChildNodes","removeChild","insert","position","content","prepend","replaceText","textContent","cloneReturn","cloneAppend","cloneInsertAfter","cloneInsertBefore","clone","container","target","newElement","cloneNode","parentNode","insertBefore","nextSibling","Element","parentElement",6,"delegates","args",7,"uniqueId","getUniqueId","rfc3986","uri","regEx","encodeURIComponent","toString","FormData","shift","replaceAll","text","dictionary","re","RegExp","keys","flag","output","currChar","charAt","toUpperCase","toLowerCase","quoteAttr","spliceString","count","slice","random","min","max","floor","find","iterator","context","result","some","list","arr","testOwnProperties","dontSkipReturns","results","start","column","shuffle","shuffled","rand","merge","tmp","isArray","concat","duplicate","items","NodeList","getLength","getKeysRecursive","delimiter","prefix","getElement","defaultValue","rest",8,"laroux_stack","depth","_data","_depth","_top","defineProperty","configurable","newValue","oldValue","onupdate","setRange","valueKey","getRange","exists",9,"laroux_templates","engines","plain","compile","template","render","compiled","model","nextIndex","dict","lastIndex","closeIndex","hogan","Hogan","mustache","Mustache","handlebars","Handlebars","lodash","_","underscore","engine","nodeType","nodeValue","./laroux.dom.js",10,"laroux_timers","next","id","targetKey","currentItem","splice","ontick","removeKeys","state","reset",11,"laroux_triggers","condition","conditions","ontrigger","triggerName","eventIdx","conditionKey","conditionObj",12,"laroux_vars","cookiePath","getCookie","cookie","decodeURIComponent","setCookie","expires","expireValue","toGMTString","removeCookie","getLocal","localStorage","setLocal","removeLocal","getSession","sessionStorage","setSession","removeSession",13,"laroux_wrapper","selection","Node","singleTemplate","arrayTemplate","source","registerBoth","registerSingle","registerArray","register","newFnc","./laroux.css.js"],"mappings":"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","file":"laroux-base.min.js","sourcesContent":["module.exports = (function (scope) {\n    'use strict';\n\n    // core\n    var laroux = function () {\n    };\n\n    if (!('$l' in scope)) {\n        scope.$l = laroux;\n    }\n\n    // core modules\n    laroux.events = require('./laroux.events.js');\n    laroux.helpers = require('./laroux.helpers.js');\n    laroux.timers = require('./laroux.timers.js');\n\n    laroux.extend = function () {\n        Array.prototype.unshift.call(arguments, laroux);\n        laroux.helpers.extendObject.apply(this, arguments);\n    };\n\n    laroux.extendObject = laroux.helpers.extendObject;\n    laroux.each = laroux.helpers.each;\n    laroux.map = laroux.helpers.map;\n    laroux.index = laroux.helpers.index;\n    laroux.aeach = laroux.helpers.aeach;\n    laroux.amap = laroux.helpers.amap;\n    laroux.aindex = laroux.helpers.aindex;\n\n    // optional modules\n    laroux.wrapper = require('./laroux.wrapper.js');\n    laroux.ajax = require('./laroux.ajax.js');\n    // laroux.css = require('./laroux.css.js');\n    // laroux.dom = require('./laroux.dom.js');\n    // laroux.events = require('./laroux.events.js');\n    // laroux.forms = require('./laroux.forms.js');\n    // laroux.helpers = require('./laroux.helpers.js');\n    // laroux.timers = require('./laroux.timers.js');\n    laroux.triggers = require('./laroux.triggers.js');\n    laroux.vars = require('./laroux.vars.js');\n\n    // laroux.anim = require('./laroux.anim.js');\n    laroux.date = require('./laroux.date.js');\n    // laroux.keys = require('./laroux.keys.js');\n    // laroux.mvc = require('./laroux.mvc.js');\n    laroux.stack = require('./laroux.stack.js');\n    laroux.templates = require('./laroux.templates.js');\n    // laroux.touch = require('./laroux.touch.js');\n    // laroux.ui = require('./laroux.ui.js');\n\n    return laroux;\n\n}(typeof window !== 'undefined' ? window : global));\n","module.exports = (function () {\n    'use strict';\n\n    var laroux_events = require('./laroux.events.js'),\n        laroux_helpers = require('./laroux.helpers.js');\n\n    // ajax - partially taken from 'jquery in parts' project\n    //        can be found at: https://github.com/mythz/jquip/\n    var laroux_ajax = {\n        corsDefault: false,\n\n        wrappers: {\n            registry: {\n                'laroux.js': function (data) {\n                    if (!data.isSuccess) {\n                        console.log('Error: ' + data.errorMessage);\n                        return;\n                    }\n\n                    var obj;\n\n                    if (data.format === 'json') {\n                        obj = JSON.parse(data.object);\n                    } else if (data.format === 'script') {\n                        /*jshint evil:true */\n                        /*jslint evil:true */\n                        obj = eval(data.object);\n                    } else { // if (data.format == 'xml') {\n                        obj = data.object;\n                    }\n\n                    return obj;\n                }\n            },\n\n            set: function (name, fnc) {\n                laroux_ajax.wrappers.registry[name] = fnc;\n            }\n        },\n\n        xDomainObject: false,\n        xmlHttpRequestObject: null,\n        xDomainRequestObject: null,\n        xhr: function (crossDomain) {\n            if (laroux_ajax.xmlHttpRequestObject === null) {\n                laroux_ajax.xmlHttpRequestObject = new XMLHttpRequest();\n            }\n\n            if (crossDomain) {\n                if (!('withCredentials' in laroux_ajax.xmlHttpRequestObject) && typeof XDomainRequest !== 'undefined') {\n                    laroux_ajax.xDomainObject = true;\n\n                    if (laroux_ajax.xDomainRequestObject === null) {\n                        laroux_ajax.xDomainRequestObject = new XDomainRequest();\n                    }\n\n                    return laroux_ajax.xDomainRequestObject;\n                }\n            } else {\n                laroux_ajax.xDomainObject = false;\n            }\n\n            return laroux_ajax.xmlHttpRequestObject;\n        },\n\n        xhrResp: function (xhr, options) {\n            var wrapperFunction = xhr.getResponseHeader('X-Response-Wrapper-Function'),\n                response;\n\n            if (options.datatype === undefined) {\n                response = xhr.responseText;\n            } else if (options.datatype === 'json') {\n                response = JSON.parse(xhr.responseText);\n            } else if (options.datatype === 'script') {\n                /*jshint evil:true */\n                /*jslint evil:true */\n                response = eval(xhr.responseText);\n            } else if (options.datatype === 'xml') {\n                response = xhr.responseXML;\n            } else {\n                response = xhr.responseText;\n            }\n\n            if (wrapperFunction && (wrapperFunction in laroux_ajax.wrappers.registry)) {\n                response = laroux_ajax.wrappers.registry[wrapperFunction](response);\n            }\n\n            return {\n                response: response,\n                wrapperFunc: wrapperFunction\n            };\n        },\n\n        makeRequest: function (options) {\n            var cors = options.cors || laroux_ajax.corsDefault,\n                xhr = laroux_ajax.xhr(cors),\n                url = options.url,\n                timer = null,\n                n = 0;\n\n            if (options.timeout !== undefined) {\n                timer = setTimeout(\n                    function () {\n                        xhr.abort();\n                        if (options.timeoutFn !== undefined) {\n                            options.timeoutFn(options.url);\n                        }\n                    },\n                    options.timeout\n                );\n            }\n\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState === 4) {\n                    if (timer !== null) {\n                        clearTimeout(timer);\n                    }\n\n                    if (xhr.status < 300) {\n                        var res = null,\n                            isSuccess = true;\n\n                        try {\n                            res = laroux_ajax.xhrResp(xhr, options);\n                        } catch (e) {\n                            if (options.error !== undefined) {\n                                options.error(xhr, xhr.status, xhr.statusText);\n                            }\n\n                            laroux_events.invoke('ajaxError', [xhr, xhr.status, xhr.statusText, options]);\n                            isSuccess = false;\n                        }\n\n                        if (isSuccess) {\n                            if (options.success !== undefined && res !== null) {\n                                options.success(res.response, res.wrapperFunc);\n                            }\n\n                            laroux_events.invoke('ajaxSuccess', [xhr, res.response, res.wrapperFunc, options]);\n                        }\n                    } else {\n                        if (options.error !== undefined) {\n                            options.error(xhr, xhr.status, xhr.statusText);\n                        }\n\n                        laroux_events.invoke('ajaxError', [xhr, xhr.status, xhr.statusText, options]);\n                    }\n\n                    if (options.complete !== undefined) {\n                        options.complete(xhr, xhr.statusText);\n                    }\n\n                    laroux_events.invoke('ajaxComplete', [xhr, xhr.statusText, options]);\n                } else if (options.progress !== undefined) {\n                    /*jslint plusplus: true */\n                    options.progress(++n);\n                }\n            };\n\n            if (options.getdata !== undefined && options.getdata !== null) {\n                if (options.getdata.constructor === Object) {\n                    var queryString = laroux_helpers.buildQueryString(options.getdata);\n                    if (queryString.length > 0) {\n                        url += ((url.indexOf('?') < 0) ? '?' : '&') + queryString;\n                    }\n                } else {\n                    url += ((url.indexOf('?') < 0) ? '?' : '&') + options.getdata;\n                }\n            }\n\n            if (options.jsonp !== undefined) {\n                url += ((url.indexOf('?') < 0) ? '?' : '&') + 'jsonp=' + options.jsonp;\n            }\n\n            if (!laroux_ajax.xDomainObject) {\n                xhr.open(options.type, url, true);\n            } else {\n                xhr.open(options.type, url);\n            }\n\n            try {\n                if (options.xhrFields !== undefined) {\n                    for (var i in options.xhrFields) {\n                        if (!options.xhrFields.hasOwnProperty(i)) {\n                            continue;\n                        }\n\n                        xhr[i] = options.xhrFields[i];\n                    }\n                }\n\n                var headers = options.headers || {};\n\n                if (!cors) {\n                    headers['X-Requested-With'] = 'XMLHttpRequest';\n\n                    if (options.wrapper) {\n                        headers['X-Wrapper-Function'] = 'laroux.js';\n                    }\n                }\n\n                for (var j in headers) {\n                    if (!headers.hasOwnProperty(j)) {\n                        continue;\n                    }\n\n                    xhr.setRequestHeader(j, headers[j]);\n                }\n            } catch (e) {\n                console.log(e);\n            }\n\n            if (options.postdata === undefined || options.postdata === null) {\n                xhr.send(null);\n                return;\n            }\n\n            switch (options.postdatatype) {\n                case 'json':\n                    xhr.send(JSON.stringify(options.postdata));\n                    break;\n                case 'form':\n                    xhr.send(laroux_helpers.buildFormData(options.postdata));\n                    break;\n                default:\n                    xhr.send(options.postdata);\n                    break;\n            }\n        },\n\n        get: function (path, values, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'html',\n                getdata: values,\n                wrapper: true,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getJson: function (path, values, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'json',\n                getdata: values,\n                wrapper: true,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getJsonP: function (path, values, method, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'script',\n                getdata: values,\n                jsonp: method,\n                wrapper: false,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getScript: function (path, values, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'script',\n                getdata: values,\n                wrapper: false,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        post: function (path, values, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'POST',\n                url: path,\n                datatype: 'json',\n                postdata: values,\n                postdatatype: 'form',\n                wrapper: true,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        postJson: function (path, values, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'POST',\n                url: path,\n                datatype: 'json',\n                postdata: values,\n                postdatatype: 'json',\n                headers: {\n                    'Content-Type': 'application/json; charset=UTF-8'\n                },\n                wrapper: true,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        }\n    };\n\n    return laroux_ajax;\n\n}());\n","module.exports = (function () {\n    'use strict';\n\n    var laroux_helpers = require('./laroux.helpers.js');\n\n    // css\n    var laroux_css = {\n        // class features\n        hasClass: function (element, className) {\n            return element.classList.contains(className);\n        },\n\n        addClass: function (element, className) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                elements[i].classList.add(className);\n            }\n        },\n\n        removeClass: function (element, className) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                elements[i].classList.remove(className);\n            }\n        },\n\n        toggleClass: function (element, className) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                if (elements[i].classList.contains(className)) {\n                    elements[i].classList.remove(className);\n                } else {\n                    elements[i].classList.add(className);\n                }\n            }\n        },\n\n        cycleClass: function (elements, className) {\n            for (var i = 0, length = elements.length; i < length; i++) {\n                if (elements[i].classList.contains(className)) {\n                    elements[i].classList.remove(className);\n                    elements[(i + 1) % length].classList.add(className);\n                    return;\n                }\n            }\n        },\n\n        // style features\n        getProperty: function (element, styleName) {\n            var style = getComputedStyle(element);\n\n            styleName = laroux_helpers.antiCamelCase(styleName);\n\n            return style.getPropertyValue(styleName);\n        },\n\n        setProperty: function (element, properties, value) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            if (typeof properties == 'string') {\n                var oldProperties = properties;\n                properties = {};\n                properties[oldProperties] = value;\n            }\n\n            for (var styleName in properties) {\n                if (!properties.hasOwnProperty(styleName)) {\n                    continue;\n                }\n\n                var newStyleName = laroux_helpers.camelCase(styleName);\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    elements[i].style[newStyleName] = properties[styleName];\n                }\n            }\n        },\n\n        // transition features\n        defaultTransition: '2s ease',\n\n        setTransitionSingle: function (element, transition) {\n            var transitions = laroux_helpers.getAsArray(transition),\n                style = getComputedStyle(element),\n                currentTransitions = style.getPropertyValue('transition') || style.getPropertyValue('-webkit-transition') ||\n                    style.getPropertyValue('-ms-transition') || '',\n                currentTransitionsArray;\n\n            if (currentTransitions.length > 0) {\n                currentTransitionsArray = currentTransitions.split(',');\n            } else {\n                currentTransitionsArray = [];\n            }\n\n            for (var item in transitions) {\n                if (!transitions.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var styleName,\n                    transitionProperties,\n                    pos = transitions[item].indexOf(' ');\n\n                if (pos !== -1) {\n                    styleName = transitions[item].substring(0, pos);\n                    transitionProperties = transitions[item].substring(pos + 1);\n                } else {\n                    styleName = transitions[item];\n                    transitionProperties = laroux_css.defaultTransition;\n                }\n\n                var found = false;\n                for (var j = 0; j < currentTransitionsArray.length; j++) {\n                    if (currentTransitionsArray[j].trim().localeCompare(styleName) === 0) {\n                        currentTransitionsArray[j] = styleName + ' ' + transitionProperties;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    currentTransitionsArray.push(styleName + ' ' + transitionProperties);\n                }\n            }\n\n            var value = currentTransitionsArray.join(', ');\n\n            element.style.transition = value;\n            element.style.webkitTransition = value;\n            element.style.msTransition = value;\n        },\n\n        setTransition: function (element, transition) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                laroux_css.setTransitionSingle(elements[i], transition);\n            }\n        },\n\n        show: function (element, transitionProperties) {\n            if (transitionProperties !== undefined) {\n                laroux_css.setTransition(element, 'opacity ' + transitionProperties);\n            } else {\n                laroux_css.setTransition(element, 'opacity');\n            }\n\n            laroux_css.setProperty(element, { opacity: 1 });\n        },\n\n        hide: function (element, transitionProperties) {\n            if (transitionProperties !== undefined) {\n                laroux_css.setTransition(element, 'opacity ' + transitionProperties);\n            } else {\n                laroux_css.setTransition(element, 'opacity');\n            }\n\n            laroux_css.setProperty(element, { opacity: 0 });\n        },\n\n        // measurement features\n        // height of element without padding, margin and border\n        height: function (element) {\n            var style = getComputedStyle(element),\n                height = style.getPropertyCSSValue('height');\n\n            return height.getFloatValue(height.primitiveType);\n        },\n\n        // height of element with padding but without margin and border\n        innerHeight: function (element) {\n            return element.clientHeight;\n        },\n\n        // height of element with padding and border but margin optional\n        outerHeight: function (element, includeMargin) {\n            if (includeMargin || false) {\n                return element.offsetHeight;\n            }\n\n            var style = getComputedStyle(element),\n                marginTop = style.getPropertyCSSValue('margin-top'),\n                marginBottom = style.getPropertyCSSValue('margin-bottom'),\n                margins = marginTop.getFloatValue(marginTop.primitiveType) +\n                    marginBottom.getFloatValue(marginBottom.primitiveType);\n\n            return Math.ceil(element.offsetHeight + margins);\n        },\n\n        // width of element without padding, margin and border\n        width: function (element) {\n            var style = getComputedStyle(element),\n                height = style.getPropertyCSSValue('width');\n\n            return height.getFloatValue(height.primitiveType);\n        },\n\n        // width of element with padding but without margin and border\n        innerWidth: function (element) {\n            return element.clientWidth;\n        },\n\n        // width of element with padding and border but margin optional\n        outerWidth: function (element, includeMargin) {\n            if (includeMargin || false) {\n                return element.offsetWidth;\n            }\n\n            var style = getComputedStyle(element),\n                marginLeft = style.getPropertyCSSValue('margin-left'),\n                marginRight = style.getPropertyCSSValue('margin-right'),\n                margins = marginLeft.getFloatValue(marginLeft.primitiveType) +\n                    marginRight.getFloatValue(marginRight.primitiveType);\n\n            return Math.ceil(element.offsetWidth + margins);\n        },\n\n        top: function (element) {\n            return element.getBoundingClientRect().top +\n                ((document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop);\n        },\n\n        left: function (element) {\n            return element.getBoundingClientRect().left +\n                ((document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft);\n        },\n\n        aboveTheTop: function (element) {\n            return element.getBoundingClientRect().bottom <= 0;\n        },\n\n        belowTheFold: function (element) {\n            return element.getBoundingClientRect().top > innerHeight;\n        },\n\n        leftOfScreen: function (element) {\n            return element.getBoundingClientRect().right <= 0;\n        },\n\n        rightOfScreen: function (element) {\n            return element.getBoundingClientRect().left > innerWidth;\n        },\n\n        inViewport: function (element) {\n            var rect = element.getBoundingClientRect();\n\n            return !(rect.bottom <= 0 || rect.top > innerHeight ||\n                rect.right <= 0 || rect.left > innerWidth);\n        }\n    };\n\n    return laroux_css;\n\n}());\n","module.exports = (function () {\n    'use strict';\n\n    // date\n    var laroux_date = {\n        shortDateFormat: 'dd.MM.yyyy',\n        longDateFormat: 'dd MMMM yyyy',\n        timeFormat: 'HH:mm',\n\n        monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        monthsLong: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\n        strings: {\n            now:     'now',\n            later:   'later',\n            ago:     'ago',\n            seconds: 'seconds',\n            aminute: 'a minute',\n            minutes: 'minutes',\n            ahour:   'a hour',\n            hours:   'hours',\n            aday:    'a day',\n            days:    'days',\n            aweek:   'a week',\n            weeks:   'weeks',\n            amonth:  'a month',\n            months:  'months',\n            ayear:   'a year',\n            years:   'years'\n        },\n\n        parseEpoch: function (timespan, limitWithWeeks) {\n            if (timespan < 60 * 1000) {\n                timespan = Math.ceil(timespan / 1000);\n\n                return timespan + ' ' + laroux_date.strings.seconds;\n            }\n\n            if (timespan < 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux_date.strings.aminute;\n                }\n\n                return timespan + ' ' + laroux_date.strings.minutes;\n            }\n\n            if (timespan < 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux_date.strings.ahour;\n                }\n\n                return timespan + ' ' + laroux_date.strings.hours;\n            }\n\n            if (timespan < 7 * 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (24 * 60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux_date.strings.aday;\n                }\n\n                return timespan + ' ' + laroux_date.strings.days;\n            }\n\n            if (timespan < 4 * 7 * 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (7 * 24 * 60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux_date.strings.aweek;\n                }\n\n                return timespan + ' ' + laroux_date.strings.weeks;\n            }\n\n            if (limitWithWeeks === true) {\n                return null;\n            }\n\n            if (timespan < 30 * 7 * 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (30 * 24 * 60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux_date.strings.amonth;\n                }\n\n                return timespan + ' ' + laroux_date.strings.months;\n            }\n\n            timespan = Math.ceil(timespan / (365 * 24 * 60 * 60 * 1000));\n\n            if (timespan === 1) {\n                return laroux_date.strings.ayear;\n            }\n\n            return timespan + ' ' + laroux_date.strings.years;\n        },\n\n        getCustomDateString: function (format, date) {\n            var now = date || new Date();\n\n            return format.replace(\n                /yyyy|yy|MMMM|MMM|MM|M|dd|d|hh|h|HH|H|mm|m|ss|s|tt|t/g,\n                function (match) {\n                    switch (match) {\n                    case 'yyyy':\n                        return now.getFullYear();\n\n                    case 'yy':\n                        return now.getYear();\n\n                    case 'MMMM':\n                        return laroux_date.monthsLong[now.getMonth()];\n\n                    case 'MMM':\n                        return laroux_date.monthsShort[now.getMonth()];\n\n                    case 'MM':\n                        return ('0' + (now.getMonth() + 1)).substr(-2, 2);\n\n                    case 'M':\n                        return now.getMonth() + 1;\n\n                    case 'dd':\n                        return ('0' + now.getDate()).substr(-2, 2);\n\n                    case 'd':\n                        return now.getDate();\n\n                    case 'hh':\n                        var hour1 = now.getHours();\n                        return ('0' + (((hour1 % 12) > 0) ? hour1 % 12 : 12)).substr(-2, 2);\n\n                    case 'h':\n                        var hour2 = now.getHours();\n                        return ((hour2 % 12) > 0) ? hour2 % 12 : 12;\n\n                    case 'HH':\n                        return ('0' + now.getHours()).substr(-2, 2);\n\n                    case 'H':\n                        return now.getHours();\n\n                    case 'mm':\n                        return ('0' + now.getMinutes()).substr(-2, 2);\n\n                    case 'm':\n                        return now.getMinutes();\n\n                    case 'ss':\n                        return ('0' + now.getSeconds()).substr(-2, 2);\n\n                    case 's':\n                        return now.getSeconds();\n\n                    case 'tt':\n                        if (now.getHours() >= 12) {\n                            return 'pm';\n                        }\n\n                        return 'am';\n\n                    case 't':\n                        if (now.getHours() >= 12) {\n                            return 'p';\n                        }\n\n                        return 'a';\n                    }\n\n                    return match;\n                }\n            );\n        },\n\n        getDateDiffString: function (date) {\n            var now = Date.now(),\n                timespan = now - date.getTime(),\n                absTimespan = Math.abs(timespan),\n                past = (timespan > 0);\n\n            if (absTimespan <= 3000) {\n                return laroux_date.strings.now;\n            }\n\n            var timespanstring = laroux_date.parseEpoch(absTimespan, true);\n            if (timespanstring !== null) {\n                return timespanstring +\n                    ' ' +\n                    (past ? laroux_date.strings.ago : laroux_date.strings.later);\n            }\n\n            return laroux_date.getShortDateString(date, true);\n        },\n\n        getShortDateString: function (date, includeTime) {\n            return laroux_date.getCustomDateString(\n                includeTime ? laroux_date.shortDateFormat + ' ' + laroux_date.timeFormat : laroux_date.shortDateFormat,\n                date\n            );\n        },\n\n        getLongDateString: function (date, includeTime) {\n            return laroux_date.getCustomDateString(\n                includeTime ? laroux_date.longDateFormat + ' ' + laroux_date.timeFormat : laroux_date.longDateFormat,\n                date\n            );\n        }\n    };\n\n    return laroux_date;\n\n}());\n","module.exports = (function () {\n    'use strict';\n\n    var laroux_helpers = require('./laroux.helpers.js');\n        // laroux_css = require('./laroux.css.js'),\n        // laroux_triggers = require('./laroux.triggers.js');\n\n    // dom\n    var laroux_dom = {\n        docprop: function (propName) {\n            return document.documentElement.classList.contains(propName);\n        },\n\n        select: function (selector, parent) {\n            return laroux_helpers.toArray(\n                (parent || document).querySelectorAll(selector)\n            );\n        },\n\n        selectByClass: function (selector, parent) {\n            return laroux_helpers.toArray(\n                (parent || document).getElementsByClassName(selector)\n            );\n        },\n\n        selectByTag: function (selector, parent) {\n            return laroux_helpers.toArray(\n                (parent || document).getElementsByTagName(selector)\n            );\n        },\n\n        selectById: function (selector, parent) {\n            return (parent || document).getElementById(selector);\n        },\n\n        selectSingle: function (selector, parent) {\n            return (parent || document).querySelector(selector);\n        },\n\n        attr: function (element, attributes, value) {\n            if (value === undefined && attributes.constructor !== Object) {\n                return element.getAttribute(attributes);\n            }\n\n            var elements = laroux_helpers.getAsArray(element);\n            if (typeof attributes === 'string') {\n                var oldAttributes = attributes;\n                attributes = {};\n                attributes[oldAttributes] = value;\n            }\n\n            for (var attributeName in attributes) {\n                if (!attributes.hasOwnProperty(attributeName)) {\n                    continue;\n                }\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    if (attributes[attributeName] === null) {\n                        element.removeAttribute(attributeName);\n                    } else {\n                        element.setAttribute(attributeName, attributes[attributeName]);\n                    }\n                }\n            }\n        },\n\n        data: function (element, datanames, value) {\n            if (value === undefined && datanames.constructor !== Object) {\n                return element.getAttribute('data-' + datanames);\n            }\n\n            var elements = laroux_helpers.getAsArray(element);\n            if (typeof datanames == 'string') {\n                var oldDatanames = datanames;\n                datanames = {};\n                datanames[oldDatanames] = value;\n            }\n\n            for (var dataName in datanames) {\n                if (!datanames.hasOwnProperty(dataName)) {\n                    continue;\n                }\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    if (datanames[dataName] === null) {\n                        element.removeAttribute('data-' + dataName);\n                    } else {\n                        element.setAttribute('data-' + dataName, datanames[dataName]);\n                    }\n                }\n            }\n        },\n\n        eventHistory: [],\n        setEvent: function (element, eventname, fnc) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                laroux_dom.setEventSingle(elements[i], eventname, fnc);\n            }\n        },\n\n        setEventSingle: function (element, eventname, fnc) {\n            var fncWrapper = function (e) {\n                if (fnc(e, element) === false) {\n                    if (e.preventDefault) {\n                        e.preventDefault();\n                    } else {\n                        event.returnValue = false;\n                    }\n                }\n            };\n\n            laroux_dom.eventHistory.push({ element: element, eventname: eventname, fnc: fnc, fncWrapper: fncWrapper });\n            element.addEventListener(eventname, fncWrapper, false);\n        },\n\n        unsetEvent: function (element, eventname, fnc) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i1 = 0, length1 = elements.length; i1 < length1; i1++) {\n                for (var i2 = 0, length2 = laroux_dom.eventHistory.length; i2 < length2; i2++) {\n                    var item = laroux_dom.eventHistory[i2];\n\n                    if (item === undefined) {\n                        continue;\n                    }\n\n                    if (item.element !== elements[i1]) {\n                        continue;\n                    }\n\n                    if (eventname !== undefined && item.eventname !== eventname) {\n                        continue;\n                    }\n\n                    if (fnc !== undefined && item.fnc !== fnc) {\n                        continue;\n                    }\n\n                    item.element.removeEventListener(item.eventname, item.fncWrapper, false);\n                    delete laroux_dom.eventHistory[i2];\n                }\n            }\n        },\n\n        dispatchEvent: function (element, eventname, data) {\n            var customEvent = document.createEvent('Event');\n            for (var item in data) {\n                if (!data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                customEvent[item] = data[item];\n            }\n\n            customEvent.initEvent(eventname, true, true);\n            element.dispatchEvent(customEvent);\n        },\n\n        create: function (html) {\n            var frag = document.createDocumentFragment(),\n                temp = document.createElement('DIV');\n\n            temp.insertAdjacentHTML('beforeend', html);\n            while (temp.firstChild) {\n                frag.appendChild(temp.firstChild);\n            }\n\n            // nulling out the reference, there is no obvious dispose method\n            temp = null;\n\n            return frag;\n        },\n\n        createElement: function (element, attributes, children) {\n            var elem = document.createElement(element);\n\n            if (attributes !== undefined && attributes.constructor === Object) {\n                for (var item in attributes) {\n                    if (!attributes.hasOwnProperty(item)) {\n                        continue;\n                    }\n\n                    elem.setAttribute(item, attributes[item]);\n                }\n            }\n\n            if (children !== undefined) {\n                if (children.constructor === Object) {\n                    for (var item2 in children) {\n                        if (!children.hasOwnProperty(item2)) {\n                            continue;\n                        }\n\n                        elem.setAttribute(item2, children[item2]);\n                    }\n                } else if (/* typeof children == 'string' && */children.length > 0) {\n                    laroux_dom.append(elem, children);\n                }\n            }\n\n            return elem;\n        },\n\n        createOption: function (element, key, value, isDefault) {\n            /* old behaviour, does not support optgroups as parents.\n            var count = element.options.length;\n            element.options[count] = new Option(value, key);\n\n            if (isDefault === true) {\n                element.options.selectedIndex = count - 1;\n            }\n            */\n\n            var option = document.createElement('OPTION');\n            option.setAttribute('value', key);\n            if (isDefault === true) {\n                option.setAttribute('checked', 'checked');\n            }\n\n            laroux_dom.append(option, value);\n            element.appendChild(option);\n        },\n\n        selectByValue: function (element, value) {\n            for (var i = 0, length = element.options.length; i < length; i++) {\n                if (element.options[i].getAttribute('value') == value) {\n                    element.selectedIndex = i;\n                    break;\n                }\n            }\n        },/*,\n\n        // TODO: it's redundant for now\n        loadImage: function () {\n            var images = [];\n\n            for (var i = 0, length = arguments.length; i < length; i++) {\n                var image = document.createElement('IMG');\n                image.setAttribute('src', arguments[i]);\n\n                images.push(image);\n            }\n\n            return images;\n        },\n\n        loadAsyncScript: function (path, triggerName, async) {\n            var elem = document.createElement('script');\n\n            elem.type = 'text/javascript';\n            elem.async = (async !== undefined) ? async : true;\n            elem.src = path;\n\n            var loaded = false;\n            elem.onload = elem.onreadystatechange = function () {\n                if ((elem.readyState && elem.readyState !== 'complete' && elem.readyState !== 'loaded') || loaded) {\n                    return false;\n                }\n\n                elem.onload = elem.onreadystatechange = null;\n                loaded = true;\n                if (triggerName) {\n                    if (typeof triggerName == 'function') {\n                        triggerName();\n                    } else {\n                        laroux_triggers.ontrigger(triggerName);\n                    }\n                }\n            };\n\n            var head = document.getElementsByTagName('head')[0];\n            head.appendChild(elem);\n        },\n\n        loadAsyncStyle: function (path, triggerName, async) {\n            var elem = document.createElement('LINK');\n\n            elem.type = 'text/css';\n            elem.async = (async !== undefined) ? async : true;\n            elem.href = path;\n            elem.rel = 'stylesheet';\n\n            var loaded = false;\n            elem.onload = elem.onreadystatechange = function () {\n                if ((elem.readyState && elem.readyState !== 'complete' && elem.readyState !== 'loaded') || loaded) {\n                    return false;\n                }\n\n                elem.onload = elem.onreadystatechange = null;\n                loaded = true;\n                if (triggerName) {\n                    if (typeof triggerName == 'function') {\n                        triggerName();\n                    } else {\n                        laroux_triggers.ontrigger(triggerName);\n                    }\n                }\n            };\n\n            var head = document.getElementsByTagName('head')[0];\n            head.appendChild(elem);\n        },*/\n\n        clear: function (element) {\n            while (element.hasChildNodes()) {\n                element.removeChild(element.firstChild);\n            }\n        },\n\n        insert: function (element, position, content) {\n            element.insertAdjacentHTML(position, content);\n        },\n\n        prepend: function (element, content) {\n            element.insertAdjacentHTML('afterbegin', content);\n        },\n\n        append: function (element, content) {\n            element.insertAdjacentHTML('beforeend', content);\n        },\n\n        replace: function (element, content) {\n            laroux_dom.clear(element);\n            element.insertAdjacentHTML('afterbegin', content);\n        },\n\n        replaceText: function (element, content) {\n            // laroux_dom.clear(element);\n            element.textContent = content;\n        },\n\n        remove: function (element) {\n            element.remove();\n        },\n\n        cloneReturn: 0,\n        cloneAppend: 1,\n        cloneInsertAfter: 2,\n        cloneInsertBefore: 3,\n\n        clone: function (element, type, container, target) {\n            var newElement = element.cloneNode(true);\n\n            if (container === undefined) {\n                container = element.parentNode;\n            }\n            if (target === undefined) {\n                target = element;\n            }\n\n            if (type !== undefined && type != laroux_dom.cloneReturn) {\n                if (type == laroux_dom.cloneAppend) {\n                    container.appendChild(newElement);\n                } else if (type == laroux_dom.cloneInsertAfter) {\n                    container.insertBefore(newElement, target.nextSibling);\n                } else { // type == laroux_dom.cloneInsertBefore\n                    container.insertBefore(newElement, target);\n                }\n            }\n\n            return newElement;\n        }/*,\n\n        // TODO: it's redundant for now\n        applyOperations: function (element, operations) {\n            for (var operation in operations) {\n                if (!operations.hasOwnProperty(operation)) {\n                    continue;\n                }\n\n                for (var binding in operations[operation]) {\n                    if (!operations[operation].hasOwnProperty(binding)) {\n                        continue;\n                    }\n\n                    var value = operations[operation][binding];\n\n                    switch (operation) {\n                        case 'setprop':\n                            if (binding.substring(0, 1) == '_') {\n                                element.setAttribute(binding.substring(1), value);\n                                continue;\n                            }\n\n                            if (binding == 'content') {\n                                laroux_dom.replace(element, value);\n                                continue;\n                            }\n                            break;\n                        case 'addprop':\n                            if (binding.substring(0, 1) == '_') {\n                                element.setAttribute(binding.substring(1), element.getAttribute(binding.substring(1)) + value);\n                                continue;\n                            }\n\n                            if (binding == 'content') {\n                                laroux_dom.append(element, value);\n                                continue;\n                            }\n                            break;\n                        case 'removeprop':\n                            if (value.substring(0, 1) == '_') {\n                                element.removeAttribute(value.substring(1));\n                                continue;\n                            }\n\n                            if (value == 'content') {\n                                laroux_dom.clear(element);\n                                continue;\n                            }\n                            break;\n                        case 'addclass':\n                            laroux_css.addClass(element, value);\n                            break;\n                        case 'removeclass':\n                            laroux_css.removeClass(element, value);\n                            break;\n                        case 'addstyle':\n                            laroux_css.setProperty(element, binding, value);\n                            break;\n                        case 'removestyle':\n                            laroux_css.setProperty(element, value, 'inherit !important');\n                            break;\n                        case 'repeat':\n                            break;\n                        default:\n                            console.log(operation);\n                    }\n                }\n            }\n        }*/\n    };\n\n    // a fix for Internet Explorer\n    if (typeof Element !== 'undefined') {\n        if (Element.prototype.remove === undefined) {\n            Element.prototype.remove = function () {\n                if (this.parentElement !== null) {\n                    this.parentElement.removeChild(this);\n                }\n            };\n        }\n    }\n\n    return laroux_dom;\n\n}());\n","module.exports = (function () {\n    'use strict';\n\n    // events\n    var laroux_events = {\n        delegates: [],\n\n        add: function (event, fnc) {\n            laroux_events.delegates.push({ event: event, fnc: fnc });\n        },\n\n        invoke: function (event, args) {\n            for (var item in laroux_events.delegates) {\n                if (!laroux_events.delegates.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (laroux_events.delegates[item].event != event) {\n                    continue;\n                }\n\n                laroux_events.delegates[item].fnc(args);\n            }\n        }\n    };\n\n    return laroux_events;\n\n}());\n","module.exports = (function () {\n    'use strict';\n\n    // helpers\n    var laroux_helpers = {\n        uniqueId: 0,\n\n        getUniqueId: function () {\n            /*jslint plusplus: true */\n            return 'uid-' + (++laroux_helpers.uniqueId);\n        },\n\n        buildQueryString: function (values, rfc3986) {\n            var uri = '',\n                regEx = /%20/g;\n\n            for (var name in values) {\n                if (!values.hasOwnProperty(name)) {\n                    continue;\n                }\n\n                if (typeof values[name] != 'function') {\n                    if (rfc3986 || false) {\n                        uri += '&' + encodeURIComponent(name).replace(regEx, '+') + '=' + encodeURIComponent(values[name].toString()).replace(regEx, '+');\n                    } else {\n                        uri += '&' + encodeURIComponent(name) + '=' + encodeURIComponent(values[name].toString());\n                    }\n                }\n            }\n\n            return uri.substr(1);\n        },\n\n        buildFormData: function (values) {\n            var data = new FormData();\n\n            for (var name in values) {\n                if (!values.hasOwnProperty(name)) {\n                    continue;\n                }\n\n                if (typeof values[name] != 'function') {\n                    data.append(name, values[name]);\n                }\n            }\n\n            return data;\n        },\n\n        format: function () {\n            var args = arguments;\n            return Array.prototype.shift.call(args).replace(/%s/g, function () { return Array.prototype.shift.call(args); });\n        },\n\n        replaceAll: function (text, dictionary) {\n            var re = new RegExp(Object.keys(dictionary).join('|'), 'g');\n\n            return text.replace(\n                re,\n                function (match) {\n                    return dictionary[match];\n                }\n            );\n        },\n\n        camelCase: function (value) {\n            var flag = false;\n            var output = '';\n\n            for (var j = 0; j < value.length; j++) {\n                var currChar = value.charAt(j);\n                if (currChar == '-') {\n                    flag = true;\n                    continue;\n                }\n\n                output += (!flag) ? currChar : currChar.toUpperCase();\n                flag = false;\n            }\n\n            return output;\n        },\n\n        antiCamelCase: function (value) {\n            var output = '';\n\n            for (var j = 0; j < value.length; j++) {\n                var currChar = value.charAt(j);\n                if (currChar != '-' && currChar == currChar.toUpperCase()) {\n                    output += '-' + currChar.toLowerCase();\n                    continue;\n                }\n\n                output += currChar;\n            }\n\n            return output;\n        },\n\n        quoteAttr: function (value) {\n            return value.replace(/&/g, '&amp;')\n                        .replace(/'/g, '&apos;')\n                        .replace(/\"/g, '&quot;')\n                        .replace(/</g, '&lt;')\n                        .replace(/>/g, '&gt;')\n                        .replace(/\"/g, '&quot;')\n                        .replace(/\\r\\n/g, '&#13;')\n                        .replace(/[\\r\\n]/g, '&#13;');\n        },\n\n        spliceString: function (value, index, count, add) {\n            return value.slice(0, index) + (add || '') + value.slice(index + count);\n        },\n\n        random: function (min, max) {\n            return min + Math.floor(Math.random() * (max - min + 1));\n        },\n\n        find: function (obj, iterator, context) {\n            var result;\n\n            obj.some(function (value, index, list) {\n                if (iterator.call(context, value, index, list)) {\n                    result = value;\n                    return true;\n                }\n            });\n\n            return result;\n        },\n\n        extendObject: function () {\n            var target = Array.prototype.shift.call(arguments),\n                isArray = target instanceof Array;\n\n            for (var item in arguments) {\n                for (var name in arguments[item]) {\n                    // if (isArray) {\n                    //     target.push(arguments[item][name]);\n                    //     continue;\n                    // }\n\n                    /* target[name].constructor === Object */\n                    if (target.hasOwnProperty(name) && target[name] instanceof Object) {\n                        laroux_helpers.extendObject(target[name], arguments[item][name]);\n                        continue;\n                    }\n\n                    target[name] = arguments[item][name];\n                }\n            }\n        },\n\n        each: function (arr, fnc, testOwnProperties) {\n            for (var item in arr) {\n                if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (fnc(item, arr[item]) === false) {\n                    break;\n                }\n            }\n\n            return arr;\n        },\n\n        map: function (arr, fnc, dontSkipReturns, testOwnProperties) {\n            var results = [];\n\n            for (var item in arr) {\n                if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var result = fnc(arr[item], item);\n                if (result === false) {\n                    break;\n                }\n\n                if (dontSkipReturns || result !== undefined) {\n                    results.push(result);\n                }\n            }\n\n            return results;\n        },\n\n        index: function (arr, value, testOwnProperties) {\n            for (var item in arr) {\n                if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (arr[item] === object) {\n                    return item;\n                }\n            }\n\n            return null;\n        },\n\n        aeach: function (arr, fnc) {\n            for (var i = 0, length = arr.length; i < length; i++) {\n                if (fnc(i, arr[i]) === false) {\n                    break;\n                }\n            }\n\n            return arr;\n        },\n\n        amap: function (arr, fnc, dontSkipReturns) {\n            var results = [];\n\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var result = fnc(arr[i], i);\n                if (result === false) {\n                    break;\n                }\n\n                if (dontSkipReturns || result !== undefined) {\n                    results.unshift(result);\n                }\n            }\n\n            return results;\n        },\n\n        aindex: function (arr, value, start) {\n            for (var i = (start || 0), length = arr.length; i < length; i++) {\n                if (arr[i] === value) {\n                    return i;\n                }\n            }\n\n            return -1;\n        },\n\n        column: function (obj, key) {\n            return laroux_helpers.map(obj, function (value) { return value[key]; }, true);\n        },\n\n        shuffle: function (obj) {\n            var index = 0,\n                shuffled = [];\n\n            for (var item in obj) {\n                if (!obj.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var rand = laroux_helpers.random(0, index);\n                shuffled[index++] = shuffled[rand];\n                shuffled[rand] = obj[item];\n            }\n\n            return shuffled;\n        },\n\n        merge: function () {\n            var target = Array.prototype.shift.call(arguments),\n                tmp = target,\n                isArray = tmp instanceof Array;\n\n            for (var item in arguments) {\n                if (isArray) {\n                    tmp = tmp.concat(arguments[item]);\n                    continue;\n                }\n\n                for (var attr in arguments[item]) {\n                    if (!arguments[item].hasOwnProperty(attr)) {\n                        continue;\n                    }\n\n                    tmp[attr] = arguments[item][attr];\n                }\n            }\n\n            return tmp;\n        },\n\n        duplicate: function (obj) {\n            return JSON.parse(JSON.stringify(obj));\n        },\n\n        toArray: function (obj) {\n            var length = obj.length,\n                items = new Array(length);\n\n            for (var i = 0; i < length; i++) {\n                items[i] = obj[i];\n            }\n\n            return items;\n        },\n\n        getAsArray: function (obj) {\n            var items;\n\n            if (obj instanceof Array) {\n                items = obj;\n            } else if (obj instanceof NodeList) {\n                var length = obj.length;\n\n                items = new Array(length);\n                for (var i = 0; i < length; i++) {\n                    items[i] = obj[i];\n                }\n            } else {\n                items = [obj];\n            }\n\n            return items;\n        },\n\n        getLength: function (obj) {\n            if (obj.constructor === Object) {\n                if (obj.length !== undefined) {\n                    return obj.length;\n                }\n\n                return Object.keys(obj).length;\n            }\n\n            return -1;\n        },\n\n        getKeysRecursive: function (obj, delimiter, prefix, keys) {\n            if (delimiter === undefined) {\n                delimiter = '.';\n            }\n\n            if (prefix === undefined) {\n                prefix = '';\n                keys = [];\n            }\n\n            for (var item in obj) {\n                if (!obj.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                keys.push(prefix + item);\n\n                if (obj[item] !== undefined && obj[item] !== null && obj[item].constructor === Object) {\n                    laroux_helpers.getKeysRecursive(obj[item], delimiter, prefix + item + delimiter, keys);\n                    continue;\n                }\n            }\n\n            return keys;\n        },\n\n        getElement: function (obj, path, defaultValue, delimiter) {\n            if (defaultValue === undefined) {\n                defaultValue = null;\n            }\n\n            if (delimiter === undefined) {\n                delimiter = '.';\n            }\n\n            var pos = path.indexOf(delimiter);\n            var key;\n            var rest;\n            if (pos === -1) {\n                key = path;\n                rest = null;\n            } else {\n                key = path.substring(0, pos);\n                rest = path.substring(pos + 1);\n            }\n\n            if (!(key in obj)) {\n                return defaultValue;\n            }\n\n            if (rest === null || rest.length === 0) {\n                return obj[key];\n            }\n\n            return laroux_helpers.getElement(obj[key], rest, defaultValue, delimiter);\n        }\n    };\n\n    return laroux_helpers;\n\n}());\n","/*jslint nomen: true */\nmodule.exports = (function () {\n    'use strict';\n\n    // stack\n    var laroux_stack = function (data, depth, top) {\n        this._data = {};\n        this._depth = depth;\n        this._top = top || this;\n\n        this.set = function (key, value) {\n            // delete this._data[key];\n\n            var type = typeof value;\n            switch (type) {\n            case 'function':\n                this._data[key] = value;\n\n                Object.defineProperty(\n                    this,\n                    key,\n                    {\n                        configurable: true,\n                        get: function () {\n                            return this._data[key]();\n                        }\n                    }\n                );\n                break;\n\n            default:\n                /*\n                if (type == 'object') {\n                    this._data[key] = new laroux_stack(\n                        value,\n                        this._depth ?\n                            this._depth + '.' + key :\n                            key,\n                        this._top\n                    );\n                } else {\n                    this._data[key] = value;\n                }\n                */\n                this._data[key] = value;\n\n                Object.defineProperty(\n                    this,\n                    key,\n                    {\n                        configurable: true,\n                        get: function () {\n                            return this._data[key];\n                        },\n                        set: function (newValue) {\n                            var oldValue = this._data[key];\n                            if (this._data[key] === newValue) {\n                                return;\n                            }\n\n                            // this.set(this, key, newValue);\n                            this._data[key] = newValue;\n                            this._top.onupdate({ scope: this, key: key, oldValue: oldValue, newValue: newValue });\n                        }\n                    }\n                );\n                break;\n            }\n        };\n\n        this.setRange = function (values) {\n            for (var valueKey in values) {\n                if (!values.hasOwnProperty(valueKey)) {\n                    continue;\n                }\n\n                this.set(valueKey, values[valueKey]);\n            }\n        };\n\n        this.get = function (key, defaultValue) {\n            return this[key] || defaultValue || null;\n        };\n\n        this.getRange = function (keys) {\n            var values = {};\n\n            for (var item in keys) {\n                if (!keys.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                values[keys[item]] = this[keys[item]];\n            }\n\n            return values;\n        };\n\n        this.keys = function () {\n            return Object.keys(this._data);\n        };\n\n        this.length = function () {\n            return Object.keys(this._data).length;\n        };\n\n        this.exists = function (key) {\n            return (key in this._data);\n        };\n\n        this.remove = function (key) {\n            if (key in this._data) {\n                delete this[key];\n                delete this._data[key];\n            }\n        };\n\n        this.clear = function () {\n            for (var item in this._data) {\n                if (!this._data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                delete this[item];\n                delete this._data[item];\n            }\n\n            this._data = {};\n        };\n\n        this.onupdate = function (event) {\n        };\n\n        if (data) {\n            this.setRange(data);\n        }\n    };\n\n    return laroux_stack;\n\n}());\n","module.exports = (function () {\n    'use strict';\n\n    var laroux_dom = require('./laroux.dom.js'),\n        laroux_helpers = require('./laroux.helpers.js');\n\n    // templates\n    var laroux_templates = {\n        engines: {\n            plain: {\n                compile: function (template, options) {\n                    return [template, options];\n                },\n\n                render: function (compiled, model) {\n                    var result = compiled[0],\n                        dict = [],\n                        lastIndex = 0,\n                        nextIndex;\n\n                    while ((nextIndex = result.indexOf('{{', lastIndex)) !== -1) {\n                        nextIndex += 2;\n                        var closeIndex = result.indexOf('}}', nextIndex);\n                        if (closeIndex === -1) {\n                            break;\n                        }\n\n                        var key = result.substring(nextIndex, closeIndex);\n                        dict['{{' + key + '}}'] = laroux_helpers.getElement(model, key, '');\n                        lastIndex = closeIndex + 2;\n                    }\n\n                    return laroux_helpers.replaceAll(result, dict);\n                }\n            },\n\n            hogan: {\n                compile: function (template, options) {\n                    return Hogan.compile(template, options);\n                },\n\n                render: function (compiled, model) {\n                    return compiled.render(model);\n                }\n            },\n\n            mustache: {\n                compile: function (template, options) {\n                    return Mustache.compile(template, options);\n                },\n\n                render: function (compiled, model) {\n                    return compiled(model);\n                }\n            },\n\n            handlebars: {\n                compile: function (template, options) {\n                    return Handlebars.compile(template, options);\n                },\n\n                render: function (compiled, model) {\n                    return compiled(model);\n                }\n            },\n\n            lodash: {\n                compile: function (template, options) {\n                    /*jslint nomen: true */\n                    return _.compile(template, null, options);\n                },\n\n                render: function (compiled, model) {\n                    return compiled(model);\n                }\n            },\n\n            underscore: {\n                compile: function (template, options) {\n                    /*jslint nomen: true */\n                    return _.compile(template, null, options);\n                },\n\n                render: function (compiled, model) {\n                    return compiled(model);\n                }\n            }\n        },\n        engine: 'plain',\n\n        apply: function (element, model, options) {\n            var content, engine = laroux_templates.engines[laroux_templates.engine];\n\n            if (element.nodeType === 1 || element.nodeType === 3 || element.nodeType === 11) {\n                content = element.textContent;\n            } else {\n                content = element.nodeValue;\n            }\n\n            var compiled = engine.compile(content, options);\n            return engine.render(compiled, model);\n        },\n\n        insert: function (element, model, target, position, options) {\n            var output = laroux_templates.apply(element, model, options);\n\n            laroux_dom.insert(target, position || 'beforeend', output);\n        },\n\n        replace: function (element, model, target, options) {\n            var output = laroux_templates.apply(element, model, options);\n\n            laroux_dom.replace(target, output);\n        }\n    };\n\n    return laroux_templates;\n\n}());\n","module.exports = (function () {\n    'use strict';\n\n    // timers\n    var laroux_timers = {\n        data: [],\n\n        set: function (timer) {\n            timer.next = Date.now() + timer.timeout;\n            laroux_timers.data.push(timer);\n        },\n\n        remove: function (id) {\n            var targetKey = null;\n\n            for (var item in laroux_timers.data) {\n                if (!laroux_timers.data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var currentItem = laroux_timers.data[item];\n\n                if (currentItem.id !== undefined && currentItem.id == id) {\n                    targetKey = item;\n                    break;\n                }\n            }\n\n            if (targetKey !== null) {\n                laroux_timers.data.splice(targetKey, 1);\n                return true;\n            }\n\n            return false;\n        },\n\n        ontick: function () {\n            var now = Date.now();\n\n            var removeKeys = [];\n            for (var item in laroux_timers.data) {\n                if (!laroux_timers.data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var currentItem = laroux_timers.data[item];\n\n                if (currentItem.next <= now) {\n                    var result = currentItem.ontick(currentItem.state);\n\n                    if (result !== false && currentItem.reset) {\n                        currentItem.next = now + currentItem.timeout;\n                    } else {\n                        removeKeys.unshift(item);\n                    }\n                }\n            }\n\n            for (var item2 in removeKeys) {\n                if (!removeKeys.hasOwnProperty(item2)) {\n                    continue;\n                }\n\n                laroux_timers.data.splice(removeKeys[item2], 1);\n            }\n        }\n    };\n\n    return laroux_timers;\n\n}());\n","module.exports = (function () {\n    'use strict';\n\n    var laroux_helpers = require('./laroux.helpers.js');\n\n    // triggers\n    var laroux_triggers = {\n        delegates: [],\n        list: [],\n\n        set: function (condition, fnc, state) {\n            var conditions = laroux_helpers.getAsArray(condition);\n\n            for (var item in conditions) {\n                if (!conditions.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (laroux_helpers.aindex(laroux_triggers.list, conditions[item]) === -1) {\n                    laroux_triggers.list.push(conditions[item]);\n                }\n            }\n\n            laroux_triggers.delegates.push({\n                conditions: conditions,\n                fnc: fnc,\n                state: state\n            });\n        },\n\n        ontrigger: function (triggerName, args) {\n            var eventIdx = laroux_helpers.aindex(laroux_triggers.list, triggerName);\n            if (eventIdx !== -1) {\n                laroux_triggers.list.splice(eventIdx, 1);\n            }\n\n            var removeKeys = [];\n            for (var item in laroux_triggers.delegates) {\n                if (!laroux_triggers.delegates.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var count = 0;\n                var currentItem = laroux_triggers.delegates[item];\n\n                for (var conditionKey in currentItem.conditions) {\n                    if (!currentItem.conditions.hasOwnProperty(conditionKey)) {\n                        continue;\n                    }\n\n                    var conditionObj = currentItem.conditions[conditionKey];\n\n                    if (laroux_helpers.aindex(laroux_triggers.list, conditionObj) !== -1) {\n                        count++;\n                        // break;\n                    }\n                }\n\n                if (count === 0) {\n                    currentItem.fnc(\n                        {\n                            state: currentItem.state,\n                            args: laroux_helpers.getAsArray(args)\n                        }\n                    );\n                    removeKeys.unshift(item);\n                }\n            }\n\n            for (var item2 in removeKeys) {\n                if (!removeKeys.hasOwnProperty(item2)) {\n                    continue;\n                }\n\n                laroux_triggers.delegates.splice(removeKeys[item2], 1);\n            }\n\n            // console.log('trigger name: ' + triggerName);\n        }\n    };\n\n    return laroux_triggers;\n\n}());\n","module.exports = (function () {\n    'use strict';\n\n    // vars\n    var laroux_vars = {\n        cookiePath: '/',\n\n        getCookie: function (name, defaultValue) {\n            var re = new RegExp(encodeURIComponent(name) + '=[^;]+', 'i'),\n                match = document.cookie.match(re);\n\n            if (!match) {\n                return defaultValue || null;\n            }\n\n            return decodeURIComponent(match[0].split('=')[1]);\n        },\n\n        setCookie: function (name, value, expires, path) {\n            var expireValue = '';\n            if (expires) {\n                expireValue = '; expires=' + expires.toGMTString();\n            }\n\n            document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value) + expireValue + '; path=' + (path || laroux_vars.cookiePath);\n        },\n\n        removeCookie: function (name, path) {\n            document.cookie = encodeURIComponent(name) + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=' + (path || laroux_vars.cookiePath);\n        },\n\n        getLocal: function (name, defaultValue) {\n            if (!(name in localStorage)) {\n                return defaultValue || null;\n            }\n\n            return JSON.parse(localStorage[name]);\n        },\n\n        setLocal: function (name, value) {\n            localStorage[name] = JSON.stringify(value);\n        },\n\n        removeLocal: function (name) {\n            delete localStorage[name];\n        },\n\n        getSession: function (name, defaultValue) {\n            if (!(name in sessionStorage)) {\n                return defaultValue || null;\n            }\n\n            return JSON.parse(sessionStorage[name]);\n        },\n\n        setSession: function (name, value) {\n            sessionStorage[name] = JSON.stringify(value);\n        },\n\n        removeSession: function (name) {\n            delete sessionStorage[name];\n        }\n    };\n\n    return laroux_vars;\n\n}());\n","/*global NodeList, Node */\nmodule.exports = (function () {\n    'use strict';\n\n    var laroux_dom = require('./laroux.dom.js'),\n        laroux_css = require('./laroux.css.js'),\n        laroux_helpers = require('./laroux.helpers.js');\n\n    // wrapper\n    var laroux_wrapper = function (selector, parent) {\n        var selection;\n\n        if (selector instanceof Array) {\n            selection = selector;\n        } else if (selector instanceof NodeList) {\n            selection = laroux_helpers.toArray(selector);\n        } else if (selector instanceof Node) {\n            selection = [selector];\n        } else {\n            selection = laroux_dom.select(selector, parent);\n        }\n\n        if (selection.length === 1) {\n            return new laroux_wrapper.singleTemplate(selection[0]);\n        }\n\n        return new laroux_wrapper.arrayTemplate(selection);\n    };\n\n    laroux_wrapper.singleTemplate = function (element) {\n        this.source = element;\n        this.isArray = false;\n\n        this.get = function (index) {\n            if (index === 0 || index === undefined) {\n                return this.source;\n            }\n\n            return undefined;\n        };\n\n        this.find = function (selector) {\n            return laroux_wrapper(selector, this.source);\n        };\n    };\n\n    laroux_wrapper.arrayTemplate = function (elements) {\n        this.source = elements;\n        this.isArray = true;\n\n        this.get = function (index) {\n            return this.source[index];\n        };\n    };\n\n    laroux_wrapper.registerBoth = 0;\n    laroux_wrapper.registerSingle = 1;\n    laroux_wrapper.registerArray = 2;\n\n    laroux_wrapper.register = function (name, fnc, scope) {\n        var newFnc = function () {\n            var result = fnc.apply(\n                this,\n                [this.source].concat(laroux_helpers.toArray(arguments))\n            );\n\n            return (result === undefined) ? this : result;\n        };\n\n        switch (scope) {\n        case laroux_wrapper.registerSingle:\n            laroux_wrapper.singleTemplate.prototype[name] = newFnc;\n            break;\n        case laroux_wrapper.registerArray:\n            laroux_wrapper.arrayTemplate.prototype[name] = newFnc;\n            break;\n        default:\n            laroux_wrapper.singleTemplate.prototype[name] = newFnc;\n            laroux_wrapper.arrayTemplate.prototype[name] = newFnc;\n            break;\n        }\n    };\n\n    laroux_wrapper.register('attr', laroux_dom.attr, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('data', laroux_dom.data, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('on', laroux_dom.setEventSingle, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('on', laroux_dom.setEvent, laroux_wrapper.registerArray);\n    laroux_wrapper.register('off', laroux_dom.unsetEvent, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('clear', laroux_dom.clear, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('insert', laroux_dom.insert, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('prepend', laroux_dom.prepend, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('append', laroux_dom.append, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('replace', laroux_dom.replace, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('replaceText', laroux_dom.replaceText, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('remove', laroux_dom.remove, laroux_wrapper.registerSingle);\n\n    laroux_wrapper.register('hasClass', laroux_css.hasClass, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('addClass', laroux_css.addClass, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('removeClass', laroux_css.removeClass, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('toggleClass', laroux_css.toggleClass, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('getProperty', laroux_css.getProperty, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('setProperty', laroux_css.setProperty, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('setTransition', laroux_css.setTransition, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('show', laroux_css.show, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('hide', laroux_css.hide, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('height', laroux_css.height, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('innerHeight', laroux_css.innerHeight, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('outerHeight', laroux_css.outerHeight, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('width', laroux_css.width, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('innerWidth', laroux_css.innerWidth, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('outerWidth', laroux_css.outerWidth, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('top', laroux_css.top, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('left', laroux_css.left, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('aboveTheTop', laroux_css.aboveTheTop, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('belowTheFold', laroux_css.belowTheFold, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('leftOfScreen', laroux_css.leftOfScreen, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('rightOfScreen', laroux_css.rightOfScreen, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('inViewport', laroux_css.inViewport, laroux_wrapper.registerSingle);\n\n    return laroux_wrapper;\n\n}());\n","/**\n * laroux.js - A jquery substitute for modern browsers\n *\n * @version v2.0.0\n * @link https://larukedi.github.io/laroux.js\n * @license Apache-2.0\n */\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\nmodule.exports = (function (scope) {\n    'use strict';\n\n    // core\n    var laroux = function () {\n    };\n\n    if (!('$l' in scope)) {\n        scope.$l = laroux;\n    }\n\n    // core modules\n    laroux.events = require('./laroux.events.js');\n    laroux.helpers = require('./laroux.helpers.js');\n    laroux.timers = require('./laroux.timers.js');\n\n    laroux.extend = function () {\n        Array.prototype.unshift.call(arguments, laroux);\n        laroux.helpers.extendObject.apply(this, arguments);\n    };\n\n    laroux.extendObject = laroux.helpers.extendObject;\n    laroux.each = laroux.helpers.each;\n    laroux.map = laroux.helpers.map;\n    laroux.index = laroux.helpers.index;\n    laroux.aeach = laroux.helpers.aeach;\n    laroux.amap = laroux.helpers.amap;\n    laroux.aindex = laroux.helpers.aindex;\n\n    // optional modules\n    laroux.wrapper = require('./laroux.wrapper.js');\n    laroux.ajax = require('./laroux.ajax.js');\n    // laroux.css = require('./laroux.css.js');\n    // laroux.dom = require('./laroux.dom.js');\n    // laroux.events = require('./laroux.events.js');\n    // laroux.forms = require('./laroux.forms.js');\n    // laroux.helpers = require('./laroux.helpers.js');\n    // laroux.timers = require('./laroux.timers.js');\n    laroux.triggers = require('./laroux.triggers.js');\n    laroux.vars = require('./laroux.vars.js');\n\n    // laroux.anim = require('./laroux.anim.js');\n    laroux.date = require('./laroux.date.js');\n    // laroux.keys = require('./laroux.keys.js');\n    // laroux.mvc = require('./laroux.mvc.js');\n    laroux.stack = require('./laroux.stack.js');\n    laroux.templates = require('./laroux.templates.js');\n    // laroux.touch = require('./laroux.touch.js');\n    // laroux.ui = require('./laroux.ui.js');\n\n    return laroux;\n\n}(typeof window !== 'undefined' ? window : global));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"./laroux.ajax.js\":2,\"./laroux.date.js\":4,\"./laroux.events.js\":6,\"./laroux.helpers.js\":7,\"./laroux.stack.js\":8,\"./laroux.templates.js\":9,\"./laroux.timers.js\":10,\"./laroux.triggers.js\":11,\"./laroux.vars.js\":12,\"./laroux.wrapper.js\":13}],2:[function(require,module,exports){\nmodule.exports = (function () {\n    'use strict';\n\n    var laroux_events = require('./laroux.events.js'),\n        laroux_helpers = require('./laroux.helpers.js');\n\n    // ajax - partially taken from 'jquery in parts' project\n    //        can be found at: https://github.com/mythz/jquip/\n    var laroux_ajax = {\n        corsDefault: false,\n\n        wrappers: {\n            registry: {\n                'laroux.js': function (data) {\n                    if (!data.isSuccess) {\n                        console.log('Error: ' + data.errorMessage);\n                        return;\n                    }\n\n                    var obj;\n\n                    if (data.format === 'json') {\n                        obj = JSON.parse(data.object);\n                    } else if (data.format === 'script') {\n                        /*jshint evil:true */\n                        /*jslint evil:true */\n                        obj = eval(data.object);\n                    } else { // if (data.format == 'xml') {\n                        obj = data.object;\n                    }\n\n                    return obj;\n                }\n            },\n\n            set: function (name, fnc) {\n                laroux_ajax.wrappers.registry[name] = fnc;\n            }\n        },\n\n        xDomainObject: false,\n        xmlHttpRequestObject: null,\n        xDomainRequestObject: null,\n        xhr: function (crossDomain) {\n            if (laroux_ajax.xmlHttpRequestObject === null) {\n                laroux_ajax.xmlHttpRequestObject = new XMLHttpRequest();\n            }\n\n            if (crossDomain) {\n                if (!('withCredentials' in laroux_ajax.xmlHttpRequestObject) && typeof XDomainRequest !== 'undefined') {\n                    laroux_ajax.xDomainObject = true;\n\n                    if (laroux_ajax.xDomainRequestObject === null) {\n                        laroux_ajax.xDomainRequestObject = new XDomainRequest();\n                    }\n\n                    return laroux_ajax.xDomainRequestObject;\n                }\n            } else {\n                laroux_ajax.xDomainObject = false;\n            }\n\n            return laroux_ajax.xmlHttpRequestObject;\n        },\n\n        xhrResp: function (xhr, options) {\n            var wrapperFunction = xhr.getResponseHeader('X-Response-Wrapper-Function'),\n                response;\n\n            if (options.datatype === undefined) {\n                response = xhr.responseText;\n            } else if (options.datatype === 'json') {\n                response = JSON.parse(xhr.responseText);\n            } else if (options.datatype === 'script') {\n                /*jshint evil:true */\n                /*jslint evil:true */\n                response = eval(xhr.responseText);\n            } else if (options.datatype === 'xml') {\n                response = xhr.responseXML;\n            } else {\n                response = xhr.responseText;\n            }\n\n            if (wrapperFunction && (wrapperFunction in laroux_ajax.wrappers.registry)) {\n                response = laroux_ajax.wrappers.registry[wrapperFunction](response);\n            }\n\n            return {\n                response: response,\n                wrapperFunc: wrapperFunction\n            };\n        },\n\n        makeRequest: function (options) {\n            var cors = options.cors || laroux_ajax.corsDefault,\n                xhr = laroux_ajax.xhr(cors),\n                url = options.url,\n                timer = null,\n                n = 0;\n\n            if (options.timeout !== undefined) {\n                timer = setTimeout(\n                    function () {\n                        xhr.abort();\n                        if (options.timeoutFn !== undefined) {\n                            options.timeoutFn(options.url);\n                        }\n                    },\n                    options.timeout\n                );\n            }\n\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState === 4) {\n                    if (timer !== null) {\n                        clearTimeout(timer);\n                    }\n\n                    if (xhr.status < 300) {\n                        var res = null,\n                            isSuccess = true;\n\n                        try {\n                            res = laroux_ajax.xhrResp(xhr, options);\n                        } catch (e) {\n                            if (options.error !== undefined) {\n                                options.error(xhr, xhr.status, xhr.statusText);\n                            }\n\n                            laroux_events.invoke('ajaxError', [xhr, xhr.status, xhr.statusText, options]);\n                            isSuccess = false;\n                        }\n\n                        if (isSuccess) {\n                            if (options.success !== undefined && res !== null) {\n                                options.success(res.response, res.wrapperFunc);\n                            }\n\n                            laroux_events.invoke('ajaxSuccess', [xhr, res.response, res.wrapperFunc, options]);\n                        }\n                    } else {\n                        if (options.error !== undefined) {\n                            options.error(xhr, xhr.status, xhr.statusText);\n                        }\n\n                        laroux_events.invoke('ajaxError', [xhr, xhr.status, xhr.statusText, options]);\n                    }\n\n                    if (options.complete !== undefined) {\n                        options.complete(xhr, xhr.statusText);\n                    }\n\n                    laroux_events.invoke('ajaxComplete', [xhr, xhr.statusText, options]);\n                } else if (options.progress !== undefined) {\n                    /*jslint plusplus: true */\n                    options.progress(++n);\n                }\n            };\n\n            if (options.getdata !== undefined && options.getdata !== null) {\n                if (options.getdata.constructor === Object) {\n                    var queryString = laroux_helpers.buildQueryString(options.getdata);\n                    if (queryString.length > 0) {\n                        url += ((url.indexOf('?') < 0) ? '?' : '&') + queryString;\n                    }\n                } else {\n                    url += ((url.indexOf('?') < 0) ? '?' : '&') + options.getdata;\n                }\n            }\n\n            if (options.jsonp !== undefined) {\n                url += ((url.indexOf('?') < 0) ? '?' : '&') + 'jsonp=' + options.jsonp;\n            }\n\n            if (!laroux_ajax.xDomainObject) {\n                xhr.open(options.type, url, true);\n            } else {\n                xhr.open(options.type, url);\n            }\n\n            try {\n                if (options.xhrFields !== undefined) {\n                    for (var i in options.xhrFields) {\n                        if (!options.xhrFields.hasOwnProperty(i)) {\n                            continue;\n                        }\n\n                        xhr[i] = options.xhrFields[i];\n                    }\n                }\n\n                var headers = options.headers || {};\n\n                if (!cors) {\n                    headers['X-Requested-With'] = 'XMLHttpRequest';\n\n                    if (options.wrapper) {\n                        headers['X-Wrapper-Function'] = 'laroux.js';\n                    }\n                }\n\n                for (var j in headers) {\n                    if (!headers.hasOwnProperty(j)) {\n                        continue;\n                    }\n\n                    xhr.setRequestHeader(j, headers[j]);\n                }\n            } catch (e) {\n                console.log(e);\n            }\n\n            if (options.postdata === undefined || options.postdata === null) {\n                xhr.send(null);\n                return;\n            }\n\n            switch (options.postdatatype) {\n                case 'json':\n                    xhr.send(JSON.stringify(options.postdata));\n                    break;\n                case 'form':\n                    xhr.send(laroux_helpers.buildFormData(options.postdata));\n                    break;\n                default:\n                    xhr.send(options.postdata);\n                    break;\n            }\n        },\n\n        get: function (path, values, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'html',\n                getdata: values,\n                wrapper: true,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getJson: function (path, values, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'json',\n                getdata: values,\n                wrapper: true,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getJsonP: function (path, values, method, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'script',\n                getdata: values,\n                jsonp: method,\n                wrapper: false,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        getScript: function (path, values, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'GET',\n                url: path,\n                datatype: 'script',\n                getdata: values,\n                wrapper: false,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        post: function (path, values, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'POST',\n                url: path,\n                datatype: 'json',\n                postdata: values,\n                postdatatype: 'form',\n                wrapper: true,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        },\n\n        postJson: function (path, values, successfnc, errorfnc, cors) {\n            laroux_ajax.makeRequest({\n                type: 'POST',\n                url: path,\n                datatype: 'json',\n                postdata: values,\n                postdatatype: 'json',\n                headers: {\n                    'Content-Type': 'application/json; charset=UTF-8'\n                },\n                wrapper: true,\n                cors: cors || laroux_ajax.corsDefault,\n                success: successfnc,\n                error: errorfnc\n            });\n        }\n    };\n\n    return laroux_ajax;\n\n}());\n\n},{\"./laroux.events.js\":6,\"./laroux.helpers.js\":7}],3:[function(require,module,exports){\nmodule.exports = (function () {\n    'use strict';\n\n    var laroux_helpers = require('./laroux.helpers.js');\n\n    // css\n    var laroux_css = {\n        // class features\n        hasClass: function (element, className) {\n            return element.classList.contains(className);\n        },\n\n        addClass: function (element, className) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                elements[i].classList.add(className);\n            }\n        },\n\n        removeClass: function (element, className) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                elements[i].classList.remove(className);\n            }\n        },\n\n        toggleClass: function (element, className) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                if (elements[i].classList.contains(className)) {\n                    elements[i].classList.remove(className);\n                } else {\n                    elements[i].classList.add(className);\n                }\n            }\n        },\n\n        cycleClass: function (elements, className) {\n            for (var i = 0, length = elements.length; i < length; i++) {\n                if (elements[i].classList.contains(className)) {\n                    elements[i].classList.remove(className);\n                    elements[(i + 1) % length].classList.add(className);\n                    return;\n                }\n            }\n        },\n\n        // style features\n        getProperty: function (element, styleName) {\n            var style = getComputedStyle(element);\n\n            styleName = laroux_helpers.antiCamelCase(styleName);\n\n            return style.getPropertyValue(styleName);\n        },\n\n        setProperty: function (element, properties, value) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            if (typeof properties == 'string') {\n                var oldProperties = properties;\n                properties = {};\n                properties[oldProperties] = value;\n            }\n\n            for (var styleName in properties) {\n                if (!properties.hasOwnProperty(styleName)) {\n                    continue;\n                }\n\n                var newStyleName = laroux_helpers.camelCase(styleName);\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    elements[i].style[newStyleName] = properties[styleName];\n                }\n            }\n        },\n\n        // transition features\n        defaultTransition: '2s ease',\n\n        setTransitionSingle: function (element, transition) {\n            var transitions = laroux_helpers.getAsArray(transition),\n                style = getComputedStyle(element),\n                currentTransitions = style.getPropertyValue('transition') || style.getPropertyValue('-webkit-transition') ||\n                    style.getPropertyValue('-ms-transition') || '',\n                currentTransitionsArray;\n\n            if (currentTransitions.length > 0) {\n                currentTransitionsArray = currentTransitions.split(',');\n            } else {\n                currentTransitionsArray = [];\n            }\n\n            for (var item in transitions) {\n                if (!transitions.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var styleName,\n                    transitionProperties,\n                    pos = transitions[item].indexOf(' ');\n\n                if (pos !== -1) {\n                    styleName = transitions[item].substring(0, pos);\n                    transitionProperties = transitions[item].substring(pos + 1);\n                } else {\n                    styleName = transitions[item];\n                    transitionProperties = laroux_css.defaultTransition;\n                }\n\n                var found = false;\n                for (var j = 0; j < currentTransitionsArray.length; j++) {\n                    if (currentTransitionsArray[j].trim().localeCompare(styleName) === 0) {\n                        currentTransitionsArray[j] = styleName + ' ' + transitionProperties;\n                        found = true;\n                        break;\n                    }\n                }\n\n                if (!found) {\n                    currentTransitionsArray.push(styleName + ' ' + transitionProperties);\n                }\n            }\n\n            var value = currentTransitionsArray.join(', ');\n\n            element.style.transition = value;\n            element.style.webkitTransition = value;\n            element.style.msTransition = value;\n        },\n\n        setTransition: function (element, transition) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                laroux_css.setTransitionSingle(elements[i], transition);\n            }\n        },\n\n        show: function (element, transitionProperties) {\n            if (transitionProperties !== undefined) {\n                laroux_css.setTransition(element, 'opacity ' + transitionProperties);\n            } else {\n                laroux_css.setTransition(element, 'opacity');\n            }\n\n            laroux_css.setProperty(element, { opacity: 1 });\n        },\n\n        hide: function (element, transitionProperties) {\n            if (transitionProperties !== undefined) {\n                laroux_css.setTransition(element, 'opacity ' + transitionProperties);\n            } else {\n                laroux_css.setTransition(element, 'opacity');\n            }\n\n            laroux_css.setProperty(element, { opacity: 0 });\n        },\n\n        // measurement features\n        // height of element without padding, margin and border\n        height: function (element) {\n            var style = getComputedStyle(element),\n                height = style.getPropertyCSSValue('height');\n\n            return height.getFloatValue(height.primitiveType);\n        },\n\n        // height of element with padding but without margin and border\n        innerHeight: function (element) {\n            return element.clientHeight;\n        },\n\n        // height of element with padding and border but margin optional\n        outerHeight: function (element, includeMargin) {\n            if (includeMargin || false) {\n                return element.offsetHeight;\n            }\n\n            var style = getComputedStyle(element),\n                marginTop = style.getPropertyCSSValue('margin-top'),\n                marginBottom = style.getPropertyCSSValue('margin-bottom'),\n                margins = marginTop.getFloatValue(marginTop.primitiveType) +\n                    marginBottom.getFloatValue(marginBottom.primitiveType);\n\n            return Math.ceil(element.offsetHeight + margins);\n        },\n\n        // width of element without padding, margin and border\n        width: function (element) {\n            var style = getComputedStyle(element),\n                height = style.getPropertyCSSValue('width');\n\n            return height.getFloatValue(height.primitiveType);\n        },\n\n        // width of element with padding but without margin and border\n        innerWidth: function (element) {\n            return element.clientWidth;\n        },\n\n        // width of element with padding and border but margin optional\n        outerWidth: function (element, includeMargin) {\n            if (includeMargin || false) {\n                return element.offsetWidth;\n            }\n\n            var style = getComputedStyle(element),\n                marginLeft = style.getPropertyCSSValue('margin-left'),\n                marginRight = style.getPropertyCSSValue('margin-right'),\n                margins = marginLeft.getFloatValue(marginLeft.primitiveType) +\n                    marginRight.getFloatValue(marginRight.primitiveType);\n\n            return Math.ceil(element.offsetWidth + margins);\n        },\n\n        top: function (element) {\n            return element.getBoundingClientRect().top +\n                ((document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop);\n        },\n\n        left: function (element) {\n            return element.getBoundingClientRect().left +\n                ((document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft);\n        },\n\n        aboveTheTop: function (element) {\n            return element.getBoundingClientRect().bottom <= 0;\n        },\n\n        belowTheFold: function (element) {\n            return element.getBoundingClientRect().top > innerHeight;\n        },\n\n        leftOfScreen: function (element) {\n            return element.getBoundingClientRect().right <= 0;\n        },\n\n        rightOfScreen: function (element) {\n            return element.getBoundingClientRect().left > innerWidth;\n        },\n\n        inViewport: function (element) {\n            var rect = element.getBoundingClientRect();\n\n            return !(rect.bottom <= 0 || rect.top > innerHeight ||\n                rect.right <= 0 || rect.left > innerWidth);\n        }\n    };\n\n    return laroux_css;\n\n}());\n\n},{\"./laroux.helpers.js\":7}],4:[function(require,module,exports){\nmodule.exports = (function () {\n    'use strict';\n\n    // date\n    var laroux_date = {\n        shortDateFormat: 'dd.MM.yyyy',\n        longDateFormat: 'dd MMMM yyyy',\n        timeFormat: 'HH:mm',\n\n        monthsShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        monthsLong: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\n        strings: {\n            now:     'now',\n            later:   'later',\n            ago:     'ago',\n            seconds: 'seconds',\n            aminute: 'a minute',\n            minutes: 'minutes',\n            ahour:   'a hour',\n            hours:   'hours',\n            aday:    'a day',\n            days:    'days',\n            aweek:   'a week',\n            weeks:   'weeks',\n            amonth:  'a month',\n            months:  'months',\n            ayear:   'a year',\n            years:   'years'\n        },\n\n        parseEpoch: function (timespan, limitWithWeeks) {\n            if (timespan < 60 * 1000) {\n                timespan = Math.ceil(timespan / 1000);\n\n                return timespan + ' ' + laroux_date.strings.seconds;\n            }\n\n            if (timespan < 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux_date.strings.aminute;\n                }\n\n                return timespan + ' ' + laroux_date.strings.minutes;\n            }\n\n            if (timespan < 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux_date.strings.ahour;\n                }\n\n                return timespan + ' ' + laroux_date.strings.hours;\n            }\n\n            if (timespan < 7 * 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (24 * 60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux_date.strings.aday;\n                }\n\n                return timespan + ' ' + laroux_date.strings.days;\n            }\n\n            if (timespan < 4 * 7 * 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (7 * 24 * 60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux_date.strings.aweek;\n                }\n\n                return timespan + ' ' + laroux_date.strings.weeks;\n            }\n\n            if (limitWithWeeks === true) {\n                return null;\n            }\n\n            if (timespan < 30 * 7 * 24 * 60 * 60 * 1000) {\n                timespan = Math.ceil(timespan / (30 * 24 * 60 * 60 * 1000));\n\n                if (timespan === 1) {\n                    return laroux_date.strings.amonth;\n                }\n\n                return timespan + ' ' + laroux_date.strings.months;\n            }\n\n            timespan = Math.ceil(timespan / (365 * 24 * 60 * 60 * 1000));\n\n            if (timespan === 1) {\n                return laroux_date.strings.ayear;\n            }\n\n            return timespan + ' ' + laroux_date.strings.years;\n        },\n\n        getCustomDateString: function (format, date) {\n            var now = date || new Date();\n\n            return format.replace(\n                /yyyy|yy|MMMM|MMM|MM|M|dd|d|hh|h|HH|H|mm|m|ss|s|tt|t/g,\n                function (match) {\n                    switch (match) {\n                    case 'yyyy':\n                        return now.getFullYear();\n\n                    case 'yy':\n                        return now.getYear();\n\n                    case 'MMMM':\n                        return laroux_date.monthsLong[now.getMonth()];\n\n                    case 'MMM':\n                        return laroux_date.monthsShort[now.getMonth()];\n\n                    case 'MM':\n                        return ('0' + (now.getMonth() + 1)).substr(-2, 2);\n\n                    case 'M':\n                        return now.getMonth() + 1;\n\n                    case 'dd':\n                        return ('0' + now.getDate()).substr(-2, 2);\n\n                    case 'd':\n                        return now.getDate();\n\n                    case 'hh':\n                        var hour1 = now.getHours();\n                        return ('0' + (((hour1 % 12) > 0) ? hour1 % 12 : 12)).substr(-2, 2);\n\n                    case 'h':\n                        var hour2 = now.getHours();\n                        return ((hour2 % 12) > 0) ? hour2 % 12 : 12;\n\n                    case 'HH':\n                        return ('0' + now.getHours()).substr(-2, 2);\n\n                    case 'H':\n                        return now.getHours();\n\n                    case 'mm':\n                        return ('0' + now.getMinutes()).substr(-2, 2);\n\n                    case 'm':\n                        return now.getMinutes();\n\n                    case 'ss':\n                        return ('0' + now.getSeconds()).substr(-2, 2);\n\n                    case 's':\n                        return now.getSeconds();\n\n                    case 'tt':\n                        if (now.getHours() >= 12) {\n                            return 'pm';\n                        }\n\n                        return 'am';\n\n                    case 't':\n                        if (now.getHours() >= 12) {\n                            return 'p';\n                        }\n\n                        return 'a';\n                    }\n\n                    return match;\n                }\n            );\n        },\n\n        getDateDiffString: function (date) {\n            var now = Date.now(),\n                timespan = now - date.getTime(),\n                absTimespan = Math.abs(timespan),\n                past = (timespan > 0);\n\n            if (absTimespan <= 3000) {\n                return laroux_date.strings.now;\n            }\n\n            var timespanstring = laroux_date.parseEpoch(absTimespan, true);\n            if (timespanstring !== null) {\n                return timespanstring +\n                    ' ' +\n                    (past ? laroux_date.strings.ago : laroux_date.strings.later);\n            }\n\n            return laroux_date.getShortDateString(date, true);\n        },\n\n        getShortDateString: function (date, includeTime) {\n            return laroux_date.getCustomDateString(\n                includeTime ? laroux_date.shortDateFormat + ' ' + laroux_date.timeFormat : laroux_date.shortDateFormat,\n                date\n            );\n        },\n\n        getLongDateString: function (date, includeTime) {\n            return laroux_date.getCustomDateString(\n                includeTime ? laroux_date.longDateFormat + ' ' + laroux_date.timeFormat : laroux_date.longDateFormat,\n                date\n            );\n        }\n    };\n\n    return laroux_date;\n\n}());\n\n},{}],5:[function(require,module,exports){\nmodule.exports = (function () {\n    'use strict';\n\n    var laroux_helpers = require('./laroux.helpers.js');\n        // laroux_css = require('./laroux.css.js'),\n        // laroux_triggers = require('./laroux.triggers.js');\n\n    // dom\n    var laroux_dom = {\n        docprop: function (propName) {\n            return document.documentElement.classList.contains(propName);\n        },\n\n        select: function (selector, parent) {\n            return laroux_helpers.toArray(\n                (parent || document).querySelectorAll(selector)\n            );\n        },\n\n        selectByClass: function (selector, parent) {\n            return laroux_helpers.toArray(\n                (parent || document).getElementsByClassName(selector)\n            );\n        },\n\n        selectByTag: function (selector, parent) {\n            return laroux_helpers.toArray(\n                (parent || document).getElementsByTagName(selector)\n            );\n        },\n\n        selectById: function (selector, parent) {\n            return (parent || document).getElementById(selector);\n        },\n\n        selectSingle: function (selector, parent) {\n            return (parent || document).querySelector(selector);\n        },\n\n        attr: function (element, attributes, value) {\n            if (value === undefined && attributes.constructor !== Object) {\n                return element.getAttribute(attributes);\n            }\n\n            var elements = laroux_helpers.getAsArray(element);\n            if (typeof attributes === 'string') {\n                var oldAttributes = attributes;\n                attributes = {};\n                attributes[oldAttributes] = value;\n            }\n\n            for (var attributeName in attributes) {\n                if (!attributes.hasOwnProperty(attributeName)) {\n                    continue;\n                }\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    if (attributes[attributeName] === null) {\n                        element.removeAttribute(attributeName);\n                    } else {\n                        element.setAttribute(attributeName, attributes[attributeName]);\n                    }\n                }\n            }\n        },\n\n        data: function (element, datanames, value) {\n            if (value === undefined && datanames.constructor !== Object) {\n                return element.getAttribute('data-' + datanames);\n            }\n\n            var elements = laroux_helpers.getAsArray(element);\n            if (typeof datanames == 'string') {\n                var oldDatanames = datanames;\n                datanames = {};\n                datanames[oldDatanames] = value;\n            }\n\n            for (var dataName in datanames) {\n                if (!datanames.hasOwnProperty(dataName)) {\n                    continue;\n                }\n\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    if (datanames[dataName] === null) {\n                        element.removeAttribute('data-' + dataName);\n                    } else {\n                        element.setAttribute('data-' + dataName, datanames[dataName]);\n                    }\n                }\n            }\n        },\n\n        eventHistory: [],\n        setEvent: function (element, eventname, fnc) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i = 0, length = elements.length; i < length; i++) {\n                laroux_dom.setEventSingle(elements[i], eventname, fnc);\n            }\n        },\n\n        setEventSingle: function (element, eventname, fnc) {\n            var fncWrapper = function (e) {\n                if (fnc(e, element) === false) {\n                    if (e.preventDefault) {\n                        e.preventDefault();\n                    } else {\n                        event.returnValue = false;\n                    }\n                }\n            };\n\n            laroux_dom.eventHistory.push({ element: element, eventname: eventname, fnc: fnc, fncWrapper: fncWrapper });\n            element.addEventListener(eventname, fncWrapper, false);\n        },\n\n        unsetEvent: function (element, eventname, fnc) {\n            var elements = laroux_helpers.getAsArray(element);\n\n            for (var i1 = 0, length1 = elements.length; i1 < length1; i1++) {\n                for (var i2 = 0, length2 = laroux_dom.eventHistory.length; i2 < length2; i2++) {\n                    var item = laroux_dom.eventHistory[i2];\n\n                    if (item === undefined) {\n                        continue;\n                    }\n\n                    if (item.element !== elements[i1]) {\n                        continue;\n                    }\n\n                    if (eventname !== undefined && item.eventname !== eventname) {\n                        continue;\n                    }\n\n                    if (fnc !== undefined && item.fnc !== fnc) {\n                        continue;\n                    }\n\n                    item.element.removeEventListener(item.eventname, item.fncWrapper, false);\n                    delete laroux_dom.eventHistory[i2];\n                }\n            }\n        },\n\n        dispatchEvent: function (element, eventname, data) {\n            var customEvent = document.createEvent('Event');\n            for (var item in data) {\n                if (!data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                customEvent[item] = data[item];\n            }\n\n            customEvent.initEvent(eventname, true, true);\n            element.dispatchEvent(customEvent);\n        },\n\n        create: function (html) {\n            var frag = document.createDocumentFragment(),\n                temp = document.createElement('DIV');\n\n            temp.insertAdjacentHTML('beforeend', html);\n            while (temp.firstChild) {\n                frag.appendChild(temp.firstChild);\n            }\n\n            // nulling out the reference, there is no obvious dispose method\n            temp = null;\n\n            return frag;\n        },\n\n        createElement: function (element, attributes, children) {\n            var elem = document.createElement(element);\n\n            if (attributes !== undefined && attributes.constructor === Object) {\n                for (var item in attributes) {\n                    if (!attributes.hasOwnProperty(item)) {\n                        continue;\n                    }\n\n                    elem.setAttribute(item, attributes[item]);\n                }\n            }\n\n            if (children !== undefined) {\n                if (children.constructor === Object) {\n                    for (var item2 in children) {\n                        if (!children.hasOwnProperty(item2)) {\n                            continue;\n                        }\n\n                        elem.setAttribute(item2, children[item2]);\n                    }\n                } else if (/* typeof children == 'string' && */children.length > 0) {\n                    laroux_dom.append(elem, children);\n                }\n            }\n\n            return elem;\n        },\n\n        createOption: function (element, key, value, isDefault) {\n            /* old behaviour, does not support optgroups as parents.\n            var count = element.options.length;\n            element.options[count] = new Option(value, key);\n\n            if (isDefault === true) {\n                element.options.selectedIndex = count - 1;\n            }\n            */\n\n            var option = document.createElement('OPTION');\n            option.setAttribute('value', key);\n            if (isDefault === true) {\n                option.setAttribute('checked', 'checked');\n            }\n\n            laroux_dom.append(option, value);\n            element.appendChild(option);\n        },\n\n        selectByValue: function (element, value) {\n            for (var i = 0, length = element.options.length; i < length; i++) {\n                if (element.options[i].getAttribute('value') == value) {\n                    element.selectedIndex = i;\n                    break;\n                }\n            }\n        },/*,\n\n        // TODO: it's redundant for now\n        loadImage: function () {\n            var images = [];\n\n            for (var i = 0, length = arguments.length; i < length; i++) {\n                var image = document.createElement('IMG');\n                image.setAttribute('src', arguments[i]);\n\n                images.push(image);\n            }\n\n            return images;\n        },\n\n        loadAsyncScript: function (path, triggerName, async) {\n            var elem = document.createElement('script');\n\n            elem.type = 'text/javascript';\n            elem.async = (async !== undefined) ? async : true;\n            elem.src = path;\n\n            var loaded = false;\n            elem.onload = elem.onreadystatechange = function () {\n                if ((elem.readyState && elem.readyState !== 'complete' && elem.readyState !== 'loaded') || loaded) {\n                    return false;\n                }\n\n                elem.onload = elem.onreadystatechange = null;\n                loaded = true;\n                if (triggerName) {\n                    if (typeof triggerName == 'function') {\n                        triggerName();\n                    } else {\n                        laroux_triggers.ontrigger(triggerName);\n                    }\n                }\n            };\n\n            var head = document.getElementsByTagName('head')[0];\n            head.appendChild(elem);\n        },\n\n        loadAsyncStyle: function (path, triggerName, async) {\n            var elem = document.createElement('LINK');\n\n            elem.type = 'text/css';\n            elem.async = (async !== undefined) ? async : true;\n            elem.href = path;\n            elem.rel = 'stylesheet';\n\n            var loaded = false;\n            elem.onload = elem.onreadystatechange = function () {\n                if ((elem.readyState && elem.readyState !== 'complete' && elem.readyState !== 'loaded') || loaded) {\n                    return false;\n                }\n\n                elem.onload = elem.onreadystatechange = null;\n                loaded = true;\n                if (triggerName) {\n                    if (typeof triggerName == 'function') {\n                        triggerName();\n                    } else {\n                        laroux_triggers.ontrigger(triggerName);\n                    }\n                }\n            };\n\n            var head = document.getElementsByTagName('head')[0];\n            head.appendChild(elem);\n        },*/\n\n        clear: function (element) {\n            while (element.hasChildNodes()) {\n                element.removeChild(element.firstChild);\n            }\n        },\n\n        insert: function (element, position, content) {\n            element.insertAdjacentHTML(position, content);\n        },\n\n        prepend: function (element, content) {\n            element.insertAdjacentHTML('afterbegin', content);\n        },\n\n        append: function (element, content) {\n            element.insertAdjacentHTML('beforeend', content);\n        },\n\n        replace: function (element, content) {\n            laroux_dom.clear(element);\n            element.insertAdjacentHTML('afterbegin', content);\n        },\n\n        replaceText: function (element, content) {\n            // laroux_dom.clear(element);\n            element.textContent = content;\n        },\n\n        remove: function (element) {\n            element.remove();\n        },\n\n        cloneReturn: 0,\n        cloneAppend: 1,\n        cloneInsertAfter: 2,\n        cloneInsertBefore: 3,\n\n        clone: function (element, type, container, target) {\n            var newElement = element.cloneNode(true);\n\n            if (container === undefined) {\n                container = element.parentNode;\n            }\n            if (target === undefined) {\n                target = element;\n            }\n\n            if (type !== undefined && type != laroux_dom.cloneReturn) {\n                if (type == laroux_dom.cloneAppend) {\n                    container.appendChild(newElement);\n                } else if (type == laroux_dom.cloneInsertAfter) {\n                    container.insertBefore(newElement, target.nextSibling);\n                } else { // type == laroux_dom.cloneInsertBefore\n                    container.insertBefore(newElement, target);\n                }\n            }\n\n            return newElement;\n        }/*,\n\n        // TODO: it's redundant for now\n        applyOperations: function (element, operations) {\n            for (var operation in operations) {\n                if (!operations.hasOwnProperty(operation)) {\n                    continue;\n                }\n\n                for (var binding in operations[operation]) {\n                    if (!operations[operation].hasOwnProperty(binding)) {\n                        continue;\n                    }\n\n                    var value = operations[operation][binding];\n\n                    switch (operation) {\n                        case 'setprop':\n                            if (binding.substring(0, 1) == '_') {\n                                element.setAttribute(binding.substring(1), value);\n                                continue;\n                            }\n\n                            if (binding == 'content') {\n                                laroux_dom.replace(element, value);\n                                continue;\n                            }\n                            break;\n                        case 'addprop':\n                            if (binding.substring(0, 1) == '_') {\n                                element.setAttribute(binding.substring(1), element.getAttribute(binding.substring(1)) + value);\n                                continue;\n                            }\n\n                            if (binding == 'content') {\n                                laroux_dom.append(element, value);\n                                continue;\n                            }\n                            break;\n                        case 'removeprop':\n                            if (value.substring(0, 1) == '_') {\n                                element.removeAttribute(value.substring(1));\n                                continue;\n                            }\n\n                            if (value == 'content') {\n                                laroux_dom.clear(element);\n                                continue;\n                            }\n                            break;\n                        case 'addclass':\n                            laroux_css.addClass(element, value);\n                            break;\n                        case 'removeclass':\n                            laroux_css.removeClass(element, value);\n                            break;\n                        case 'addstyle':\n                            laroux_css.setProperty(element, binding, value);\n                            break;\n                        case 'removestyle':\n                            laroux_css.setProperty(element, value, 'inherit !important');\n                            break;\n                        case 'repeat':\n                            break;\n                        default:\n                            console.log(operation);\n                    }\n                }\n            }\n        }*/\n    };\n\n    // a fix for Internet Explorer\n    if (typeof Element !== 'undefined') {\n        if (Element.prototype.remove === undefined) {\n            Element.prototype.remove = function () {\n                if (this.parentElement !== null) {\n                    this.parentElement.removeChild(this);\n                }\n            };\n        }\n    }\n\n    return laroux_dom;\n\n}());\n\n},{\"./laroux.helpers.js\":7}],6:[function(require,module,exports){\nmodule.exports = (function () {\n    'use strict';\n\n    // events\n    var laroux_events = {\n        delegates: [],\n\n        add: function (event, fnc) {\n            laroux_events.delegates.push({ event: event, fnc: fnc });\n        },\n\n        invoke: function (event, args) {\n            for (var item in laroux_events.delegates) {\n                if (!laroux_events.delegates.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (laroux_events.delegates[item].event != event) {\n                    continue;\n                }\n\n                laroux_events.delegates[item].fnc(args);\n            }\n        }\n    };\n\n    return laroux_events;\n\n}());\n\n},{}],7:[function(require,module,exports){\nmodule.exports = (function () {\n    'use strict';\n\n    // helpers\n    var laroux_helpers = {\n        uniqueId: 0,\n\n        getUniqueId: function () {\n            /*jslint plusplus: true */\n            return 'uid-' + (++laroux_helpers.uniqueId);\n        },\n\n        buildQueryString: function (values, rfc3986) {\n            var uri = '',\n                regEx = /%20/g;\n\n            for (var name in values) {\n                if (!values.hasOwnProperty(name)) {\n                    continue;\n                }\n\n                if (typeof values[name] != 'function') {\n                    if (rfc3986 || false) {\n                        uri += '&' + encodeURIComponent(name).replace(regEx, '+') + '=' + encodeURIComponent(values[name].toString()).replace(regEx, '+');\n                    } else {\n                        uri += '&' + encodeURIComponent(name) + '=' + encodeURIComponent(values[name].toString());\n                    }\n                }\n            }\n\n            return uri.substr(1);\n        },\n\n        buildFormData: function (values) {\n            var data = new FormData();\n\n            for (var name in values) {\n                if (!values.hasOwnProperty(name)) {\n                    continue;\n                }\n\n                if (typeof values[name] != 'function') {\n                    data.append(name, values[name]);\n                }\n            }\n\n            return data;\n        },\n\n        format: function () {\n            var args = arguments;\n            return Array.prototype.shift.call(args).replace(/%s/g, function () { return Array.prototype.shift.call(args); });\n        },\n\n        replaceAll: function (text, dictionary) {\n            var re = new RegExp(Object.keys(dictionary).join('|'), 'g');\n\n            return text.replace(\n                re,\n                function (match) {\n                    return dictionary[match];\n                }\n            );\n        },\n\n        camelCase: function (value) {\n            var flag = false;\n            var output = '';\n\n            for (var j = 0; j < value.length; j++) {\n                var currChar = value.charAt(j);\n                if (currChar == '-') {\n                    flag = true;\n                    continue;\n                }\n\n                output += (!flag) ? currChar : currChar.toUpperCase();\n                flag = false;\n            }\n\n            return output;\n        },\n\n        antiCamelCase: function (value) {\n            var output = '';\n\n            for (var j = 0; j < value.length; j++) {\n                var currChar = value.charAt(j);\n                if (currChar != '-' && currChar == currChar.toUpperCase()) {\n                    output += '-' + currChar.toLowerCase();\n                    continue;\n                }\n\n                output += currChar;\n            }\n\n            return output;\n        },\n\n        quoteAttr: function (value) {\n            return value.replace(/&/g, '&amp;')\n                        .replace(/'/g, '&apos;')\n                        .replace(/\"/g, '&quot;')\n                        .replace(/</g, '&lt;')\n                        .replace(/>/g, '&gt;')\n                        .replace(/\"/g, '&quot;')\n                        .replace(/\\r\\n/g, '&#13;')\n                        .replace(/[\\r\\n]/g, '&#13;');\n        },\n\n        spliceString: function (value, index, count, add) {\n            return value.slice(0, index) + (add || '') + value.slice(index + count);\n        },\n\n        random: function (min, max) {\n            return min + Math.floor(Math.random() * (max - min + 1));\n        },\n\n        find: function (obj, iterator, context) {\n            var result;\n\n            obj.some(function (value, index, list) {\n                if (iterator.call(context, value, index, list)) {\n                    result = value;\n                    return true;\n                }\n            });\n\n            return result;\n        },\n\n        extendObject: function () {\n            var target = Array.prototype.shift.call(arguments),\n                isArray = target instanceof Array;\n\n            for (var item in arguments) {\n                for (var name in arguments[item]) {\n                    // if (isArray) {\n                    //     target.push(arguments[item][name]);\n                    //     continue;\n                    // }\n\n                    /* target[name].constructor === Object */\n                    if (target.hasOwnProperty(name) && target[name] instanceof Object) {\n                        laroux_helpers.extendObject(target[name], arguments[item][name]);\n                        continue;\n                    }\n\n                    target[name] = arguments[item][name];\n                }\n            }\n        },\n\n        each: function (arr, fnc, testOwnProperties) {\n            for (var item in arr) {\n                if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (fnc(item, arr[item]) === false) {\n                    break;\n                }\n            }\n\n            return arr;\n        },\n\n        map: function (arr, fnc, dontSkipReturns, testOwnProperties) {\n            var results = [];\n\n            for (var item in arr) {\n                if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var result = fnc(arr[item], item);\n                if (result === false) {\n                    break;\n                }\n\n                if (dontSkipReturns || result !== undefined) {\n                    results.push(result);\n                }\n            }\n\n            return results;\n        },\n\n        index: function (arr, value, testOwnProperties) {\n            for (var item in arr) {\n                if (testOwnProperties && !arr.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (arr[item] === object) {\n                    return item;\n                }\n            }\n\n            return null;\n        },\n\n        aeach: function (arr, fnc) {\n            for (var i = 0, length = arr.length; i < length; i++) {\n                if (fnc(i, arr[i]) === false) {\n                    break;\n                }\n            }\n\n            return arr;\n        },\n\n        amap: function (arr, fnc, dontSkipReturns) {\n            var results = [];\n\n            for (var i = 0, length = arr.length; i < length; i++) {\n                var result = fnc(arr[i], i);\n                if (result === false) {\n                    break;\n                }\n\n                if (dontSkipReturns || result !== undefined) {\n                    results.unshift(result);\n                }\n            }\n\n            return results;\n        },\n\n        aindex: function (arr, value, start) {\n            for (var i = (start || 0), length = arr.length; i < length; i++) {\n                if (arr[i] === value) {\n                    return i;\n                }\n            }\n\n            return -1;\n        },\n\n        column: function (obj, key) {\n            return laroux_helpers.map(obj, function (value) { return value[key]; }, true);\n        },\n\n        shuffle: function (obj) {\n            var index = 0,\n                shuffled = [];\n\n            for (var item in obj) {\n                if (!obj.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var rand = laroux_helpers.random(0, index);\n                shuffled[index++] = shuffled[rand];\n                shuffled[rand] = obj[item];\n            }\n\n            return shuffled;\n        },\n\n        merge: function () {\n            var target = Array.prototype.shift.call(arguments),\n                tmp = target,\n                isArray = tmp instanceof Array;\n\n            for (var item in arguments) {\n                if (isArray) {\n                    tmp = tmp.concat(arguments[item]);\n                    continue;\n                }\n\n                for (var attr in arguments[item]) {\n                    if (!arguments[item].hasOwnProperty(attr)) {\n                        continue;\n                    }\n\n                    tmp[attr] = arguments[item][attr];\n                }\n            }\n\n            return tmp;\n        },\n\n        duplicate: function (obj) {\n            return JSON.parse(JSON.stringify(obj));\n        },\n\n        toArray: function (obj) {\n            var length = obj.length,\n                items = new Array(length);\n\n            for (var i = 0; i < length; i++) {\n                items[i] = obj[i];\n            }\n\n            return items;\n        },\n\n        getAsArray: function (obj) {\n            var items;\n\n            if (obj instanceof Array) {\n                items = obj;\n            } else if (obj instanceof NodeList) {\n                var length = obj.length;\n\n                items = new Array(length);\n                for (var i = 0; i < length; i++) {\n                    items[i] = obj[i];\n                }\n            } else {\n                items = [obj];\n            }\n\n            return items;\n        },\n\n        getLength: function (obj) {\n            if (obj.constructor === Object) {\n                if (obj.length !== undefined) {\n                    return obj.length;\n                }\n\n                return Object.keys(obj).length;\n            }\n\n            return -1;\n        },\n\n        getKeysRecursive: function (obj, delimiter, prefix, keys) {\n            if (delimiter === undefined) {\n                delimiter = '.';\n            }\n\n            if (prefix === undefined) {\n                prefix = '';\n                keys = [];\n            }\n\n            for (var item in obj) {\n                if (!obj.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                keys.push(prefix + item);\n\n                if (obj[item] !== undefined && obj[item] !== null && obj[item].constructor === Object) {\n                    laroux_helpers.getKeysRecursive(obj[item], delimiter, prefix + item + delimiter, keys);\n                    continue;\n                }\n            }\n\n            return keys;\n        },\n\n        getElement: function (obj, path, defaultValue, delimiter) {\n            if (defaultValue === undefined) {\n                defaultValue = null;\n            }\n\n            if (delimiter === undefined) {\n                delimiter = '.';\n            }\n\n            var pos = path.indexOf(delimiter);\n            var key;\n            var rest;\n            if (pos === -1) {\n                key = path;\n                rest = null;\n            } else {\n                key = path.substring(0, pos);\n                rest = path.substring(pos + 1);\n            }\n\n            if (!(key in obj)) {\n                return defaultValue;\n            }\n\n            if (rest === null || rest.length === 0) {\n                return obj[key];\n            }\n\n            return laroux_helpers.getElement(obj[key], rest, defaultValue, delimiter);\n        }\n    };\n\n    return laroux_helpers;\n\n}());\n\n},{}],8:[function(require,module,exports){\n/*jslint nomen: true */\nmodule.exports = (function () {\n    'use strict';\n\n    // stack\n    var laroux_stack = function (data, depth, top) {\n        this._data = {};\n        this._depth = depth;\n        this._top = top || this;\n\n        this.set = function (key, value) {\n            // delete this._data[key];\n\n            var type = typeof value;\n            switch (type) {\n            case 'function':\n                this._data[key] = value;\n\n                Object.defineProperty(\n                    this,\n                    key,\n                    {\n                        configurable: true,\n                        get: function () {\n                            return this._data[key]();\n                        }\n                    }\n                );\n                break;\n\n            default:\n                /*\n                if (type == 'object') {\n                    this._data[key] = new laroux_stack(\n                        value,\n                        this._depth ?\n                            this._depth + '.' + key :\n                            key,\n                        this._top\n                    );\n                } else {\n                    this._data[key] = value;\n                }\n                */\n                this._data[key] = value;\n\n                Object.defineProperty(\n                    this,\n                    key,\n                    {\n                        configurable: true,\n                        get: function () {\n                            return this._data[key];\n                        },\n                        set: function (newValue) {\n                            var oldValue = this._data[key];\n                            if (this._data[key] === newValue) {\n                                return;\n                            }\n\n                            // this.set(this, key, newValue);\n                            this._data[key] = newValue;\n                            this._top.onupdate({ scope: this, key: key, oldValue: oldValue, newValue: newValue });\n                        }\n                    }\n                );\n                break;\n            }\n        };\n\n        this.setRange = function (values) {\n            for (var valueKey in values) {\n                if (!values.hasOwnProperty(valueKey)) {\n                    continue;\n                }\n\n                this.set(valueKey, values[valueKey]);\n            }\n        };\n\n        this.get = function (key, defaultValue) {\n            return this[key] || defaultValue || null;\n        };\n\n        this.getRange = function (keys) {\n            var values = {};\n\n            for (var item in keys) {\n                if (!keys.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                values[keys[item]] = this[keys[item]];\n            }\n\n            return values;\n        };\n\n        this.keys = function () {\n            return Object.keys(this._data);\n        };\n\n        this.length = function () {\n            return Object.keys(this._data).length;\n        };\n\n        this.exists = function (key) {\n            return (key in this._data);\n        };\n\n        this.remove = function (key) {\n            if (key in this._data) {\n                delete this[key];\n                delete this._data[key];\n            }\n        };\n\n        this.clear = function () {\n            for (var item in this._data) {\n                if (!this._data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                delete this[item];\n                delete this._data[item];\n            }\n\n            this._data = {};\n        };\n\n        this.onupdate = function (event) {\n        };\n\n        if (data) {\n            this.setRange(data);\n        }\n    };\n\n    return laroux_stack;\n\n}());\n\n},{}],9:[function(require,module,exports){\nmodule.exports = (function () {\n    'use strict';\n\n    var laroux_dom = require('./laroux.dom.js'),\n        laroux_helpers = require('./laroux.helpers.js');\n\n    // templates\n    var laroux_templates = {\n        engines: {\n            plain: {\n                compile: function (template, options) {\n                    return [template, options];\n                },\n\n                render: function (compiled, model) {\n                    var result = compiled[0],\n                        dict = [],\n                        lastIndex = 0,\n                        nextIndex;\n\n                    while ((nextIndex = result.indexOf('{{', lastIndex)) !== -1) {\n                        nextIndex += 2;\n                        var closeIndex = result.indexOf('}}', nextIndex);\n                        if (closeIndex === -1) {\n                            break;\n                        }\n\n                        var key = result.substring(nextIndex, closeIndex);\n                        dict['{{' + key + '}}'] = laroux_helpers.getElement(model, key, '');\n                        lastIndex = closeIndex + 2;\n                    }\n\n                    return laroux_helpers.replaceAll(result, dict);\n                }\n            },\n\n            hogan: {\n                compile: function (template, options) {\n                    return Hogan.compile(template, options);\n                },\n\n                render: function (compiled, model) {\n                    return compiled.render(model);\n                }\n            },\n\n            mustache: {\n                compile: function (template, options) {\n                    return Mustache.compile(template, options);\n                },\n\n                render: function (compiled, model) {\n                    return compiled(model);\n                }\n            },\n\n            handlebars: {\n                compile: function (template, options) {\n                    return Handlebars.compile(template, options);\n                },\n\n                render: function (compiled, model) {\n                    return compiled(model);\n                }\n            },\n\n            lodash: {\n                compile: function (template, options) {\n                    /*jslint nomen: true */\n                    return _.compile(template, null, options);\n                },\n\n                render: function (compiled, model) {\n                    return compiled(model);\n                }\n            },\n\n            underscore: {\n                compile: function (template, options) {\n                    /*jslint nomen: true */\n                    return _.compile(template, null, options);\n                },\n\n                render: function (compiled, model) {\n                    return compiled(model);\n                }\n            }\n        },\n        engine: 'plain',\n\n        apply: function (element, model, options) {\n            var content, engine = laroux_templates.engines[laroux_templates.engine];\n\n            if (element.nodeType === 1 || element.nodeType === 3 || element.nodeType === 11) {\n                content = element.textContent;\n            } else {\n                content = element.nodeValue;\n            }\n\n            var compiled = engine.compile(content, options);\n            return engine.render(compiled, model);\n        },\n\n        insert: function (element, model, target, position, options) {\n            var output = laroux_templates.apply(element, model, options);\n\n            laroux_dom.insert(target, position || 'beforeend', output);\n        },\n\n        replace: function (element, model, target, options) {\n            var output = laroux_templates.apply(element, model, options);\n\n            laroux_dom.replace(target, output);\n        }\n    };\n\n    return laroux_templates;\n\n}());\n\n},{\"./laroux.dom.js\":5,\"./laroux.helpers.js\":7}],10:[function(require,module,exports){\nmodule.exports = (function () {\n    'use strict';\n\n    // timers\n    var laroux_timers = {\n        data: [],\n\n        set: function (timer) {\n            timer.next = Date.now() + timer.timeout;\n            laroux_timers.data.push(timer);\n        },\n\n        remove: function (id) {\n            var targetKey = null;\n\n            for (var item in laroux_timers.data) {\n                if (!laroux_timers.data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var currentItem = laroux_timers.data[item];\n\n                if (currentItem.id !== undefined && currentItem.id == id) {\n                    targetKey = item;\n                    break;\n                }\n            }\n\n            if (targetKey !== null) {\n                laroux_timers.data.splice(targetKey, 1);\n                return true;\n            }\n\n            return false;\n        },\n\n        ontick: function () {\n            var now = Date.now();\n\n            var removeKeys = [];\n            for (var item in laroux_timers.data) {\n                if (!laroux_timers.data.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var currentItem = laroux_timers.data[item];\n\n                if (currentItem.next <= now) {\n                    var result = currentItem.ontick(currentItem.state);\n\n                    if (result !== false && currentItem.reset) {\n                        currentItem.next = now + currentItem.timeout;\n                    } else {\n                        removeKeys.unshift(item);\n                    }\n                }\n            }\n\n            for (var item2 in removeKeys) {\n                if (!removeKeys.hasOwnProperty(item2)) {\n                    continue;\n                }\n\n                laroux_timers.data.splice(removeKeys[item2], 1);\n            }\n        }\n    };\n\n    return laroux_timers;\n\n}());\n\n},{}],11:[function(require,module,exports){\nmodule.exports = (function () {\n    'use strict';\n\n    var laroux_helpers = require('./laroux.helpers.js');\n\n    // triggers\n    var laroux_triggers = {\n        delegates: [],\n        list: [],\n\n        set: function (condition, fnc, state) {\n            var conditions = laroux_helpers.getAsArray(condition);\n\n            for (var item in conditions) {\n                if (!conditions.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                if (laroux_helpers.aindex(laroux_triggers.list, conditions[item]) === -1) {\n                    laroux_triggers.list.push(conditions[item]);\n                }\n            }\n\n            laroux_triggers.delegates.push({\n                conditions: conditions,\n                fnc: fnc,\n                state: state\n            });\n        },\n\n        ontrigger: function (triggerName, args) {\n            var eventIdx = laroux_helpers.aindex(laroux_triggers.list, triggerName);\n            if (eventIdx !== -1) {\n                laroux_triggers.list.splice(eventIdx, 1);\n            }\n\n            var removeKeys = [];\n            for (var item in laroux_triggers.delegates) {\n                if (!laroux_triggers.delegates.hasOwnProperty(item)) {\n                    continue;\n                }\n\n                var count = 0;\n                var currentItem = laroux_triggers.delegates[item];\n\n                for (var conditionKey in currentItem.conditions) {\n                    if (!currentItem.conditions.hasOwnProperty(conditionKey)) {\n                        continue;\n                    }\n\n                    var conditionObj = currentItem.conditions[conditionKey];\n\n                    if (laroux_helpers.aindex(laroux_triggers.list, conditionObj) !== -1) {\n                        count++;\n                        // break;\n                    }\n                }\n\n                if (count === 0) {\n                    currentItem.fnc(\n                        {\n                            state: currentItem.state,\n                            args: laroux_helpers.getAsArray(args)\n                        }\n                    );\n                    removeKeys.unshift(item);\n                }\n            }\n\n            for (var item2 in removeKeys) {\n                if (!removeKeys.hasOwnProperty(item2)) {\n                    continue;\n                }\n\n                laroux_triggers.delegates.splice(removeKeys[item2], 1);\n            }\n\n            // console.log('trigger name: ' + triggerName);\n        }\n    };\n\n    return laroux_triggers;\n\n}());\n\n},{\"./laroux.helpers.js\":7}],12:[function(require,module,exports){\nmodule.exports = (function () {\n    'use strict';\n\n    // vars\n    var laroux_vars = {\n        cookiePath: '/',\n\n        getCookie: function (name, defaultValue) {\n            var re = new RegExp(encodeURIComponent(name) + '=[^;]+', 'i'),\n                match = document.cookie.match(re);\n\n            if (!match) {\n                return defaultValue || null;\n            }\n\n            return decodeURIComponent(match[0].split('=')[1]);\n        },\n\n        setCookie: function (name, value, expires, path) {\n            var expireValue = '';\n            if (expires) {\n                expireValue = '; expires=' + expires.toGMTString();\n            }\n\n            document.cookie = encodeURIComponent(name) + '=' + encodeURIComponent(value) + expireValue + '; path=' + (path || laroux_vars.cookiePath);\n        },\n\n        removeCookie: function (name, path) {\n            document.cookie = encodeURIComponent(name) + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=' + (path || laroux_vars.cookiePath);\n        },\n\n        getLocal: function (name, defaultValue) {\n            if (!(name in localStorage)) {\n                return defaultValue || null;\n            }\n\n            return JSON.parse(localStorage[name]);\n        },\n\n        setLocal: function (name, value) {\n            localStorage[name] = JSON.stringify(value);\n        },\n\n        removeLocal: function (name) {\n            delete localStorage[name];\n        },\n\n        getSession: function (name, defaultValue) {\n            if (!(name in sessionStorage)) {\n                return defaultValue || null;\n            }\n\n            return JSON.parse(sessionStorage[name]);\n        },\n\n        setSession: function (name, value) {\n            sessionStorage[name] = JSON.stringify(value);\n        },\n\n        removeSession: function (name) {\n            delete sessionStorage[name];\n        }\n    };\n\n    return laroux_vars;\n\n}());\n\n},{}],13:[function(require,module,exports){\n/*global NodeList, Node */\nmodule.exports = (function () {\n    'use strict';\n\n    var laroux_dom = require('./laroux.dom.js'),\n        laroux_css = require('./laroux.css.js'),\n        laroux_helpers = require('./laroux.helpers.js');\n\n    // wrapper\n    var laroux_wrapper = function (selector, parent) {\n        var selection;\n\n        if (selector instanceof Array) {\n            selection = selector;\n        } else if (selector instanceof NodeList) {\n            selection = laroux_helpers.toArray(selector);\n        } else if (selector instanceof Node) {\n            selection = [selector];\n        } else {\n            selection = laroux_dom.select(selector, parent);\n        }\n\n        if (selection.length === 1) {\n            return new laroux_wrapper.singleTemplate(selection[0]);\n        }\n\n        return new laroux_wrapper.arrayTemplate(selection);\n    };\n\n    laroux_wrapper.singleTemplate = function (element) {\n        this.source = element;\n        this.isArray = false;\n\n        this.get = function (index) {\n            if (index === 0 || index === undefined) {\n                return this.source;\n            }\n\n            return undefined;\n        };\n\n        this.find = function (selector) {\n            return laroux_wrapper(selector, this.source);\n        };\n    };\n\n    laroux_wrapper.arrayTemplate = function (elements) {\n        this.source = elements;\n        this.isArray = true;\n\n        this.get = function (index) {\n            return this.source[index];\n        };\n    };\n\n    laroux_wrapper.registerBoth = 0;\n    laroux_wrapper.registerSingle = 1;\n    laroux_wrapper.registerArray = 2;\n\n    laroux_wrapper.register = function (name, fnc, scope) {\n        var newFnc = function () {\n            var result = fnc.apply(\n                this,\n                [this.source].concat(laroux_helpers.toArray(arguments))\n            );\n\n            return (result === undefined) ? this : result;\n        };\n\n        switch (scope) {\n        case laroux_wrapper.registerSingle:\n            laroux_wrapper.singleTemplate.prototype[name] = newFnc;\n            break;\n        case laroux_wrapper.registerArray:\n            laroux_wrapper.arrayTemplate.prototype[name] = newFnc;\n            break;\n        default:\n            laroux_wrapper.singleTemplate.prototype[name] = newFnc;\n            laroux_wrapper.arrayTemplate.prototype[name] = newFnc;\n            break;\n        }\n    };\n\n    laroux_wrapper.register('attr', laroux_dom.attr, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('data', laroux_dom.data, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('on', laroux_dom.setEventSingle, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('on', laroux_dom.setEvent, laroux_wrapper.registerArray);\n    laroux_wrapper.register('off', laroux_dom.unsetEvent, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('clear', laroux_dom.clear, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('insert', laroux_dom.insert, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('prepend', laroux_dom.prepend, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('append', laroux_dom.append, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('replace', laroux_dom.replace, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('replaceText', laroux_dom.replaceText, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('remove', laroux_dom.remove, laroux_wrapper.registerSingle);\n\n    laroux_wrapper.register('hasClass', laroux_css.hasClass, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('addClass', laroux_css.addClass, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('removeClass', laroux_css.removeClass, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('toggleClass', laroux_css.toggleClass, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('getProperty', laroux_css.getProperty, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('setProperty', laroux_css.setProperty, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('setTransition', laroux_css.setTransition, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('show', laroux_css.show, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('hide', laroux_css.hide, laroux_wrapper.registerBoth);\n    laroux_wrapper.register('height', laroux_css.height, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('innerHeight', laroux_css.innerHeight, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('outerHeight', laroux_css.outerHeight, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('width', laroux_css.width, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('innerWidth', laroux_css.innerWidth, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('outerWidth', laroux_css.outerWidth, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('top', laroux_css.top, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('left', laroux_css.left, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('aboveTheTop', laroux_css.aboveTheTop, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('belowTheFold', laroux_css.belowTheFold, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('leftOfScreen', laroux_css.leftOfScreen, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('rightOfScreen', laroux_css.rightOfScreen, laroux_wrapper.registerSingle);\n    laroux_wrapper.register('inViewport', laroux_css.inViewport, laroux_wrapper.registerSingle);\n\n    return laroux_wrapper;\n\n}());\n\n},{\"./laroux.css.js\":3,\"./laroux.dom.js\":5,\"./laroux.helpers.js\":7}]},{},[1])\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbGFyb3V4e2Jhc2V9LmpzIiwic3JjL2pzL2xhcm91eC5hamF4LmpzIiwic3JjL2pzL2xhcm91eC5jc3MuanMiLCJzcmMvanMvbGFyb3V4LmRhdGUuanMiLCJzcmMvanMvbGFyb3V4LmRvbS5qcyIsInNyYy9qcy9sYXJvdXguZXZlbnRzLmpzIiwic3JjL2pzL2xhcm91eC5oZWxwZXJzLmpzIiwic3JjL2pzL2xhcm91eC5zdGFjay5qcyIsInNyYy9qcy9sYXJvdXgudGVtcGxhdGVzLmpzIiwic3JjL2pzL2xhcm91eC50aW1lcnMuanMiLCJzcmMvanMvbGFyb3V4LnRyaWdnZXJzLmpzIiwic3JjL2pzL2xhcm91eC52YXJzLmpzIiwic3JjL2pzL2xhcm91eC53cmFwcGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5VEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4TkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKHNjb3BlKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gY29yZVxuICAgIHZhciBsYXJvdXggPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcblxuICAgIGlmICghKCckbCcgaW4gc2NvcGUpKSB7XG4gICAgICAgIHNjb3BlLiRsID0gbGFyb3V4O1xuICAgIH1cblxuICAgIC8vIGNvcmUgbW9kdWxlc1xuICAgIGxhcm91eC5ldmVudHMgPSByZXF1aXJlKCcuL2xhcm91eC5ldmVudHMuanMnKTtcbiAgICBsYXJvdXguaGVscGVycyA9IHJlcXVpcmUoJy4vbGFyb3V4LmhlbHBlcnMuanMnKTtcbiAgICBsYXJvdXgudGltZXJzID0gcmVxdWlyZSgnLi9sYXJvdXgudGltZXJzLmpzJyk7XG5cbiAgICBsYXJvdXguZXh0ZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5jYWxsKGFyZ3VtZW50cywgbGFyb3V4KTtcbiAgICAgICAgbGFyb3V4LmhlbHBlcnMuZXh0ZW5kT2JqZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIGxhcm91eC5leHRlbmRPYmplY3QgPSBsYXJvdXguaGVscGVycy5leHRlbmRPYmplY3Q7XG4gICAgbGFyb3V4LmVhY2ggPSBsYXJvdXguaGVscGVycy5lYWNoO1xuICAgIGxhcm91eC5tYXAgPSBsYXJvdXguaGVscGVycy5tYXA7XG4gICAgbGFyb3V4LmluZGV4ID0gbGFyb3V4LmhlbHBlcnMuaW5kZXg7XG4gICAgbGFyb3V4LmFlYWNoID0gbGFyb3V4LmhlbHBlcnMuYWVhY2g7XG4gICAgbGFyb3V4LmFtYXAgPSBsYXJvdXguaGVscGVycy5hbWFwO1xuICAgIGxhcm91eC5haW5kZXggPSBsYXJvdXguaGVscGVycy5haW5kZXg7XG5cbiAgICAvLyBvcHRpb25hbCBtb2R1bGVzXG4gICAgbGFyb3V4LndyYXBwZXIgPSByZXF1aXJlKCcuL2xhcm91eC53cmFwcGVyLmpzJyk7XG4gICAgbGFyb3V4LmFqYXggPSByZXF1aXJlKCcuL2xhcm91eC5hamF4LmpzJyk7XG4gICAgLy8gbGFyb3V4LmNzcyA9IHJlcXVpcmUoJy4vbGFyb3V4LmNzcy5qcycpO1xuICAgIC8vIGxhcm91eC5kb20gPSByZXF1aXJlKCcuL2xhcm91eC5kb20uanMnKTtcbiAgICAvLyBsYXJvdXguZXZlbnRzID0gcmVxdWlyZSgnLi9sYXJvdXguZXZlbnRzLmpzJyk7XG4gICAgLy8gbGFyb3V4LmZvcm1zID0gcmVxdWlyZSgnLi9sYXJvdXguZm9ybXMuanMnKTtcbiAgICAvLyBsYXJvdXguaGVscGVycyA9IHJlcXVpcmUoJy4vbGFyb3V4LmhlbHBlcnMuanMnKTtcbiAgICAvLyBsYXJvdXgudGltZXJzID0gcmVxdWlyZSgnLi9sYXJvdXgudGltZXJzLmpzJyk7XG4gICAgbGFyb3V4LnRyaWdnZXJzID0gcmVxdWlyZSgnLi9sYXJvdXgudHJpZ2dlcnMuanMnKTtcbiAgICBsYXJvdXgudmFycyA9IHJlcXVpcmUoJy4vbGFyb3V4LnZhcnMuanMnKTtcblxuICAgIC8vIGxhcm91eC5hbmltID0gcmVxdWlyZSgnLi9sYXJvdXguYW5pbS5qcycpO1xuICAgIGxhcm91eC5kYXRlID0gcmVxdWlyZSgnLi9sYXJvdXguZGF0ZS5qcycpO1xuICAgIC8vIGxhcm91eC5rZXlzID0gcmVxdWlyZSgnLi9sYXJvdXgua2V5cy5qcycpO1xuICAgIC8vIGxhcm91eC5tdmMgPSByZXF1aXJlKCcuL2xhcm91eC5tdmMuanMnKTtcbiAgICBsYXJvdXguc3RhY2sgPSByZXF1aXJlKCcuL2xhcm91eC5zdGFjay5qcycpO1xuICAgIGxhcm91eC50ZW1wbGF0ZXMgPSByZXF1aXJlKCcuL2xhcm91eC50ZW1wbGF0ZXMuanMnKTtcbiAgICAvLyBsYXJvdXgudG91Y2ggPSByZXF1aXJlKCcuL2xhcm91eC50b3VjaC5qcycpO1xuICAgIC8vIGxhcm91eC51aSA9IHJlcXVpcmUoJy4vbGFyb3V4LnVpLmpzJyk7XG5cbiAgICByZXR1cm4gbGFyb3V4O1xuXG59KHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGxhcm91eF9ldmVudHMgPSByZXF1aXJlKCcuL2xhcm91eC5ldmVudHMuanMnKSxcbiAgICAgICAgbGFyb3V4X2hlbHBlcnMgPSByZXF1aXJlKCcuL2xhcm91eC5oZWxwZXJzLmpzJyk7XG5cbiAgICAvLyBhamF4IC0gcGFydGlhbGx5IHRha2VuIGZyb20gJ2pxdWVyeSBpbiBwYXJ0cycgcHJvamVjdFxuICAgIC8vICAgICAgICBjYW4gYmUgZm91bmQgYXQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9teXRoei9qcXVpcC9cbiAgICB2YXIgbGFyb3V4X2FqYXggPSB7XG4gICAgICAgIGNvcnNEZWZhdWx0OiBmYWxzZSxcblxuICAgICAgICB3cmFwcGVyczoge1xuICAgICAgICAgICAgcmVnaXN0cnk6IHtcbiAgICAgICAgICAgICAgICAnbGFyb3V4LmpzJzogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yOiAnICsgZGF0YS5lcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iajtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5mb3JtYXQgPT09ICdqc29uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gSlNPTi5wYXJzZShkYXRhLm9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5mb3JtYXQgPT09ICdzY3JpcHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKmpzaGludCBldmlsOnRydWUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qanNsaW50IGV2aWw6dHJ1ZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gZXZhbChkYXRhLm9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIGlmIChkYXRhLmZvcm1hdCA9PSAneG1sJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gZGF0YS5vYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUsIGZuYykge1xuICAgICAgICAgICAgICAgIGxhcm91eF9hamF4LndyYXBwZXJzLnJlZ2lzdHJ5W25hbWVdID0gZm5jO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHhEb21haW5PYmplY3Q6IGZhbHNlLFxuICAgICAgICB4bWxIdHRwUmVxdWVzdE9iamVjdDogbnVsbCxcbiAgICAgICAgeERvbWFpblJlcXVlc3RPYmplY3Q6IG51bGwsXG4gICAgICAgIHhocjogZnVuY3Rpb24gKGNyb3NzRG9tYWluKSB7XG4gICAgICAgICAgICBpZiAobGFyb3V4X2FqYXgueG1sSHR0cFJlcXVlc3RPYmplY3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsYXJvdXhfYWpheC54bWxIdHRwUmVxdWVzdE9iamVjdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3Jvc3NEb21haW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoISgnd2l0aENyZWRlbnRpYWxzJyBpbiBsYXJvdXhfYWpheC54bWxIdHRwUmVxdWVzdE9iamVjdCkgJiYgdHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBsYXJvdXhfYWpheC54RG9tYWluT2JqZWN0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGFyb3V4X2FqYXgueERvbWFpblJlcXVlc3RPYmplY3QgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhcm91eF9hamF4LnhEb21haW5SZXF1ZXN0T2JqZWN0ID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFyb3V4X2FqYXgueERvbWFpblJlcXVlc3RPYmplY3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsYXJvdXhfYWpheC54RG9tYWluT2JqZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBsYXJvdXhfYWpheC54bWxIdHRwUmVxdWVzdE9iamVjdDtcbiAgICAgICAgfSxcblxuICAgICAgICB4aHJSZXNwOiBmdW5jdGlvbiAoeGhyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlckZ1bmN0aW9uID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdYLVJlc3BvbnNlLVdyYXBwZXItRnVuY3Rpb24nKSxcbiAgICAgICAgICAgICAgICByZXNwb25zZTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF0YXR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5kYXRhdHlwZSA9PT0gJ2pzb24nKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmRhdGF0eXBlID09PSAnc2NyaXB0Jykge1xuICAgICAgICAgICAgICAgIC8qanNoaW50IGV2aWw6dHJ1ZSAqL1xuICAgICAgICAgICAgICAgIC8qanNsaW50IGV2aWw6dHJ1ZSAqL1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gZXZhbCh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5kYXRhdHlwZSA9PT0gJ3htbCcpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHhoci5yZXNwb25zZVhNTDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAod3JhcHBlckZ1bmN0aW9uICYmICh3cmFwcGVyRnVuY3Rpb24gaW4gbGFyb3V4X2FqYXgud3JhcHBlcnMucmVnaXN0cnkpKSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBsYXJvdXhfYWpheC53cmFwcGVycy5yZWdpc3RyeVt3cmFwcGVyRnVuY3Rpb25dKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgd3JhcHBlckZ1bmM6IHdyYXBwZXJGdW5jdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBtYWtlUmVxdWVzdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBjb3JzID0gb3B0aW9ucy5jb3JzIHx8IGxhcm91eF9hamF4LmNvcnNEZWZhdWx0LFxuICAgICAgICAgICAgICAgIHhociA9IGxhcm91eF9hamF4Lnhocihjb3JzKSxcbiAgICAgICAgICAgICAgICB1cmwgPSBvcHRpb25zLnVybCxcbiAgICAgICAgICAgICAgICB0aW1lciA9IG51bGwsXG4gICAgICAgICAgICAgICAgbiA9IDA7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRpbWVvdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50aW1lb3V0Rm4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudGltZW91dEZuKG9wdGlvbnMudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy50aW1lb3V0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU3VjY2VzcyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gbGFyb3V4X2FqYXgueGhyUmVzcCh4aHIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5lcnJvcih4aHIsIHhoci5zdGF0dXMsIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXJvdXhfZXZlbnRzLmludm9rZSgnYWpheEVycm9yJywgW3hociwgeGhyLnN0YXR1cywgeGhyLnN0YXR1c1RleHQsIG9wdGlvbnNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1N1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MgIT09IHVuZGVmaW5lZCAmJiByZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zdWNjZXNzKHJlcy5yZXNwb25zZSwgcmVzLndyYXBwZXJGdW5jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXJvdXhfZXZlbnRzLmludm9rZSgnYWpheFN1Y2Nlc3MnLCBbeGhyLCByZXMucmVzcG9uc2UsIHJlcy53cmFwcGVyRnVuYywgb3B0aW9uc10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IoeGhyLCB4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhcm91eF9ldmVudHMuaW52b2tlKCdhamF4RXJyb3InLCBbeGhyLCB4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCwgb3B0aW9uc10pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY29tcGxldGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jb21wbGV0ZSh4aHIsIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxhcm91eF9ldmVudHMuaW52b2tlKCdhamF4Q29tcGxldGUnLCBbeGhyLCB4aHIuc3RhdHVzVGV4dCwgb3B0aW9uc10pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5wcm9ncmVzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qanNsaW50IHBsdXNwbHVzOiB0cnVlICovXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHJvZ3Jlc3MoKytuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5nZXRkYXRhICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5nZXRkYXRhICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZ2V0ZGF0YS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBxdWVyeVN0cmluZyA9IGxhcm91eF9oZWxwZXJzLmJ1aWxkUXVlcnlTdHJpbmcob3B0aW9ucy5nZXRkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXJ5U3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybCArPSAoKHVybC5pbmRleE9mKCc/JykgPCAwKSA/ICc/JyA6ICcmJykgKyBxdWVyeVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCArPSAoKHVybC5pbmRleE9mKCc/JykgPCAwKSA/ICc/JyA6ICcmJykgKyBvcHRpb25zLmdldGRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5qc29ucCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdXJsICs9ICgodXJsLmluZGV4T2YoJz8nKSA8IDApID8gJz8nIDogJyYnKSArICdqc29ucD0nICsgb3B0aW9ucy5qc29ucDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFsYXJvdXhfYWpheC54RG9tYWluT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgeGhyLm9wZW4ob3B0aW9ucy50eXBlLCB1cmwsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4aHIub3BlbihvcHRpb25zLnR5cGUsIHVybCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMueGhyRmllbGRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBvcHRpb25zLnhockZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLnhockZpZWxkcy5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHJbaV0gPSBvcHRpb25zLnhockZpZWxkc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBoZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xuXG4gICAgICAgICAgICAgICAgaWYgKCFjb3JzKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ1gtUmVxdWVzdGVkLVdpdGgnXSA9ICdYTUxIdHRwUmVxdWVzdCc7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMud3JhcHBlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snWC1XcmFwcGVyLUZ1bmN0aW9uJ10gPSAnbGFyb3V4LmpzJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogaW4gaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnMuaGFzT3duUHJvcGVydHkoaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaiwgaGVhZGVyc1tqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wb3N0ZGF0YSA9PT0gdW5kZWZpbmVkIHx8IG9wdGlvbnMucG9zdGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAob3B0aW9ucy5wb3N0ZGF0YXR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdqc29uJzpcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5wb3N0ZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmb3JtJzpcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQobGFyb3V4X2hlbHBlcnMuYnVpbGRGb3JtRGF0YShvcHRpb25zLnBvc3RkYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKG9wdGlvbnMucG9zdGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIChwYXRoLCB2YWx1ZXMsIHN1Y2Nlc3NmbmMsIGVycm9yZm5jLCBjb3JzKSB7XG4gICAgICAgICAgICBsYXJvdXhfYWpheC5tYWtlUmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBwYXRoLFxuICAgICAgICAgICAgICAgIGRhdGF0eXBlOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgZ2V0ZGF0YTogdmFsdWVzLFxuICAgICAgICAgICAgICAgIHdyYXBwZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgY29yczogY29ycyB8fCBsYXJvdXhfYWpheC5jb3JzRGVmYXVsdCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzZm5jLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcmZuY1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0SnNvbjogZnVuY3Rpb24gKHBhdGgsIHZhbHVlcywgc3VjY2Vzc2ZuYywgZXJyb3JmbmMsIGNvcnMpIHtcbiAgICAgICAgICAgIGxhcm91eF9hamF4Lm1ha2VSZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6IHBhdGgsXG4gICAgICAgICAgICAgICAgZGF0YXR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBnZXRkYXRhOiB2YWx1ZXMsXG4gICAgICAgICAgICAgICAgd3JhcHBlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb3JzOiBjb3JzIHx8IGxhcm91eF9hamF4LmNvcnNEZWZhdWx0LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3NmbmMsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yZm5jXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRKc29uUDogZnVuY3Rpb24gKHBhdGgsIHZhbHVlcywgbWV0aG9kLCBzdWNjZXNzZm5jLCBlcnJvcmZuYywgY29ycykge1xuICAgICAgICAgICAgbGFyb3V4X2FqYXgubWFrZVJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHVybDogcGF0aCxcbiAgICAgICAgICAgICAgICBkYXRhdHlwZTogJ3NjcmlwdCcsXG4gICAgICAgICAgICAgICAgZ2V0ZGF0YTogdmFsdWVzLFxuICAgICAgICAgICAgICAgIGpzb25wOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgd3JhcHBlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29yczogY29ycyB8fCBsYXJvdXhfYWpheC5jb3JzRGVmYXVsdCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzZm5jLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcmZuY1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0U2NyaXB0OiBmdW5jdGlvbiAocGF0aCwgdmFsdWVzLCBzdWNjZXNzZm5jLCBlcnJvcmZuYywgY29ycykge1xuICAgICAgICAgICAgbGFyb3V4X2FqYXgubWFrZVJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHVybDogcGF0aCxcbiAgICAgICAgICAgICAgICBkYXRhdHlwZTogJ3NjcmlwdCcsXG4gICAgICAgICAgICAgICAgZ2V0ZGF0YTogdmFsdWVzLFxuICAgICAgICAgICAgICAgIHdyYXBwZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvcnM6IGNvcnMgfHwgbGFyb3V4X2FqYXguY29yc0RlZmF1bHQsXG4gICAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2Vzc2ZuYyxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JmbmNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBvc3Q6IGZ1bmN0aW9uIChwYXRoLCB2YWx1ZXMsIHN1Y2Nlc3NmbmMsIGVycm9yZm5jLCBjb3JzKSB7XG4gICAgICAgICAgICBsYXJvdXhfYWpheC5tYWtlUmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIHVybDogcGF0aCxcbiAgICAgICAgICAgICAgICBkYXRhdHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIHBvc3RkYXRhOiB2YWx1ZXMsXG4gICAgICAgICAgICAgICAgcG9zdGRhdGF0eXBlOiAnZm9ybScsXG4gICAgICAgICAgICAgICAgd3JhcHBlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb3JzOiBjb3JzIHx8IGxhcm91eF9hamF4LmNvcnNEZWZhdWx0LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3NmbmMsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yZm5jXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBwb3N0SnNvbjogZnVuY3Rpb24gKHBhdGgsIHZhbHVlcywgc3VjY2Vzc2ZuYywgZXJyb3JmbmMsIGNvcnMpIHtcbiAgICAgICAgICAgIGxhcm91eF9hamF4Lm1ha2VSZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBwYXRoLFxuICAgICAgICAgICAgICAgIGRhdGF0eXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgcG9zdGRhdGE6IHZhbHVlcyxcbiAgICAgICAgICAgICAgICBwb3N0ZGF0YXR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHdyYXBwZXI6IHRydWUsXG4gICAgICAgICAgICAgICAgY29yczogY29ycyB8fCBsYXJvdXhfYWpheC5jb3JzRGVmYXVsdCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzZm5jLFxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcmZuY1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGxhcm91eF9hamF4O1xuXG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBsYXJvdXhfaGVscGVycyA9IHJlcXVpcmUoJy4vbGFyb3V4LmhlbHBlcnMuanMnKTtcblxuICAgIC8vIGNzc1xuICAgIHZhciBsYXJvdXhfY3NzID0ge1xuICAgICAgICAvLyBjbGFzcyBmZWF0dXJlc1xuICAgICAgICBoYXNDbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGxhcm91eF9oZWxwZXJzLmdldEFzQXJyYXkoZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gbGFyb3V4X2hlbHBlcnMuZ2V0QXNBcnJheShlbGVtZW50KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudHNbaV0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBsYXJvdXhfaGVscGVycy5nZXRBc0FycmF5KGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHNbaV0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY3ljbGVDbGFzczogZnVuY3Rpb24gKGVsZW1lbnRzLCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50c1tpXS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1tpXS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzWyhpICsgMSkgJSBsZW5ndGhdLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBzdHlsZSBmZWF0dXJlc1xuICAgICAgICBnZXRQcm9wZXJ0eTogZnVuY3Rpb24gKGVsZW1lbnQsIHN0eWxlTmFtZSkge1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcblxuICAgICAgICAgICAgc3R5bGVOYW1lID0gbGFyb3V4X2hlbHBlcnMuYW50aUNhbWVsQ2FzZShzdHlsZU5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShzdHlsZU5hbWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFByb3BlcnR5OiBmdW5jdGlvbiAoZWxlbWVudCwgcHJvcGVydGllcywgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGxhcm91eF9oZWxwZXJzLmdldEFzQXJyYXkoZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcGVydGllcyA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciBvbGRQcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0ge307XG4gICAgICAgICAgICAgICAgcHJvcGVydGllc1tvbGRQcm9wZXJ0aWVzXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gcHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIGlmICghcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBuZXdTdHlsZU5hbWUgPSBsYXJvdXhfaGVscGVycy5jYW1lbENhc2Uoc3R5bGVOYW1lKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1tpXS5zdHlsZVtuZXdTdHlsZU5hbWVdID0gcHJvcGVydGllc1tzdHlsZU5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyB0cmFuc2l0aW9uIGZlYXR1cmVzXG4gICAgICAgIGRlZmF1bHRUcmFuc2l0aW9uOiAnMnMgZWFzZScsXG5cbiAgICAgICAgc2V0VHJhbnNpdGlvblNpbmdsZTogZnVuY3Rpb24gKGVsZW1lbnQsIHRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IGxhcm91eF9oZWxwZXJzLmdldEFzQXJyYXkodHJhbnNpdGlvbiksXG4gICAgICAgICAgICAgICAgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9ucyA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3RyYW5zaXRpb24nKSB8fCBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctd2Via2l0LXRyYW5zaXRpb24nKSB8fFxuICAgICAgICAgICAgICAgICAgICBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCctbXMtdHJhbnNpdGlvbicpIHx8ICcnLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uc0FycmF5O1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudFRyYW5zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbnNBcnJheSA9IGN1cnJlbnRUcmFuc2l0aW9ucy5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbnNBcnJheSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIHRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2l0aW9ucy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uUHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gdHJhbnNpdGlvbnNbaXRlbV0uaW5kZXhPZignICcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvcyAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVOYW1lID0gdHJhbnNpdGlvbnNbaXRlbV0uc3Vic3RyaW5nKDAsIHBvcyk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25Qcm9wZXJ0aWVzID0gdHJhbnNpdGlvbnNbaXRlbV0uc3Vic3RyaW5nKHBvcyArIDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlTmFtZSA9IHRyYW5zaXRpb25zW2l0ZW1dO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uUHJvcGVydGllcyA9IGxhcm91eF9jc3MuZGVmYXVsdFRyYW5zaXRpb247XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjdXJyZW50VHJhbnNpdGlvbnNBcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRyYW5zaXRpb25zQXJyYXlbal0udHJpbSgpLmxvY2FsZUNvbXBhcmUoc3R5bGVOYW1lKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRyYW5zaXRpb25zQXJyYXlbal0gPSBzdHlsZU5hbWUgKyAnICcgKyB0cmFuc2l0aW9uUHJvcGVydGllcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbnNBcnJheS5wdXNoKHN0eWxlTmFtZSArICcgJyArIHRyYW5zaXRpb25Qcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGN1cnJlbnRUcmFuc2l0aW9uc0FycmF5LmpvaW4oJywgJyk7XG5cbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9IHZhbHVlO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLm1zVHJhbnNpdGlvbiA9IHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIChlbGVtZW50LCB0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBsYXJvdXhfaGVscGVycy5nZXRBc0FycmF5KGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsYXJvdXhfY3NzLnNldFRyYW5zaXRpb25TaW5nbGUoZWxlbWVudHNbaV0sIHRyYW5zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uIChlbGVtZW50LCB0cmFuc2l0aW9uUHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25Qcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsYXJvdXhfY3NzLnNldFRyYW5zaXRpb24oZWxlbWVudCwgJ29wYWNpdHkgJyArIHRyYW5zaXRpb25Qcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFyb3V4X2Nzcy5zZXRUcmFuc2l0aW9uKGVsZW1lbnQsICdvcGFjaXR5Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxhcm91eF9jc3Muc2V0UHJvcGVydHkoZWxlbWVudCwgeyBvcGFjaXR5OiAxIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uIChlbGVtZW50LCB0cmFuc2l0aW9uUHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25Qcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsYXJvdXhfY3NzLnNldFRyYW5zaXRpb24oZWxlbWVudCwgJ29wYWNpdHkgJyArIHRyYW5zaXRpb25Qcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFyb3V4X2Nzcy5zZXRUcmFuc2l0aW9uKGVsZW1lbnQsICdvcGFjaXR5Jyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxhcm91eF9jc3Muc2V0UHJvcGVydHkoZWxlbWVudCwgeyBvcGFjaXR5OiAwIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIG1lYXN1cmVtZW50IGZlYXR1cmVzXG4gICAgICAgIC8vIGhlaWdodCBvZiBlbGVtZW50IHdpdGhvdXQgcGFkZGluZywgbWFyZ2luIGFuZCBib3JkZXJcbiAgICAgICAgaGVpZ2h0OiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBzdHlsZS5nZXRQcm9wZXJ0eUNTU1ZhbHVlKCdoZWlnaHQnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGhlaWdodC5nZXRGbG9hdFZhbHVlKGhlaWdodC5wcmltaXRpdmVUeXBlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBoZWlnaHQgb2YgZWxlbWVudCB3aXRoIHBhZGRpbmcgYnV0IHdpdGhvdXQgbWFyZ2luIGFuZCBib3JkZXJcbiAgICAgICAgaW5uZXJIZWlnaHQ6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gaGVpZ2h0IG9mIGVsZW1lbnQgd2l0aCBwYWRkaW5nIGFuZCBib3JkZXIgYnV0IG1hcmdpbiBvcHRpb25hbFxuICAgICAgICBvdXRlckhlaWdodDogZnVuY3Rpb24gKGVsZW1lbnQsIGluY2x1ZGVNYXJnaW4pIHtcbiAgICAgICAgICAgIGlmIChpbmNsdWRlTWFyZ2luIHx8IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIG1hcmdpblRvcCA9IHN0eWxlLmdldFByb3BlcnR5Q1NTVmFsdWUoJ21hcmdpbi10b3AnKSxcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b20gPSBzdHlsZS5nZXRQcm9wZXJ0eUNTU1ZhbHVlKCdtYXJnaW4tYm90dG9tJyksXG4gICAgICAgICAgICAgICAgbWFyZ2lucyA9IG1hcmdpblRvcC5nZXRGbG9hdFZhbHVlKG1hcmdpblRvcC5wcmltaXRpdmVUeXBlKSArXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbS5nZXRGbG9hdFZhbHVlKG1hcmdpbkJvdHRvbS5wcmltaXRpdmVUeXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbChlbGVtZW50Lm9mZnNldEhlaWdodCArIG1hcmdpbnMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIHdpZHRoIG9mIGVsZW1lbnQgd2l0aG91dCBwYWRkaW5nLCBtYXJnaW4gYW5kIGJvcmRlclxuICAgICAgICB3aWR0aDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gc3R5bGUuZ2V0UHJvcGVydHlDU1NWYWx1ZSgnd2lkdGgnKTtcblxuICAgICAgICAgICAgcmV0dXJuIGhlaWdodC5nZXRGbG9hdFZhbHVlKGhlaWdodC5wcmltaXRpdmVUeXBlKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyB3aWR0aCBvZiBlbGVtZW50IHdpdGggcGFkZGluZyBidXQgd2l0aG91dCBtYXJnaW4gYW5kIGJvcmRlclxuICAgICAgICBpbm5lcldpZHRoOiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gd2lkdGggb2YgZWxlbWVudCB3aXRoIHBhZGRpbmcgYW5kIGJvcmRlciBidXQgbWFyZ2luIG9wdGlvbmFsXG4gICAgICAgIG91dGVyV2lkdGg6IGZ1bmN0aW9uIChlbGVtZW50LCBpbmNsdWRlTWFyZ2luKSB7XG4gICAgICAgICAgICBpZiAoaW5jbHVkZU1hcmdpbiB8fCBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQgPSBzdHlsZS5nZXRQcm9wZXJ0eUNTU1ZhbHVlKCdtYXJnaW4tbGVmdCcpLFxuICAgICAgICAgICAgICAgIG1hcmdpblJpZ2h0ID0gc3R5bGUuZ2V0UHJvcGVydHlDU1NWYWx1ZSgnbWFyZ2luLXJpZ2h0JyksXG4gICAgICAgICAgICAgICAgbWFyZ2lucyA9IG1hcmdpbkxlZnQuZ2V0RmxvYXRWYWx1ZShtYXJnaW5MZWZ0LnByaW1pdGl2ZVR5cGUpICtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQuZ2V0RmxvYXRWYWx1ZShtYXJnaW5SaWdodC5wcmltaXRpdmVUeXBlKTtcblxuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbChlbGVtZW50Lm9mZnNldFdpZHRoICsgbWFyZ2lucyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9wOiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICtcbiAgICAgICAgICAgICAgICAoKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbGVmdDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgK1xuICAgICAgICAgICAgICAgICgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KSB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFib3ZlVGhlVG9wOiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tIDw9IDA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmVsb3dUaGVGb2xkOiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wID4gaW5uZXJIZWlnaHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbGVmdE9mU2NyZWVuOiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgPD0gMDtcbiAgICAgICAgfSxcblxuICAgICAgICByaWdodE9mU2NyZWVuOiBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCA+IGlubmVyV2lkdGg7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5WaWV3cG9ydDogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgcmV0dXJuICEocmVjdC5ib3R0b20gPD0gMCB8fCByZWN0LnRvcCA+IGlubmVySGVpZ2h0IHx8XG4gICAgICAgICAgICAgICAgcmVjdC5yaWdodCA8PSAwIHx8IHJlY3QubGVmdCA+IGlubmVyV2lkdGgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBsYXJvdXhfY3NzO1xuXG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIGRhdGVcbiAgICB2YXIgbGFyb3V4X2RhdGUgPSB7XG4gICAgICAgIHNob3J0RGF0ZUZvcm1hdDogJ2RkLk1NLnl5eXknLFxuICAgICAgICBsb25nRGF0ZUZvcm1hdDogJ2RkIE1NTU0geXl5eScsXG4gICAgICAgIHRpbWVGb3JtYXQ6ICdISDptbScsXG5cbiAgICAgICAgbW9udGhzU2hvcnQ6IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXSxcbiAgICAgICAgbW9udGhzTG9uZzogWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ10sXG5cbiAgICAgICAgc3RyaW5nczoge1xuICAgICAgICAgICAgbm93OiAgICAgJ25vdycsXG4gICAgICAgICAgICBsYXRlcjogICAnbGF0ZXInLFxuICAgICAgICAgICAgYWdvOiAgICAgJ2FnbycsXG4gICAgICAgICAgICBzZWNvbmRzOiAnc2Vjb25kcycsXG4gICAgICAgICAgICBhbWludXRlOiAnYSBtaW51dGUnLFxuICAgICAgICAgICAgbWludXRlczogJ21pbnV0ZXMnLFxuICAgICAgICAgICAgYWhvdXI6ICAgJ2EgaG91cicsXG4gICAgICAgICAgICBob3VyczogICAnaG91cnMnLFxuICAgICAgICAgICAgYWRheTogICAgJ2EgZGF5JyxcbiAgICAgICAgICAgIGRheXM6ICAgICdkYXlzJyxcbiAgICAgICAgICAgIGF3ZWVrOiAgICdhIHdlZWsnLFxuICAgICAgICAgICAgd2Vla3M6ICAgJ3dlZWtzJyxcbiAgICAgICAgICAgIGFtb250aDogICdhIG1vbnRoJyxcbiAgICAgICAgICAgIG1vbnRoczogICdtb250aHMnLFxuICAgICAgICAgICAgYXllYXI6ICAgJ2EgeWVhcicsXG4gICAgICAgICAgICB5ZWFyczogICAneWVhcnMnXG4gICAgICAgIH0sXG5cbiAgICAgICAgcGFyc2VFcG9jaDogZnVuY3Rpb24gKHRpbWVzcGFuLCBsaW1pdFdpdGhXZWVrcykge1xuICAgICAgICAgICAgaWYgKHRpbWVzcGFuIDwgNjAgKiAxMDAwKSB7XG4gICAgICAgICAgICAgICAgdGltZXNwYW4gPSBNYXRoLmNlaWwodGltZXNwYW4gLyAxMDAwKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aW1lc3BhbiArICcgJyArIGxhcm91eF9kYXRlLnN0cmluZ3Muc2Vjb25kcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRpbWVzcGFuIDwgNjAgKiA2MCAqIDEwMDApIHtcbiAgICAgICAgICAgICAgICB0aW1lc3BhbiA9IE1hdGguY2VpbCh0aW1lc3BhbiAvICg2MCAqIDEwMDApKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aW1lc3BhbiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFyb3V4X2RhdGUuc3RyaW5ncy5hbWludXRlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aW1lc3BhbiArICcgJyArIGxhcm91eF9kYXRlLnN0cmluZ3MubWludXRlcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRpbWVzcGFuIDwgMjQgKiA2MCAqIDYwICogMTAwMCkge1xuICAgICAgICAgICAgICAgIHRpbWVzcGFuID0gTWF0aC5jZWlsKHRpbWVzcGFuIC8gKDYwICogNjAgKiAxMDAwKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGltZXNwYW4gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhcm91eF9kYXRlLnN0cmluZ3MuYWhvdXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbWVzcGFuICsgJyAnICsgbGFyb3V4X2RhdGUuc3RyaW5ncy5ob3VycztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRpbWVzcGFuIDwgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApIHtcbiAgICAgICAgICAgICAgICB0aW1lc3BhbiA9IE1hdGguY2VpbCh0aW1lc3BhbiAvICgyNCAqIDYwICogNjAgKiAxMDAwKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGltZXNwYW4gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhcm91eF9kYXRlLnN0cmluZ3MuYWRheTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGltZXNwYW4gKyAnICcgKyBsYXJvdXhfZGF0ZS5zdHJpbmdzLmRheXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aW1lc3BhbiA8IDQgKiA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkge1xuICAgICAgICAgICAgICAgIHRpbWVzcGFuID0gTWF0aC5jZWlsKHRpbWVzcGFuIC8gKDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGltZXNwYW4gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhcm91eF9kYXRlLnN0cmluZ3MuYXdlZWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbWVzcGFuICsgJyAnICsgbGFyb3V4X2RhdGUuc3RyaW5ncy53ZWVrcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxpbWl0V2l0aFdlZWtzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aW1lc3BhbiA8IDMwICogNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApIHtcbiAgICAgICAgICAgICAgICB0aW1lc3BhbiA9IE1hdGguY2VpbCh0aW1lc3BhbiAvICgzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aW1lc3BhbiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFyb3V4X2RhdGUuc3RyaW5ncy5hbW9udGg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbWVzcGFuICsgJyAnICsgbGFyb3V4X2RhdGUuc3RyaW5ncy5tb250aHM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRpbWVzcGFuID0gTWF0aC5jZWlsKHRpbWVzcGFuIC8gKDM2NSAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcblxuICAgICAgICAgICAgaWYgKHRpbWVzcGFuID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhcm91eF9kYXRlLnN0cmluZ3MuYXllYXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aW1lc3BhbiArICcgJyArIGxhcm91eF9kYXRlLnN0cmluZ3MueWVhcnM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0Q3VzdG9tRGF0ZVN0cmluZzogZnVuY3Rpb24gKGZvcm1hdCwgZGF0ZSkge1xuICAgICAgICAgICAgdmFyIG5vdyA9IGRhdGUgfHwgbmV3IERhdGUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgIC95eXl5fHl5fE1NTU18TU1NfE1NfE18ZGR8ZHxoaHxofEhIfEh8bW18bXxzc3xzfHR0fHQvZyxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd5eXl5JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3cuZ2V0RnVsbFllYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd5eSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm93LmdldFllYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdNTU1NJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsYXJvdXhfZGF0ZS5tb250aHNMb25nW25vdy5nZXRNb250aCgpXTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdNTU0nOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhcm91eF9kYXRlLm1vbnRoc1Nob3J0W25vdy5nZXRNb250aCgpXTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdNTSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCcwJyArIChub3cuZ2V0TW9udGgoKSArIDEpKS5zdWJzdHIoLTIsIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdy5nZXRNb250aCgpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdkZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCcwJyArIG5vdy5nZXREYXRlKCkpLnN1YnN0cigtMiwgMik7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm93LmdldERhdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdoaCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG91cjEgPSBub3cuZ2V0SG91cnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoJzAnICsgKCgoaG91cjEgJSAxMikgPiAwKSA/IGhvdXIxICUgMTIgOiAxMikpLnN1YnN0cigtMiwgMik7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaG91cjIgPSBub3cuZ2V0SG91cnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKGhvdXIyICUgMTIpID4gMCkgPyBob3VyMiAlIDEyIDogMTI7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnSEgnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgnMCcgKyBub3cuZ2V0SG91cnMoKSkuc3Vic3RyKC0yLCAyKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3cuZ2V0SG91cnMoKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdtbSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCcwJyArIG5vdy5nZXRNaW51dGVzKCkpLnN1YnN0cigtMiwgMik7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm93LmdldE1pbnV0ZXMoKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCcwJyArIG5vdy5nZXRTZWNvbmRzKCkpLnN1YnN0cigtMiwgMik7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncyc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm93LmdldFNlY29uZHMoKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlICd0dCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm93LmdldEhvdXJzKCkgPj0gMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3BtJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhbSc7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm93LmdldEhvdXJzKCkgPj0gMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3AnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2EnO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0RGF0ZURpZmZTdHJpbmc6IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICB0aW1lc3BhbiA9IG5vdyAtIGRhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICAgIGFic1RpbWVzcGFuID0gTWF0aC5hYnModGltZXNwYW4pLFxuICAgICAgICAgICAgICAgIHBhc3QgPSAodGltZXNwYW4gPiAwKTtcblxuICAgICAgICAgICAgaWYgKGFic1RpbWVzcGFuIDw9IDMwMDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFyb3V4X2RhdGUuc3RyaW5ncy5ub3c7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciB0aW1lc3BhbnN0cmluZyA9IGxhcm91eF9kYXRlLnBhcnNlRXBvY2goYWJzVGltZXNwYW4sIHRydWUpO1xuICAgICAgICAgICAgaWYgKHRpbWVzcGFuc3RyaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbWVzcGFuc3RyaW5nICtcbiAgICAgICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAgICAgKHBhc3QgPyBsYXJvdXhfZGF0ZS5zdHJpbmdzLmFnbyA6IGxhcm91eF9kYXRlLnN0cmluZ3MubGF0ZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbGFyb3V4X2RhdGUuZ2V0U2hvcnREYXRlU3RyaW5nKGRhdGUsIHRydWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFNob3J0RGF0ZVN0cmluZzogZnVuY3Rpb24gKGRhdGUsIGluY2x1ZGVUaW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFyb3V4X2RhdGUuZ2V0Q3VzdG9tRGF0ZVN0cmluZyhcbiAgICAgICAgICAgICAgICBpbmNsdWRlVGltZSA/IGxhcm91eF9kYXRlLnNob3J0RGF0ZUZvcm1hdCArICcgJyArIGxhcm91eF9kYXRlLnRpbWVGb3JtYXQgOiBsYXJvdXhfZGF0ZS5zaG9ydERhdGVGb3JtYXQsXG4gICAgICAgICAgICAgICAgZGF0ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRMb25nRGF0ZVN0cmluZzogZnVuY3Rpb24gKGRhdGUsIGluY2x1ZGVUaW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFyb3V4X2RhdGUuZ2V0Q3VzdG9tRGF0ZVN0cmluZyhcbiAgICAgICAgICAgICAgICBpbmNsdWRlVGltZSA/IGxhcm91eF9kYXRlLmxvbmdEYXRlRm9ybWF0ICsgJyAnICsgbGFyb3V4X2RhdGUudGltZUZvcm1hdCA6IGxhcm91eF9kYXRlLmxvbmdEYXRlRm9ybWF0LFxuICAgICAgICAgICAgICAgIGRhdGVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGxhcm91eF9kYXRlO1xuXG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBsYXJvdXhfaGVscGVycyA9IHJlcXVpcmUoJy4vbGFyb3V4LmhlbHBlcnMuanMnKTtcbiAgICAgICAgLy8gbGFyb3V4X2NzcyA9IHJlcXVpcmUoJy4vbGFyb3V4LmNzcy5qcycpLFxuICAgICAgICAvLyBsYXJvdXhfdHJpZ2dlcnMgPSByZXF1aXJlKCcuL2xhcm91eC50cmlnZ2Vycy5qcycpO1xuXG4gICAgLy8gZG9tXG4gICAgdmFyIGxhcm91eF9kb20gPSB7XG4gICAgICAgIGRvY3Byb3A6IGZ1bmN0aW9uIChwcm9wTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMocHJvcE5hbWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNlbGVjdDogZnVuY3Rpb24gKHNlbGVjdG9yLCBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXJvdXhfaGVscGVycy50b0FycmF5KFxuICAgICAgICAgICAgICAgIChwYXJlbnQgfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpXG4gICAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNlbGVjdEJ5Q2xhc3M6IGZ1bmN0aW9uIChzZWxlY3RvciwgcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbGFyb3V4X2hlbHBlcnMudG9BcnJheShcbiAgICAgICAgICAgICAgICAocGFyZW50IHx8IGRvY3VtZW50KS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHNlbGVjdG9yKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZWxlY3RCeVRhZzogZnVuY3Rpb24gKHNlbGVjdG9yLCBwYXJlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXJvdXhfaGVscGVycy50b0FycmF5KFxuICAgICAgICAgICAgICAgIChwYXJlbnQgfHwgZG9jdW1lbnQpLmdldEVsZW1lbnRzQnlUYWdOYW1lKHNlbGVjdG9yKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZWxlY3RCeUlkOiBmdW5jdGlvbiAoc2VsZWN0b3IsIHBhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIChwYXJlbnQgfHwgZG9jdW1lbnQpLmdldEVsZW1lbnRCeUlkKHNlbGVjdG9yKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZWxlY3RTaW5nbGU6IGZ1bmN0aW9uIChzZWxlY3RvciwgcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gKHBhcmVudCB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYXR0cjogZnVuY3Rpb24gKGVsZW1lbnQsIGF0dHJpYnV0ZXMsIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBhdHRyaWJ1dGVzLmNvbnN0cnVjdG9yICE9PSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGxhcm91eF9oZWxwZXJzLmdldEFzQXJyYXkoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZEF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW29sZEF0dHJpYnV0ZXNdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGF0dHJpYnV0ZU5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGlmICghYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbYXR0cmlidXRlTmFtZV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGF0YTogZnVuY3Rpb24gKGVsZW1lbnQsIGRhdGFuYW1lcywgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGRhdGFuYW1lcy5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLScgKyBkYXRhbmFtZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBsYXJvdXhfaGVscGVycy5nZXRBc0FycmF5KGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhbmFtZXMgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkRGF0YW5hbWVzID0gZGF0YW5hbWVzO1xuICAgICAgICAgICAgICAgIGRhdGFuYW1lcyA9IHt9O1xuICAgICAgICAgICAgICAgIGRhdGFuYW1lc1tvbGREYXRhbmFtZXNdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGRhdGFOYW1lIGluIGRhdGFuYW1lcykge1xuICAgICAgICAgICAgICAgIGlmICghZGF0YW5hbWVzLmhhc093blByb3BlcnR5KGRhdGFOYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFuYW1lc1tkYXRhTmFtZV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLScgKyBkYXRhTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS0nICsgZGF0YU5hbWUsIGRhdGFuYW1lc1tkYXRhTmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGV2ZW50SGlzdG9yeTogW10sXG4gICAgICAgIHNldEV2ZW50OiBmdW5jdGlvbiAoZWxlbWVudCwgZXZlbnRuYW1lLCBmbmMpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGxhcm91eF9oZWxwZXJzLmdldEFzQXJyYXkoZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxhcm91eF9kb20uc2V0RXZlbnRTaW5nbGUoZWxlbWVudHNbaV0sIGV2ZW50bmFtZSwgZm5jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzZXRFdmVudFNpbmdsZTogZnVuY3Rpb24gKGVsZW1lbnQsIGV2ZW50bmFtZSwgZm5jKSB7XG4gICAgICAgICAgICB2YXIgZm5jV3JhcHBlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZuYyhlLCBlbGVtZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsYXJvdXhfZG9tLmV2ZW50SGlzdG9yeS5wdXNoKHsgZWxlbWVudDogZWxlbWVudCwgZXZlbnRuYW1lOiBldmVudG5hbWUsIGZuYzogZm5jLCBmbmNXcmFwcGVyOiBmbmNXcmFwcGVyIH0pO1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50bmFtZSwgZm5jV3JhcHBlciwgZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVuc2V0RXZlbnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBldmVudG5hbWUsIGZuYykge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gbGFyb3V4X2hlbHBlcnMuZ2V0QXNBcnJheShlbGVtZW50KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaTEgPSAwLCBsZW5ndGgxID0gZWxlbWVudHMubGVuZ3RoOyBpMSA8IGxlbmd0aDE7IGkxKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpMiA9IDAsIGxlbmd0aDIgPSBsYXJvdXhfZG9tLmV2ZW50SGlzdG9yeS5sZW5ndGg7IGkyIDwgbGVuZ3RoMjsgaTIrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGxhcm91eF9kb20uZXZlbnRIaXN0b3J5W2kyXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmVsZW1lbnQgIT09IGVsZW1lbnRzW2kxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRuYW1lICE9PSB1bmRlZmluZWQgJiYgaXRlbS5ldmVudG5hbWUgIT09IGV2ZW50bmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZm5jICE9PSB1bmRlZmluZWQgJiYgaXRlbS5mbmMgIT09IGZuYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpdGVtLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihpdGVtLmV2ZW50bmFtZSwgaXRlbS5mbmNXcmFwcGVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBsYXJvdXhfZG9tLmV2ZW50SGlzdG9yeVtpMl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGRpc3BhdGNoRXZlbnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBldmVudG5hbWUsIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBjdXN0b21FdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1c3RvbUV2ZW50W2l0ZW1dID0gZGF0YVtpdGVtXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VzdG9tRXZlbnQuaW5pdEV2ZW50KGV2ZW50bmFtZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZlbnQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGh0bWwpIHtcbiAgICAgICAgICAgIHZhciBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgICAgICAgICAgIHRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcblxuICAgICAgICAgICAgdGVtcC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGh0bWwpO1xuICAgICAgICAgICAgd2hpbGUgKHRlbXAuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQodGVtcC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbnVsbGluZyBvdXQgdGhlIHJlZmVyZW5jZSwgdGhlcmUgaXMgbm8gb2J2aW91cyBkaXNwb3NlIG1ldGhvZFxuICAgICAgICAgICAgdGVtcCA9IG51bGw7XG5cbiAgICAgICAgICAgIHJldHVybiBmcmFnO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBhdHRyaWJ1dGVzLCBjaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcyAhPT0gdW5kZWZpbmVkICYmIGF0dHJpYnV0ZXMuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoaXRlbSwgYXR0cmlidXRlc1tpdGVtXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbi5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGl0ZW0yIGluIGNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkcmVuLmhhc093blByb3BlcnR5KGl0ZW0yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZShpdGVtMiwgY2hpbGRyZW5baXRlbTJdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoLyogdHlwZW9mIGNoaWxkcmVuID09ICdzdHJpbmcnICYmICovY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBsYXJvdXhfZG9tLmFwcGVuZChlbGVtLCBjaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgfSxcblxuICAgICAgICBjcmVhdGVPcHRpb246IGZ1bmN0aW9uIChlbGVtZW50LCBrZXksIHZhbHVlLCBpc0RlZmF1bHQpIHtcbiAgICAgICAgICAgIC8qIG9sZCBiZWhhdmlvdXIsIGRvZXMgbm90IHN1cHBvcnQgb3B0Z3JvdXBzIGFzIHBhcmVudHMuXG4gICAgICAgICAgICB2YXIgY291bnQgPSBlbGVtZW50Lm9wdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgZWxlbWVudC5vcHRpb25zW2NvdW50XSA9IG5ldyBPcHRpb24odmFsdWUsIGtleSk7XG5cbiAgICAgICAgICAgIGlmIChpc0RlZmF1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm9wdGlvbnMuc2VsZWN0ZWRJbmRleCA9IGNvdW50IC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdPUFRJT04nKTtcbiAgICAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywga2V5KTtcbiAgICAgICAgICAgIGlmIChpc0RlZmF1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFyb3V4X2RvbS5hcHBlbmQob3B0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VsZWN0QnlWYWx1ZTogZnVuY3Rpb24gKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZWxlbWVudC5vcHRpb25zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQub3B0aW9uc1tpXS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykgPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LC8qLFxuXG4gICAgICAgIC8vIFRPRE86IGl0J3MgcmVkdW5kYW50IGZvciBub3dcbiAgICAgICAgbG9hZEltYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VzID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdJTUcnKTtcbiAgICAgICAgICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGFyZ3VtZW50c1tpXSk7XG5cbiAgICAgICAgICAgICAgICBpbWFnZXMucHVzaChpbWFnZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbWFnZXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9hZEFzeW5jU2NyaXB0OiBmdW5jdGlvbiAocGF0aCwgdHJpZ2dlck5hbWUsIGFzeW5jKSB7XG4gICAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG4gICAgICAgICAgICBlbGVtLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICAgICAgICAgIGVsZW0uYXN5bmMgPSAoYXN5bmMgIT09IHVuZGVmaW5lZCkgPyBhc3luYyA6IHRydWU7XG4gICAgICAgICAgICBlbGVtLnNyYyA9IHBhdGg7XG5cbiAgICAgICAgICAgIHZhciBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGVsZW0ub25sb2FkID0gZWxlbS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKChlbGVtLnJlYWR5U3RhdGUgJiYgZWxlbS5yZWFkeVN0YXRlICE9PSAnY29tcGxldGUnICYmIGVsZW0ucmVhZHlTdGF0ZSAhPT0gJ2xvYWRlZCcpIHx8IGxvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxlbS5vbmxvYWQgPSBlbGVtLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHJpZ2dlck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmlnZ2VyTmFtZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyTmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFyb3V4X3RyaWdnZXJzLm9udHJpZ2dlcih0cmlnZ2VyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGxvYWRBc3luY1N0eWxlOiBmdW5jdGlvbiAocGF0aCwgdHJpZ2dlck5hbWUsIGFzeW5jKSB7XG4gICAgICAgICAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0xJTksnKTtcblxuICAgICAgICAgICAgZWxlbS50eXBlID0gJ3RleHQvY3NzJztcbiAgICAgICAgICAgIGVsZW0uYXN5bmMgPSAoYXN5bmMgIT09IHVuZGVmaW5lZCkgPyBhc3luYyA6IHRydWU7XG4gICAgICAgICAgICBlbGVtLmhyZWYgPSBwYXRoO1xuICAgICAgICAgICAgZWxlbS5yZWwgPSAnc3R5bGVzaGVldCc7XG5cbiAgICAgICAgICAgIHZhciBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGVsZW0ub25sb2FkID0gZWxlbS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKChlbGVtLnJlYWR5U3RhdGUgJiYgZWxlbS5yZWFkeVN0YXRlICE9PSAnY29tcGxldGUnICYmIGVsZW0ucmVhZHlTdGF0ZSAhPT0gJ2xvYWRlZCcpIHx8IGxvYWRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxlbS5vbmxvYWQgPSBlbGVtLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHJpZ2dlck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmlnZ2VyTmFtZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyTmFtZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFyb3V4X3RyaWdnZXJzLm9udHJpZ2dlcih0cmlnZ2VyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgICAgICAgICBoZWFkLmFwcGVuZENoaWxkKGVsZW0pO1xuICAgICAgICB9LCovXG5cbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICB3aGlsZSAoZWxlbWVudC5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5zZXJ0OiBmdW5jdGlvbiAoZWxlbWVudCwgcG9zaXRpb24sIGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKHBvc2l0aW9uLCBjb250ZW50KTtcbiAgICAgICAgfSxcblxuICAgICAgICBwcmVwZW5kOiBmdW5jdGlvbiAoZWxlbWVudCwgY29udGVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBjb250ZW50KTtcbiAgICAgICAgfSxcblxuICAgICAgICBhcHBlbmQ6IGZ1bmN0aW9uIChlbGVtZW50LCBjb250ZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgY29udGVudCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVwbGFjZTogZnVuY3Rpb24gKGVsZW1lbnQsIGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGxhcm91eF9kb20uY2xlYXIoZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGNvbnRlbnQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlcGxhY2VUZXh0OiBmdW5jdGlvbiAoZWxlbWVudCwgY29udGVudCkge1xuICAgICAgICAgICAgLy8gbGFyb3V4X2RvbS5jbGVhcihlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvbmVSZXR1cm46IDAsXG4gICAgICAgIGNsb25lQXBwZW5kOiAxLFxuICAgICAgICBjbG9uZUluc2VydEFmdGVyOiAyLFxuICAgICAgICBjbG9uZUluc2VydEJlZm9yZTogMyxcblxuICAgICAgICBjbG9uZTogZnVuY3Rpb24gKGVsZW1lbnQsIHR5cGUsIGNvbnRhaW5lciwgdGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgbmV3RWxlbWVudCA9IGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBlbGVtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZSAhPT0gdW5kZWZpbmVkICYmIHR5cGUgIT0gbGFyb3V4X2RvbS5jbG9uZVJldHVybikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IGxhcm91eF9kb20uY2xvbmVBcHBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5ld0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSBsYXJvdXhfZG9tLmNsb25lSW5zZXJ0QWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShuZXdFbGVtZW50LCB0YXJnZXQubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHR5cGUgPT0gbGFyb3V4X2RvbS5jbG9uZUluc2VydEJlZm9yZVxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKG5ld0VsZW1lbnQsIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV3RWxlbWVudDtcbiAgICAgICAgfS8qLFxuXG4gICAgICAgIC8vIFRPRE86IGl0J3MgcmVkdW5kYW50IGZvciBub3dcbiAgICAgICAgYXBwbHlPcGVyYXRpb25zOiBmdW5jdGlvbiAoZWxlbWVudCwgb3BlcmF0aW9ucykge1xuICAgICAgICAgICAgZm9yICh2YXIgb3BlcmF0aW9uIGluIG9wZXJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9wZXJhdGlvbnMuaGFzT3duUHJvcGVydHkob3BlcmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBiaW5kaW5nIGluIG9wZXJhdGlvbnNbb3BlcmF0aW9uXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wZXJhdGlvbnNbb3BlcmF0aW9uXS5oYXNPd25Qcm9wZXJ0eShiaW5kaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBvcGVyYXRpb25zW29wZXJhdGlvbl1bYmluZGluZ107XG5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NldHByb3AnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaW5kaW5nLnN1YnN0cmluZygwLCAxKSA9PSAnXycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYmluZGluZy5zdWJzdHJpbmcoMSksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpbmRpbmcgPT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhcm91eF9kb20ucmVwbGFjZShlbGVtZW50LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FkZHByb3AnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaW5kaW5nLnN1YnN0cmluZygwLCAxKSA9PSAnXycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYmluZGluZy5zdWJzdHJpbmcoMSksIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGJpbmRpbmcuc3Vic3RyaW5nKDEpKSArIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpbmRpbmcgPT0gJ2NvbnRlbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhcm91eF9kb20uYXBwZW5kKGVsZW1lbnQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVtb3ZlcHJvcCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLnN1YnN0cmluZygwLCAxKSA9PSAnXycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUodmFsdWUuc3Vic3RyaW5nKDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09ICdjb250ZW50Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXJvdXhfZG9tLmNsZWFyKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdhZGRjbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFyb3V4X2Nzcy5hZGRDbGFzcyhlbGVtZW50LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyZW1vdmVjbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFyb3V4X2Nzcy5yZW1vdmVDbGFzcyhlbGVtZW50LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdhZGRzdHlsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFyb3V4X2Nzcy5zZXRQcm9wZXJ0eShlbGVtZW50LCBiaW5kaW5nLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyZW1vdmVzdHlsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFyb3V4X2Nzcy5zZXRQcm9wZXJ0eShlbGVtZW50LCB2YWx1ZSwgJ2luaGVyaXQgIWltcG9ydGFudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVwZWF0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cob3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSovXG4gICAgfTtcblxuICAgIC8vIGEgZml4IGZvciBJbnRlcm5ldCBFeHBsb3JlclxuICAgIGlmICh0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBsYXJvdXhfZG9tO1xuXG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIGV2ZW50c1xuICAgIHZhciBsYXJvdXhfZXZlbnRzID0ge1xuICAgICAgICBkZWxlZ2F0ZXM6IFtdLFxuXG4gICAgICAgIGFkZDogZnVuY3Rpb24gKGV2ZW50LCBmbmMpIHtcbiAgICAgICAgICAgIGxhcm91eF9ldmVudHMuZGVsZWdhdGVzLnB1c2goeyBldmVudDogZXZlbnQsIGZuYzogZm5jIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGludm9rZTogZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGxhcm91eF9ldmVudHMuZGVsZWdhdGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsYXJvdXhfZXZlbnRzLmRlbGVnYXRlcy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobGFyb3V4X2V2ZW50cy5kZWxlZ2F0ZXNbaXRlbV0uZXZlbnQgIT0gZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGFyb3V4X2V2ZW50cy5kZWxlZ2F0ZXNbaXRlbV0uZm5jKGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBsYXJvdXhfZXZlbnRzO1xuXG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIGhlbHBlcnNcbiAgICB2YXIgbGFyb3V4X2hlbHBlcnMgPSB7XG4gICAgICAgIHVuaXF1ZUlkOiAwLFxuXG4gICAgICAgIGdldFVuaXF1ZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvKmpzbGludCBwbHVzcGx1czogdHJ1ZSAqL1xuICAgICAgICAgICAgcmV0dXJuICd1aWQtJyArICgrK2xhcm91eF9oZWxwZXJzLnVuaXF1ZUlkKTtcbiAgICAgICAgfSxcblxuICAgICAgICBidWlsZFF1ZXJ5U3RyaW5nOiBmdW5jdGlvbiAodmFsdWVzLCByZmMzOTg2KSB7XG4gICAgICAgICAgICB2YXIgdXJpID0gJycsXG4gICAgICAgICAgICAgICAgcmVnRXggPSAvJTIwL2c7XG5cbiAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZXNbbmFtZV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmZjMzk4NiB8fCBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJpICs9ICcmJyArIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKS5yZXBsYWNlKHJlZ0V4LCAnKycpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlc1tuYW1lXS50b1N0cmluZygpKS5yZXBsYWNlKHJlZ0V4LCAnKycpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJpICs9ICcmJyArIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZXNbbmFtZV0udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB1cmkuc3Vic3RyKDEpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJ1aWxkRm9ybURhdGE6IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZXNbbmFtZV0gIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmFwcGVuZChuYW1lLCB2YWx1ZXNbbmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZm9ybWF0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2hpZnQuY2FsbChhcmdzKS5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7IHJldHVybiBBcnJheS5wcm90b3R5cGUuc2hpZnQuY2FsbChhcmdzKTsgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVwbGFjZUFsbDogZnVuY3Rpb24gKHRleHQsIGRpY3Rpb25hcnkpIHtcbiAgICAgICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAoT2JqZWN0LmtleXMoZGljdGlvbmFyeSkuam9pbignfCcpLCAnZycpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKFxuICAgICAgICAgICAgICAgIHJlLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGljdGlvbmFyeVttYXRjaF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjYW1lbENhc2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSAnJztcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWx1ZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyQ2hhciA9IHZhbHVlLmNoYXJBdChqKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyckNoYXIgPT0gJy0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gKCFmbGFnKSA/IGN1cnJDaGFyIDogY3VyckNoYXIudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYW50aUNhbWVsQ2FzZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJyc7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsdWUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyckNoYXIgPSB2YWx1ZS5jaGFyQXQoaik7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJDaGFyICE9ICctJyAmJiBjdXJyQ2hhciA9PSBjdXJyQ2hhci50b1VwcGVyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCArPSAnLScgKyBjdXJyQ2hhci50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gY3VyckNoYXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcXVvdGVBdHRyOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJmFwb3M7JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHJcXG4vZywgJyYjMTM7JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bXFxyXFxuXS9nLCAnJiMxMzsnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzcGxpY2VTdHJpbmc6IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIGNvdW50LCBhZGQpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zbGljZSgwLCBpbmRleCkgKyAoYWRkIHx8ICcnKSArIHZhbHVlLnNsaWNlKGluZGV4ICsgY291bnQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJhbmRvbTogZnVuY3Rpb24gKG1pbiwgbWF4KSB7XG4gICAgICAgICAgICByZXR1cm4gbWluICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKTtcbiAgICAgICAgfSxcblxuICAgICAgICBmaW5kOiBmdW5jdGlvbiAob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgICAgICAgb2JqLnNvbWUoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGV4dGVuZE9iamVjdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IEFycmF5LnByb3RvdHlwZS5zaGlmdC5jYWxsKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgaXNBcnJheSA9IHRhcmdldCBpbnN0YW5jZW9mIEFycmF5O1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGFyZ3VtZW50cykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gYXJndW1lbnRzW2l0ZW1dKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0YXJnZXQucHVzaChhcmd1bWVudHNbaXRlbV1bbmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgICAgICAgICAvKiB0YXJnZXRbbmFtZV0uY29uc3RydWN0b3IgPT09IE9iamVjdCAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lmhhc093blByb3BlcnR5KG5hbWUpICYmIHRhcmdldFtuYW1lXSBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFyb3V4X2hlbHBlcnMuZXh0ZW5kT2JqZWN0KHRhcmdldFtuYW1lXSwgYXJndW1lbnRzW2l0ZW1dW25hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gYXJndW1lbnRzW2l0ZW1dW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBlYWNoOiBmdW5jdGlvbiAoYXJyLCBmbmMsIHRlc3RPd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGFycikge1xuICAgICAgICAgICAgICAgIGlmICh0ZXN0T3duUHJvcGVydGllcyAmJiAhYXJyLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChmbmMoaXRlbSwgYXJyW2l0ZW1dKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1hcDogZnVuY3Rpb24gKGFyciwgZm5jLCBkb250U2tpcFJldHVybnMsIHRlc3RPd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGFycikge1xuICAgICAgICAgICAgICAgIGlmICh0ZXN0T3duUHJvcGVydGllcyAmJiAhYXJyLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBmbmMoYXJyW2l0ZW1dLCBpdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9udFNraXBSZXR1cm5zIHx8IHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5kZXg6IGZ1bmN0aW9uIChhcnIsIHZhbHVlLCB0ZXN0T3duUHJvcGVydGllcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBhcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAodGVzdE93blByb3BlcnRpZXMgJiYgIWFyci5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYXJyW2l0ZW1dID09PSBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcblxuICAgICAgICBhZWFjaDogZnVuY3Rpb24gKGFyciwgZm5jKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXJyLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZuYyhpLCBhcnJbaV0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYW1hcDogZnVuY3Rpb24gKGFyciwgZm5jLCBkb250U2tpcFJldHVybnMpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcnIubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZm5jKGFycltpXSwgaSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRvbnRTa2lwUmV0dXJucyB8fCByZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnVuc2hpZnQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFpbmRleDogZnVuY3Rpb24gKGFyciwgdmFsdWUsIHN0YXJ0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gKHN0YXJ0IHx8IDApLCBsZW5ndGggPSBhcnIubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJyW2ldID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSxcblxuICAgICAgICBjb2x1bW46IGZ1bmN0aW9uIChvYmosIGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhcm91eF9oZWxwZXJzLm1hcChvYmosIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfSwgdHJ1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2h1ZmZsZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgICBzaHVmZmxlZCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciByYW5kID0gbGFyb3V4X2hlbHBlcnMucmFuZG9tKDAsIGluZGV4KTtcbiAgICAgICAgICAgICAgICBzaHVmZmxlZFtpbmRleCsrXSA9IHNodWZmbGVkW3JhbmRdO1xuICAgICAgICAgICAgICAgIHNodWZmbGVkW3JhbmRdID0gb2JqW2l0ZW1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWVyZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBBcnJheS5wcm90b3R5cGUuc2hpZnQuY2FsbChhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgIHRtcCA9IHRhcmdldCxcbiAgICAgICAgICAgICAgICBpc0FycmF5ID0gdG1wIGluc3RhbmNlb2YgQXJyYXk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gYXJndW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wID0gdG1wLmNvbmNhdChhcmd1bWVudHNbaXRlbV0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIGFyZ3VtZW50c1tpdGVtXSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFyZ3VtZW50c1tpdGVtXS5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0bXBbYXR0cl0gPSBhcmd1bWVudHNbaXRlbV1bYXR0cl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdG1wO1xuICAgICAgICB9LFxuXG4gICAgICAgIGR1cGxpY2F0ZTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdG9BcnJheTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IG9iai5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaXRlbXMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGl0ZW1zW2ldID0gb2JqW2ldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0QXNBcnJheTogZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgdmFyIGl0ZW1zO1xuXG4gICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBpdGVtcyA9IG9iajtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gb2JqLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGl0ZW1zID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtc1tpXSA9IG9ialtpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZW1zID0gW29ial07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRMZW5ndGg6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmouY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0S2V5c1JlY3Vyc2l2ZTogZnVuY3Rpb24gKG9iaiwgZGVsaW1pdGVyLCBwcmVmaXgsIGtleXMpIHtcbiAgICAgICAgICAgIGlmIChkZWxpbWl0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlbGltaXRlciA9ICcuJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcHJlZml4ID0gJyc7XG4gICAgICAgICAgICAgICAga2V5cyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGtleXMucHVzaChwcmVmaXggKyBpdGVtKTtcblxuICAgICAgICAgICAgICAgIGlmIChvYmpbaXRlbV0gIT09IHVuZGVmaW5lZCAmJiBvYmpbaXRlbV0gIT09IG51bGwgJiYgb2JqW2l0ZW1dLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFyb3V4X2hlbHBlcnMuZ2V0S2V5c1JlY3Vyc2l2ZShvYmpbaXRlbV0sIGRlbGltaXRlciwgcHJlZml4ICsgaXRlbSArIGRlbGltaXRlciwga2V5cyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24gKG9iaiwgcGF0aCwgZGVmYXVsdFZhbHVlLCBkZWxpbWl0ZXIpIHtcbiAgICAgICAgICAgIGlmIChkZWZhdWx0VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWxpbWl0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlbGltaXRlciA9ICcuJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBvcyA9IHBhdGguaW5kZXhPZihkZWxpbWl0ZXIpO1xuICAgICAgICAgICAgdmFyIGtleTtcbiAgICAgICAgICAgIHZhciByZXN0O1xuICAgICAgICAgICAgaWYgKHBvcyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBwYXRoO1xuICAgICAgICAgICAgICAgIHJlc3QgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBwYXRoLnN1YnN0cmluZygwLCBwb3MpO1xuICAgICAgICAgICAgICAgIHJlc3QgPSBwYXRoLnN1YnN0cmluZyhwb3MgKyAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEoa2V5IGluIG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzdCA9PT0gbnVsbCB8fCByZXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGxhcm91eF9oZWxwZXJzLmdldEVsZW1lbnQob2JqW2tleV0sIHJlc3QsIGRlZmF1bHRWYWx1ZSwgZGVsaW1pdGVyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gbGFyb3V4X2hlbHBlcnM7XG5cbn0oKSk7XG4iLCIvKmpzbGludCBub21lbjogdHJ1ZSAqL1xubW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIHN0YWNrXG4gICAgdmFyIGxhcm91eF9zdGFjayA9IGZ1bmN0aW9uIChkYXRhLCBkZXB0aCwgdG9wKSB7XG4gICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5fZGVwdGggPSBkZXB0aDtcbiAgICAgICAgdGhpcy5fdG9wID0gdG9wIHx8IHRoaXM7XG5cbiAgICAgICAgdGhpcy5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgLy8gZGVsZXRlIHRoaXMuX2RhdGFba2V5XTtcblxuICAgICAgICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtrZXldKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YVtrZXldID0gbmV3IGxhcm91eF9zdGFjayhcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVwdGggP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RlcHRoICsgJy4nICsga2V5IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90b3BcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW2tleV0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gdGhpcy5fZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kYXRhW2tleV0gPT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNldCh0aGlzLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhW2tleV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90b3Aub251cGRhdGUoeyBzY29wZTogdGhpcywga2V5OiBrZXksIG9sZFZhbHVlOiBvbGRWYWx1ZSwgbmV3VmFsdWU6IG5ld1ZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnNldFJhbmdlID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICAgICAgZm9yICh2YXIgdmFsdWVLZXkgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWx1ZXMuaGFzT3duUHJvcGVydHkodmFsdWVLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0KHZhbHVlS2V5LCB2YWx1ZXNbdmFsdWVLZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmdldCA9IGZ1bmN0aW9uIChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNba2V5XSB8fCBkZWZhdWx0VmFsdWUgfHwgbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmdldFJhbmdlID0gZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB7fTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBrZXlzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFrZXlzLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhbHVlc1trZXlzW2l0ZW1dXSA9IHRoaXNba2V5c1tpdGVtXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5rZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2RhdGEpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2RhdGEpLmxlbmd0aDtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmV4aXN0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAoa2V5IGluIHRoaXMuX2RhdGEpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNba2V5XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fZGF0YVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIHRoaXMuX2RhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2RhdGEuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNbaXRlbV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2RhdGFbaXRlbV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm9udXBkYXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmFuZ2UoZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGxhcm91eF9zdGFjaztcblxufSgpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbGFyb3V4X2RvbSA9IHJlcXVpcmUoJy4vbGFyb3V4LmRvbS5qcycpLFxuICAgICAgICBsYXJvdXhfaGVscGVycyA9IHJlcXVpcmUoJy4vbGFyb3V4LmhlbHBlcnMuanMnKTtcblxuICAgIC8vIHRlbXBsYXRlc1xuICAgIHZhciBsYXJvdXhfdGVtcGxhdGVzID0ge1xuICAgICAgICBlbmdpbmVzOiB7XG4gICAgICAgICAgICBwbGFpbjoge1xuICAgICAgICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RlbXBsYXRlLCBvcHRpb25zXTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoY29tcGlsZWQsIG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBjb21waWxlZFswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3QgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RJbmRleCA9IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0SW5kZXg7XG5cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKChuZXh0SW5kZXggPSByZXN1bHQuaW5kZXhPZigne3snLCBsYXN0SW5kZXgpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJbmRleCArPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsb3NlSW5kZXggPSByZXN1bHQuaW5kZXhPZignfX0nLCBuZXh0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsb3NlSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSByZXN1bHQuc3Vic3RyaW5nKG5leHRJbmRleCwgY2xvc2VJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWN0Wyd7eycgKyBrZXkgKyAnfX0nXSA9IGxhcm91eF9oZWxwZXJzLmdldEVsZW1lbnQobW9kZWwsIGtleSwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gY2xvc2VJbmRleCArIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFyb3V4X2hlbHBlcnMucmVwbGFjZUFsbChyZXN1bHQsIGRpY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGhvZ2FuOiB7XG4gICAgICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBIb2dhbi5jb21waWxlKHRlbXBsYXRlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoY29tcGlsZWQsIG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlZC5yZW5kZXIobW9kZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG11c3RhY2hlOiB7XG4gICAgICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNdXN0YWNoZS5jb21waWxlKHRlbXBsYXRlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoY29tcGlsZWQsIG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlZChtb2RlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaGFuZGxlYmFyczoge1xuICAgICAgICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSGFuZGxlYmFycy5jb21waWxlKHRlbXBsYXRlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiAoY29tcGlsZWQsIG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlZChtb2RlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgbG9kYXNoOiB7XG4gICAgICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qanNsaW50IG5vbWVuOiB0cnVlICovXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfLmNvbXBpbGUodGVtcGxhdGUsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIChjb21waWxlZCwgbW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVkKG1vZGVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB1bmRlcnNjb3JlOiB7XG4gICAgICAgICAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gKHRlbXBsYXRlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qanNsaW50IG5vbWVuOiB0cnVlICovXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfLmNvbXBpbGUodGVtcGxhdGUsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIChjb21waWxlZCwgbW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGVkKG1vZGVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVuZ2luZTogJ3BsYWluJyxcblxuICAgICAgICBhcHBseTogZnVuY3Rpb24gKGVsZW1lbnQsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgY29udGVudCwgZW5naW5lID0gbGFyb3V4X3RlbXBsYXRlcy5lbmdpbmVzW2xhcm91eF90ZW1wbGF0ZXMuZW5naW5lXTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IDEgfHwgZWxlbWVudC5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtZW50Lm5vZGVUeXBlID09PSAxMSkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBlbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ID0gZWxlbWVudC5ub2RlVmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjb21waWxlZCA9IGVuZ2luZS5jb21waWxlKGNvbnRlbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIGVuZ2luZS5yZW5kZXIoY29tcGlsZWQsIG1vZGVsKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbnNlcnQ6IGZ1bmN0aW9uIChlbGVtZW50LCBtb2RlbCwgdGFyZ2V0LCBwb3NpdGlvbiwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIG91dHB1dCA9IGxhcm91eF90ZW1wbGF0ZXMuYXBwbHkoZWxlbWVudCwgbW9kZWwsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBsYXJvdXhfZG9tLmluc2VydCh0YXJnZXQsIHBvc2l0aW9uIHx8ICdiZWZvcmVlbmQnLCBvdXRwdXQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlcGxhY2U6IGZ1bmN0aW9uIChlbGVtZW50LCBtb2RlbCwgdGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gbGFyb3V4X3RlbXBsYXRlcy5hcHBseShlbGVtZW50LCBtb2RlbCwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGxhcm91eF9kb20ucmVwbGFjZSh0YXJnZXQsIG91dHB1dCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGxhcm91eF90ZW1wbGF0ZXM7XG5cbn0oKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gdGltZXJzXG4gICAgdmFyIGxhcm91eF90aW1lcnMgPSB7XG4gICAgICAgIGRhdGE6IFtdLFxuXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRpbWVyKSB7XG4gICAgICAgICAgICB0aW1lci5uZXh0ID0gRGF0ZS5ub3coKSArIHRpbWVyLnRpbWVvdXQ7XG4gICAgICAgICAgICBsYXJvdXhfdGltZXJzLmRhdGEucHVzaCh0aW1lcik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRLZXkgPSBudWxsO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGxhcm91eF90aW1lcnMuZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghbGFyb3V4X3RpbWVycy5kYXRhLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SXRlbSA9IGxhcm91eF90aW1lcnMuZGF0YVtpdGVtXTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SXRlbS5pZCAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRJdGVtLmlkID09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEtleSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRhcmdldEtleSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxhcm91eF90aW1lcnMuZGF0YS5zcGxpY2UodGFyZ2V0S2V5LCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9udGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgIHZhciByZW1vdmVLZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGxhcm91eF90aW1lcnMuZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghbGFyb3V4X3RpbWVycy5kYXRhLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SXRlbSA9IGxhcm91eF90aW1lcnMuZGF0YVtpdGVtXTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SXRlbS5uZXh0IDw9IG5vdykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY3VycmVudEl0ZW0ub250aWNrKGN1cnJlbnRJdGVtLnN0YXRlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSBmYWxzZSAmJiBjdXJyZW50SXRlbS5yZXNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZW0ubmV4dCA9IG5vdyArIGN1cnJlbnRJdGVtLnRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVLZXlzLnVuc2hpZnQoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0yIGluIHJlbW92ZUtleXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlbW92ZUtleXMuaGFzT3duUHJvcGVydHkoaXRlbTIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxhcm91eF90aW1lcnMuZGF0YS5zcGxpY2UocmVtb3ZlS2V5c1tpdGVtMl0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBsYXJvdXhfdGltZXJzO1xuXG59KCkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBsYXJvdXhfaGVscGVycyA9IHJlcXVpcmUoJy4vbGFyb3V4LmhlbHBlcnMuanMnKTtcblxuICAgIC8vIHRyaWdnZXJzXG4gICAgdmFyIGxhcm91eF90cmlnZ2VycyA9IHtcbiAgICAgICAgZGVsZWdhdGVzOiBbXSxcbiAgICAgICAgbGlzdDogW10sXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoY29uZGl0aW9uLCBmbmMsIHN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgY29uZGl0aW9ucyA9IGxhcm91eF9oZWxwZXJzLmdldEFzQXJyYXkoY29uZGl0aW9uKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBjb25kaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb25kaXRpb25zLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsYXJvdXhfaGVscGVycy5haW5kZXgobGFyb3V4X3RyaWdnZXJzLmxpc3QsIGNvbmRpdGlvbnNbaXRlbV0pID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsYXJvdXhfdHJpZ2dlcnMubGlzdC5wdXNoKGNvbmRpdGlvbnNbaXRlbV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFyb3V4X3RyaWdnZXJzLmRlbGVnYXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb25kaXRpb25zOiBjb25kaXRpb25zLFxuICAgICAgICAgICAgICAgIGZuYzogZm5jLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgb250cmlnZ2VyOiBmdW5jdGlvbiAodHJpZ2dlck5hbWUsIGFyZ3MpIHtcbiAgICAgICAgICAgIHZhciBldmVudElkeCA9IGxhcm91eF9oZWxwZXJzLmFpbmRleChsYXJvdXhfdHJpZ2dlcnMubGlzdCwgdHJpZ2dlck5hbWUpO1xuICAgICAgICAgICAgaWYgKGV2ZW50SWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGxhcm91eF90cmlnZ2Vycy5saXN0LnNwbGljZShldmVudElkeCwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZW1vdmVLZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGxhcm91eF90cmlnZ2Vycy5kZWxlZ2F0ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxhcm91eF90cmlnZ2Vycy5kZWxlZ2F0ZXMuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEl0ZW0gPSBsYXJvdXhfdHJpZ2dlcnMuZGVsZWdhdGVzW2l0ZW1dO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY29uZGl0aW9uS2V5IGluIGN1cnJlbnRJdGVtLmNvbmRpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50SXRlbS5jb25kaXRpb25zLmhhc093blByb3BlcnR5KGNvbmRpdGlvbktleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbmRpdGlvbk9iaiA9IGN1cnJlbnRJdGVtLmNvbmRpdGlvbnNbY29uZGl0aW9uS2V5XTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobGFyb3V4X2hlbHBlcnMuYWluZGV4KGxhcm91eF90cmlnZ2Vycy5saXN0LCBjb25kaXRpb25PYmopICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVtLmZuYyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogY3VycmVudEl0ZW0uc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogbGFyb3V4X2hlbHBlcnMuZ2V0QXNBcnJheShhcmdzKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVLZXlzLnVuc2hpZnQoaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtMiBpbiByZW1vdmVLZXlzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZW1vdmVLZXlzLmhhc093blByb3BlcnR5KGl0ZW0yKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsYXJvdXhfdHJpZ2dlcnMuZGVsZWdhdGVzLnNwbGljZShyZW1vdmVLZXlzW2l0ZW0yXSwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd0cmlnZ2VyIG5hbWU6ICcgKyB0cmlnZ2VyTmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGxhcm91eF90cmlnZ2VycztcblxufSgpKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyB2YXJzXG4gICAgdmFyIGxhcm91eF92YXJzID0ge1xuICAgICAgICBjb29raWVQYXRoOiAnLycsXG5cbiAgICAgICAgZ2V0Q29va2llOiBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArICc9W147XSsnLCAnaScpLFxuICAgICAgICAgICAgICAgIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHJlKTtcblxuICAgICAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWUgfHwgbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFswXS5zcGxpdCgnPScpWzFdKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRDb29raWU6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCkge1xuICAgICAgICAgICAgdmFyIGV4cGlyZVZhbHVlID0gJyc7XG4gICAgICAgICAgICBpZiAoZXhwaXJlcykge1xuICAgICAgICAgICAgICAgIGV4cGlyZVZhbHVlID0gJzsgZXhwaXJlcz0nICsgZXhwaXJlcy50b0dNVFN0cmluZygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICsgZXhwaXJlVmFsdWUgKyAnOyBwYXRoPScgKyAocGF0aCB8fCBsYXJvdXhfdmFycy5jb29raWVQYXRoKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVDb29raWU6IGZ1bmN0aW9uIChuYW1lLCBwYXRoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSkgKyAnPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIEdNVDsgcGF0aD0nICsgKHBhdGggfHwgbGFyb3V4X3ZhcnMuY29va2llUGF0aCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0TG9jYWw6IGZ1bmN0aW9uIChuYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gbG9jYWxTdG9yYWdlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWUgfHwgbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW25hbWVdKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRMb2NhbDogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2VbbmFtZV0gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlTG9jYWw6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW25hbWVdO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFNlc3Npb246IGZ1bmN0aW9uIChuYW1lLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gc2Vzc2lvblN0b3JhZ2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSB8fCBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZVtuYW1lXSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0U2Vzc2lvbjogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZVtuYW1lXSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVTZXNzaW9uOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgZGVsZXRlIHNlc3Npb25TdG9yYWdlW25hbWVdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBsYXJvdXhfdmFycztcblxufSgpKTtcbiIsIi8qZ2xvYmFsIE5vZGVMaXN0LCBOb2RlICovXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGxhcm91eF9kb20gPSByZXF1aXJlKCcuL2xhcm91eC5kb20uanMnKSxcbiAgICAgICAgbGFyb3V4X2NzcyA9IHJlcXVpcmUoJy4vbGFyb3V4LmNzcy5qcycpLFxuICAgICAgICBsYXJvdXhfaGVscGVycyA9IHJlcXVpcmUoJy4vbGFyb3V4LmhlbHBlcnMuanMnKTtcblxuICAgIC8vIHdyYXBwZXJcbiAgICB2YXIgbGFyb3V4X3dyYXBwZXIgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIHBhcmVudCkge1xuICAgICAgICB2YXIgc2VsZWN0aW9uO1xuXG4gICAgICAgIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3RvcjtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIE5vZGVMaXN0KSB7XG4gICAgICAgICAgICBzZWxlY3Rpb24gPSBsYXJvdXhfaGVscGVycy50b0FycmF5KHNlbGVjdG9yKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbiA9IFtzZWxlY3Rvcl07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3Rpb24gPSBsYXJvdXhfZG9tLnNlbGVjdChzZWxlY3RvciwgcGFyZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGxhcm91eF93cmFwcGVyLnNpbmdsZVRlbXBsYXRlKHNlbGVjdGlvblswXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IGxhcm91eF93cmFwcGVyLmFycmF5VGVtcGxhdGUoc2VsZWN0aW9uKTtcbiAgICB9O1xuXG4gICAgbGFyb3V4X3dyYXBwZXIuc2luZ2xlVGVtcGxhdGUgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuaXNBcnJheSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDAgfHwgaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmZpbmQgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXJvdXhfd3JhcHBlcihzZWxlY3RvciwgdGhpcy5zb3VyY2UpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBsYXJvdXhfd3JhcHBlci5hcnJheVRlbXBsYXRlID0gZnVuY3Rpb24gKGVsZW1lbnRzKSB7XG4gICAgICAgIHRoaXMuc291cmNlID0gZWxlbWVudHM7XG4gICAgICAgIHRoaXMuaXNBcnJheSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNvdXJjZVtpbmRleF07XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyQm90aCA9IDA7XG4gICAgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUgPSAxO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyQXJyYXkgPSAyO1xuXG4gICAgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXIgPSBmdW5jdGlvbiAobmFtZSwgZm5jLCBzY29wZSkge1xuICAgICAgICB2YXIgbmV3Rm5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZuYy5hcHBseShcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIFt0aGlzLnNvdXJjZV0uY29uY2F0KGxhcm91eF9oZWxwZXJzLnRvQXJyYXkoYXJndW1lbnRzKSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiAocmVzdWx0ID09PSB1bmRlZmluZWQpID8gdGhpcyA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBzd2l0Y2ggKHNjb3BlKSB7XG4gICAgICAgIGNhc2UgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGU6XG4gICAgICAgICAgICBsYXJvdXhfd3JhcHBlci5zaW5nbGVUZW1wbGF0ZS5wcm90b3R5cGVbbmFtZV0gPSBuZXdGbmM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBsYXJvdXhfd3JhcHBlci5yZWdpc3RlckFycmF5OlxuICAgICAgICAgICAgbGFyb3V4X3dyYXBwZXIuYXJyYXlUZW1wbGF0ZS5wcm90b3R5cGVbbmFtZV0gPSBuZXdGbmM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGxhcm91eF93cmFwcGVyLnNpbmdsZVRlbXBsYXRlLnByb3RvdHlwZVtuYW1lXSA9IG5ld0ZuYztcbiAgICAgICAgICAgIGxhcm91eF93cmFwcGVyLmFycmF5VGVtcGxhdGUucHJvdG90eXBlW25hbWVdID0gbmV3Rm5jO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXIoJ2F0dHInLCBsYXJvdXhfZG9tLmF0dHIsIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3RlcignZGF0YScsIGxhcm91eF9kb20uZGF0YSwgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdvbicsIGxhcm91eF9kb20uc2V0RXZlbnRTaW5nbGUsIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3Rlcignb24nLCBsYXJvdXhfZG9tLnNldEV2ZW50LCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlckFycmF5KTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3Rlcignb2ZmJywgbGFyb3V4X2RvbS51bnNldEV2ZW50LCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlckJvdGgpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdjbGVhcicsIGxhcm91eF9kb20uY2xlYXIsIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3RlcignaW5zZXJ0JywgbGFyb3V4X2RvbS5pbnNlcnQsIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3RlcigncHJlcGVuZCcsIGxhcm91eF9kb20ucHJlcGVuZCwgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdhcHBlbmQnLCBsYXJvdXhfZG9tLmFwcGVuZCwgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdyZXBsYWNlJywgbGFyb3V4X2RvbS5yZXBsYWNlLCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlclNpbmdsZSk7XG4gICAgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXIoJ3JlcGxhY2VUZXh0JywgbGFyb3V4X2RvbS5yZXBsYWNlVGV4dCwgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdyZW1vdmUnLCBsYXJvdXhfZG9tLnJlbW92ZSwgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUpO1xuXG4gICAgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXIoJ2hhc0NsYXNzJywgbGFyb3V4X2Nzcy5oYXNDbGFzcywgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdhZGRDbGFzcycsIGxhcm91eF9jc3MuYWRkQ2xhc3MsIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyQm90aCk7XG4gICAgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXIoJ3JlbW92ZUNsYXNzJywgbGFyb3V4X2Nzcy5yZW1vdmVDbGFzcywgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJCb3RoKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3RlcigndG9nZ2xlQ2xhc3MnLCBsYXJvdXhfY3NzLnRvZ2dsZUNsYXNzLCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlckJvdGgpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdnZXRQcm9wZXJ0eScsIGxhcm91eF9jc3MuZ2V0UHJvcGVydHksIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3Rlcignc2V0UHJvcGVydHknLCBsYXJvdXhfY3NzLnNldFByb3BlcnR5LCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlckJvdGgpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdzZXRUcmFuc2l0aW9uJywgbGFyb3V4X2Nzcy5zZXRUcmFuc2l0aW9uLCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlckJvdGgpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdzaG93JywgbGFyb3V4X2Nzcy5zaG93LCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlckJvdGgpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdoaWRlJywgbGFyb3V4X2Nzcy5oaWRlLCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlckJvdGgpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdoZWlnaHQnLCBsYXJvdXhfY3NzLmhlaWdodCwgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdpbm5lckhlaWdodCcsIGxhcm91eF9jc3MuaW5uZXJIZWlnaHQsIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3Rlcignb3V0ZXJIZWlnaHQnLCBsYXJvdXhfY3NzLm91dGVySGVpZ2h0LCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlclNpbmdsZSk7XG4gICAgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXIoJ3dpZHRoJywgbGFyb3V4X2Nzcy53aWR0aCwgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdpbm5lcldpZHRoJywgbGFyb3V4X2Nzcy5pbm5lcldpZHRoLCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlclNpbmdsZSk7XG4gICAgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXIoJ291dGVyV2lkdGgnLCBsYXJvdXhfY3NzLm91dGVyV2lkdGgsIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3RlcigndG9wJywgbGFyb3V4X2Nzcy50b3AsIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3RlcignbGVmdCcsIGxhcm91eF9jc3MubGVmdCwgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdhYm92ZVRoZVRvcCcsIGxhcm91eF9jc3MuYWJvdmVUaGVUb3AsIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3RlcignYmVsb3dUaGVGb2xkJywgbGFyb3V4X2Nzcy5iZWxvd1RoZUZvbGQsIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3RlcignbGVmdE9mU2NyZWVuJywgbGFyb3V4X2Nzcy5sZWZ0T2ZTY3JlZW4sIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyU2luZ2xlKTtcbiAgICBsYXJvdXhfd3JhcHBlci5yZWdpc3RlcigncmlnaHRPZlNjcmVlbicsIGxhcm91eF9jc3MucmlnaHRPZlNjcmVlbiwgbGFyb3V4X3dyYXBwZXIucmVnaXN0ZXJTaW5nbGUpO1xuICAgIGxhcm91eF93cmFwcGVyLnJlZ2lzdGVyKCdpblZpZXdwb3J0JywgbGFyb3V4X2Nzcy5pblZpZXdwb3J0LCBsYXJvdXhfd3JhcHBlci5yZWdpc3RlclNpbmdsZSk7XG5cbiAgICByZXR1cm4gbGFyb3V4X3dyYXBwZXI7XG5cbn0oKSk7XG4iXX0=\n"],"sourceRoot":"/source/"}